(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function ew(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function tw(){if(O_)return Gl;O_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var P_;function nw(){return P_||(P_=1,vm.exports=tw()),vm.exports}var v=nw(),_m={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function rw(){if(M_)return Ce;M_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=A&&P[A]||P["@@iterator"],typeof P=="function"?P:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,O={};function K(P,te,le){this.props=P,this.context=te,this.refs=O,this.updater=le||C}K.prototype.isReactComponent={},K.prototype.setState=function(P,te){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,te,"setState")},K.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function V(){}V.prototype=K.prototype;function ae(P,te,le){this.props=P,this.context=te,this.refs=O,this.updater=le||C}var ne=ae.prototype=new V;ne.constructor=ae,R(ne,K.prototype),ne.isPureReactComponent=!0;var Re=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},je=Object.prototype.hasOwnProperty;function k(P,te,le,re,ge,Ie){return le=Ie.ref,{$$typeof:r,type:P,key:te,ref:le!==void 0?le:null,props:Ie}}function N(P,te){return k(P.type,te,void 0,void 0,void 0,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function j(P){var te={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(le){return te[le]})}var L=/\/+/g;function q(P,te){return typeof P=="object"&&P!==null&&P.key!=null?j(""+P.key):te.toString(36)}function x(){}function Gt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(x,x):(P.status="pending",P.then(function(te){P.status==="pending"&&(P.status="fulfilled",P.value=te)},function(te){P.status==="pending"&&(P.status="rejected",P.reason=te)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function mt(P,te,le,re,ge){var Ie=typeof P;(Ie==="undefined"||Ie==="boolean")&&(P=null);var Se=!1;if(P===null)Se=!0;else switch(Ie){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(P.$$typeof){case r:case e:Se=!0;break;case T:return Se=P._init,mt(Se(P._payload),te,le,re,ge)}}if(Se)return ge=ge(P),Se=re===""?"."+q(P,0):re,Re(ge)?(le="",Se!=null&&(le=Se.replace(L,"$&/")+"/"),mt(ge,te,le,"",function(ar){return ar})):ge!=null&&(D(ge)&&(ge=N(ge,le+(ge.key==null||P&&P.key===ge.key?"":(""+ge.key).replace(L,"$&/")+"/")+Se)),te.push(ge)),1;Se=0;var jt=re===""?".":re+":";if(Re(P))for(var tt=0;tt<P.length;tt++)re=P[tt],Ie=jt+q(re,tt),Se+=mt(re,te,le,Ie,ge);else if(tt=b(P),typeof tt=="function")for(P=tt.call(P),tt=0;!(re=P.next()).done;)re=re.value,Ie=jt+q(re,tt++),Se+=mt(re,te,le,Ie,ge);else if(Ie==="object"){if(typeof P.then=="function")return mt(Gt(P),te,le,re,ge);throw te=String(P),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Se}function $(P,te,le){if(P==null)return P;var re=[],ge=0;return mt(P,re,"","",function(Ie){return te.call(le,Ie,ge++)}),re}function oe(P){if(P._status===-1){var te=P._result;te=te(),te.then(function(le){(P._status===0||P._status===-1)&&(P._status=1,P._result=le)},function(le){(P._status===0||P._status===-1)&&(P._status=2,P._result=le)}),P._status===-1&&(P._status=0,P._result=te)}if(P._status===1)return P._result.default;throw P._result}var me=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function ze(){}return Ce.Children={map:$,forEach:function(P,te,le){$(P,function(){te.apply(this,arguments)},le)},count:function(P){var te=0;return $(P,function(){te++}),te},toArray:function(P){return $(P,function(te){return te})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ce.Component=K,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ae,Ce.StrictMode=a,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(P){return fe.H.useMemoCache(P)}},Ce.cache=function(P){return function(){return P.apply(null,arguments)}},Ce.cloneElement=function(P,te,le){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var re=R({},P.props),ge=P.key,Ie=void 0;if(te!=null)for(Se in te.ref!==void 0&&(Ie=void 0),te.key!==void 0&&(ge=""+te.key),te)!je.call(te,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&te.ref===void 0||(re[Se]=te[Se]);var Se=arguments.length-2;if(Se===1)re.children=le;else if(1<Se){for(var jt=Array(Se),tt=0;tt<Se;tt++)jt[tt]=arguments[tt+2];re.children=jt}return k(P.type,ge,void 0,void 0,Ie,re)},Ce.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},Ce.createElement=function(P,te,le){var re,ge={},Ie=null;if(te!=null)for(re in te.key!==void 0&&(Ie=""+te.key),te)je.call(te,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=te[re]);var Se=arguments.length-2;if(Se===1)ge.children=le;else if(1<Se){for(var jt=Array(Se),tt=0;tt<Se;tt++)jt[tt]=arguments[tt+2];ge.children=jt}if(P&&P.defaultProps)for(re in Se=P.defaultProps,Se)ge[re]===void 0&&(ge[re]=Se[re]);return k(P,Ie,void 0,void 0,null,ge)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(P){return{$$typeof:m,render:P}},Ce.isValidElement=D,Ce.lazy=function(P){return{$$typeof:T,_payload:{_status:-1,_result:P},_init:oe}},Ce.memo=function(P,te){return{$$typeof:g,type:P,compare:te===void 0?null:te}},Ce.startTransition=function(P){var te=fe.T,le={};fe.T=le;try{var re=P(),ge=fe.S;ge!==null&&ge(le,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ze,me)}catch(Ie){me(Ie)}finally{fe.T=te}},Ce.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Ce.use=function(P){return fe.H.use(P)},Ce.useActionState=function(P,te,le){return fe.H.useActionState(P,te,le)},Ce.useCallback=function(P,te){return fe.H.useCallback(P,te)},Ce.useContext=function(P){return fe.H.useContext(P)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(P,te){return fe.H.useDeferredValue(P,te)},Ce.useEffect=function(P,te,le){var re=fe.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(P,te)},Ce.useId=function(){return fe.H.useId()},Ce.useImperativeHandle=function(P,te,le){return fe.H.useImperativeHandle(P,te,le)},Ce.useInsertionEffect=function(P,te){return fe.H.useInsertionEffect(P,te)},Ce.useLayoutEffect=function(P,te){return fe.H.useLayoutEffect(P,te)},Ce.useMemo=function(P,te){return fe.H.useMemo(P,te)},Ce.useOptimistic=function(P,te){return fe.H.useOptimistic(P,te)},Ce.useReducer=function(P,te,le){return fe.H.useReducer(P,te,le)},Ce.useRef=function(P){return fe.H.useRef(P)},Ce.useState=function(P){return fe.H.useState(P)},Ce.useSyncExternalStore=function(P,te,le){return fe.H.useSyncExternalStore(P,te,le)},Ce.useTransition=function(){return fe.H.useTransition()},Ce.version="19.1.1",Ce}var V_;function vp(){return V_||(V_=1,_m.exports=rw()),_m.exports}var z=vp();const Xa=ew(z);var Em={exports:{}},Ql={},Tm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function iw(){return j_||(j_=1,function(r){function e($,oe){var me=$.length;$.push(oe);e:for(;0<me;){var ze=me-1>>>1,P=$[ze];if(0<o(P,oe))$[ze]=oe,$[me]=P,me=ze;else break e}}function n($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var oe=$[0],me=$.pop();if(me!==oe){$[0]=me;e:for(var ze=0,P=$.length,te=P>>>1;ze<te;){var le=2*(ze+1)-1,re=$[le],ge=le+1,Ie=$[ge];if(0>o(re,me))ge<P&&0>o(Ie,re)?($[ze]=Ie,$[ge]=me,ze=ge):($[ze]=re,$[le]=me,ze=le);else if(ge<P&&0>o(Ie,me))$[ze]=Ie,$[ge]=me,ze=ge;else break e}}return oe}function o($,oe){var me=$.sortIndex-oe.sortIndex;return me!==0?me:$.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var p=[],g=[],T=1,A=null,b=3,C=!1,R=!1,O=!1,K=!1,V=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function Re($){for(var oe=n(g);oe!==null;){if(oe.callback===null)a(g);else if(oe.startTime<=$)a(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function fe($){if(O=!1,Re($),!R)if(n(p)!==null)R=!0,je||(je=!0,q());else{var oe=n(g);oe!==null&&mt(fe,oe.startTime-$)}}var je=!1,k=-1,N=5,D=-1;function j(){return K?!0:!(r.unstable_now()-D<N)}function L(){if(K=!1,je){var $=r.unstable_now();D=$;var oe=!0;try{e:{R=!1,O&&(O=!1,ae(k),k=-1),C=!0;var me=b;try{t:{for(Re($),A=n(p);A!==null&&!(A.expirationTime>$&&j());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,b=A.priorityLevel;var P=ze(A.expirationTime<=$);if($=r.unstable_now(),typeof P=="function"){A.callback=P,Re($),oe=!0;break t}A===n(p)&&a(p),Re($)}else a(p);A=n(p)}if(A!==null)oe=!0;else{var te=n(g);te!==null&&mt(fe,te.startTime-$),oe=!1}}break e}finally{A=null,b=me,C=!1}oe=void 0}}finally{oe?q():je=!1}}}var q;if(typeof ne=="function")q=function(){ne(L)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Gt=x.port2;x.port1.onmessage=L,q=function(){Gt.postMessage(null)}}else q=function(){V(L,0)};function mt($,oe){k=V(function(){$(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function($){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var me=b;b=oe;try{return $()}finally{b=me}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function($,oe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=b;b=$;try{return oe()}finally{b=me}},r.unstable_scheduleCallback=function($,oe,me){var ze=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,$){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=me+P,$={id:T++,callback:oe,priorityLevel:$,startTime:me,expirationTime:P,sortIndex:-1},me>ze?($.sortIndex=me,e(g,$),n(p)===null&&$===n(g)&&(O?(ae(k),k=-1):O=!0,mt(fe,me-ze))):($.sortIndex=P,e(p,$),R||C||(R=!0,je||(je=!0,q()))),$},r.unstable_shouldYield=j,r.unstable_wrapCallback=function($){var oe=b;return function(){var me=b;b=oe;try{return $.apply(this,arguments)}finally{b=me}}}}(bm)),bm}var k_;function aw(){return k_||(k_=1,Tm.exports=iw()),Tm.exports}var Sm={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function sw(){if(L_)return rn;L_=1;var r=vp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,rn.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,T)},rn.flushSync=function(p){var g=d.T,T=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=g,a.p=T,a.d.f()}},rn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},rn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},rn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,A=m(T,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:C}):T==="script"&&a.d.X(p,{crossOrigin:A,integrity:b,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},rn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,A=m(T,g.crossOrigin);a.d.L(p,T,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},rn.requestFormReset=function(p){a.d.r(p)},rn.unstable_batchedUpdates=function(p,g){return p(g)},rn.useFormState=function(p,g,T){return d.H.useFormState(p,g,T)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.1.1",rn}var U_;function ow(){if(U_)return Sm.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=sw(),Sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function lw(){if(q_)return Ql;q_=1;var r=aw(),e=vp(),n=ow();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return m(h),t;if(f===l)return m(h),i;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var E=!1,S=h.child;S;){if(S===s){E=!0,s=h,l=f;break}if(S===l){E=!0,l=h,s=f;break}S=S.sibling}if(!E){for(S=f.child;S;){if(S===s){E=!0,s=f,l=h;break}if(S===l){E=!0,l=f,s=h;break}S=S.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Gt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case K:return"Profiler";case O:return"StrictMode";case fe:return"Suspense";case je:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case ae:return(t._context.displayName||"Context")+".Consumer";case Re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return i=t.displayName||null,i!==null?i:Gt(t.type)||"Memo";case N:i=t._payload,t=t._init;try{return Gt(t(i))}catch{}}return null}var mt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],P=-1;function te(t){return{current:t}}function le(t){0>P||(t.current=ze[P],ze[P]=null,P--)}function re(t,i){P++,ze[P]=t.current,t.current=i}var ge=te(null),Ie=te(null),Se=te(null),jt=te(null);function tt(t,i){switch(re(Se,i),re(Ie,t),re(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?s_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=s_(i),t=o_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ge),re(ge,t)}function ar(){le(ge),le(Ie),le(Se)}function mi(t){t.memoizedState!==null&&re(jt,t);var i=ge.current,s=o_(i,t.type);i!==s&&(re(Ie,t),re(ge,s))}function Dr(t){Ie.current===t&&(le(ge),le(Ie)),jt.current===t&&(le(jt),ql._currentValue=me)}var ha=Object.prototype.hasOwnProperty,da=r.unstable_scheduleCallback,fa=r.unstable_cancelCallback,ko=r.unstable_shouldYield,Oc=r.unstable_requestPaint,Dn=r.unstable_now,yd=r.unstable_getCurrentPriorityLevel,Lo=r.unstable_ImmediatePriority,us=r.unstable_UserBlockingPriority,ma=r.unstable_NormalPriority,vd=r.unstable_LowPriority,hs=r.unstable_IdlePriority,Uo=r.log,Pc=r.unstable_setDisableYieldValue,pt=null,Ke=null;function En(t){if(typeof Uo=="function"&&Pc(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(pt,t)}catch{}}var tn=Math.clz32?Math.clz32:pa,Mc=Math.log,_d=Math.LN2;function pa(t){return t>>>=0,t===0?32:31-(Mc(t)/_d|0)|0}var ga=256,ya=4194304;function Qn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ds(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?h=Qn(l):(E&=S,E!==0?h=Qn(E):s||(s=S&~t,s!==0&&(h=Qn(s))))):(S=l&~f,S!==0?h=Qn(S):E!==0?h=Qn(E):s||(s=l&~t,s!==0&&(h=Qn(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function va(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function qo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var t=ga;return ga<<=1,(ga&4194048)===0&&(ga=256),t}function zo(){var t=ya;return ya<<=1,(ya&62914560)===0&&(ya=4194304),t}function xr(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Or(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ho(t,i,s,l,h,f){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,I=t.expirationTimes,F=t.hiddenUpdates;for(s=E&~s;0<s;){var X=31-tn(s),J=1<<X;S[X]=0,I[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var Q=G[X];Q!==null&&(Q.lane&=-536870913)}s&=~J}l!==0&&sr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(E&~i))}function sr(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-tn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Fo(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-tn(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function pi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gi(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:R_(t.type))}function Vc(t,i){var s=oe.p;try{return oe.p=t,i()}finally{oe.p=s}}var at=Math.random().toString(36).slice(2),Dt="__reactFiber$"+at,St="__reactProps$"+at,xn="__reactContainer$"+at,Go="__reactEvents$"+at,Ed="__reactListeners$"+at,yi="__reactHandles$"+at,jc="__reactResources$"+at,_a="__reactMarker$"+at;function vi(t){delete t[Dt],delete t[St],delete t[Go],delete t[Ed],delete t[yi]}function Pr(t){var i=t[Dt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[xn]||s[Dt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=h_(t);t!==null;){if(s=t[Dt])return s;t=h_(t)}return i}t=s,s=t.parentNode}return null}function or(t){if(t=t[Dt]||t[xn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function lr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function hn(t){var i=t[jc];return i||(i=t[jc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function vt(t){t[_a]=!0}var Qo=new Set,ms={};function Kn(t,i){Mr(t,i),Mr(t+"Capture",i)}function Mr(t,i){for(ms[t]=i,t=0;t<i.length;t++)Qo.add(i[t])}var kc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lc={},Ea={};function Uc(t){return ha.call(Ea,t)?!0:ha.call(Lc,t)?!1:kc.test(t)?Ea[t]=!0:(Lc[t]=!0,!1)}function _i(t,i,s){if(Uc(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function cr(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Qt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var Ta,qc;function Vr(t){if(Ta===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ta=i&&i[1]||"",qc=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+t+qc}var ps=!1;function gs(t,i){if(!t||ps)return"";ps=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var G=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){G=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){G=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],S=f[1];if(E&&S){var I=E.split(`
`),F=S.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===F.length)for(l=I.length-1,h=F.length-1;1<=l&&0<=h&&I[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==F[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ps=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Vr(s):""}function Ko(t){switch(t.tag){case 26:case 27:case 5:return Vr(t.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 15:return gs(t.type,!1);case 11:return gs(t.type.render,!1);case 1:return gs(t.type,!0);case 31:return Vr("Activity");default:return""}}function ys(t){try{var i="";do i+=Ko(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Td(t){var i=Yo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,f.call(this,E)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function vs(t){t._valueTracker||(t._valueTracker=Td(t))}function $o(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Yo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bd=/[\n"\\]/g;function At(t){return t.replace(bd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tn(t,i,s,l,h,f,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+dn(i)):t.value!==""+dn(i)&&(t.value=""+dn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Ei(t,E,dn(i)):s!=null?Ei(t,E,dn(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+dn(S):t.removeAttribute("name")}function Sa(t,i,s,l,h,f,E,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;s=s!=null?""+dn(s):"",i=i!=null?""+dn(i):s,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Ei(t,i,s){i==="number"&&ba(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function jr(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+dn(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Xe(t,i,s){if(i!=null&&(i=""+dn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+dn(s):""}function Aa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(mt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=dn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function On(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var wa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||wa.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Xo(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Bc(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Bc(t,f,i[f])}function Wo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ad=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _s(t){return Ad.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var kr=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lr=null,Ur=null;function Zo(t){var i=or(t);if(i&&(t=i.stateNode)){var s=t[St]||null;e:switch(t=i.stateNode,i.type){case"input":if(Tn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+At(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[St]||null;if(!h)throw Error(a(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&$o(l)}break e;case"textarea":Xe(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&jr(t,!!s.multiple,i,!1)}}}var ur=!1;function zc(t,i,s){if(ur)return t(i,s);ur=!0;try{var l=t(i);return l}finally{if(ur=!1,(Lr!==null||Ur!==null)&&(Vu(),Lr&&(i=Lr,t=Ur,Ur=Lr=null,Zo(i),t)))for(i=0;i<t.length;i++)Zo(t[i])}}function Ra(t,i){var s=t.stateNode;if(s===null)return null;var l=s[St]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Yn)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Mn=!1}var hr=null,Ti=null,qr=null;function Jo(){if(qr)return qr;var t,i=Ti,s=i.length,l,h="value"in hr?hr.value:hr.textContent,f=h.length;for(t=0;t<s&&i[t]===h[t];t++);var E=s-t;for(l=1;l<=E&&i[s-l]===h[f-l];l++);return qr=h.slice(t,1<l?1-l:void 0)}function dr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function fr(){return!0}function el(){return!1}function kt(t){function i(s,l,h,f,E){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?fr:el,this.isPropagationStopped=el,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=kt(Fe),Na=T({},Fe,{view:0,detail:0}),Hc=kt(Na),Ts,bs,mr,Ia=T({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mr&&(mr&&t.type==="mousemove"?(Ts=t.screenX-mr.screenX,bs=t.screenY-mr.screenY):bs=Ts=0,mr=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:bs}}),Vn=kt(Ia),Fc=T({},Ia,{dataTransfer:0}),wd=kt(Fc),Da=T({},Na,{relatedTarget:0}),Ss=kt(Da),tl=T({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),As=kt(tl),Gc=T({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ws=kt(Gc),Rd=T({},Fe,{data:0}),nl=kt(Rd),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Kc[t])?!!i[t]:!1}function Oa(){return rl}var Yc=T({},Na,{key:function(t){if(t.key){var i=xa[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(t){return t.type==="keypress"?dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rs=kt(Yc),$c=T({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=kt($c),Br=T({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Xc=kt(Br),Wc=T({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zc=kt(Wc),Jc=T({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cs=kt(Jc),fn=T({},Fe,{newState:0,oldState:0}),eu=kt(fn),tu=[9,13,27,32],pr=Yn&&"CompositionEvent"in window,u=null;Yn&&"documentMode"in document&&(u=document.documentMode);var y=Yn&&"TextEvent"in window&&!u,_=Yn&&(!pr||u&&8<u&&11>=u),w=" ",B=!1;function Y(t,i){switch(t){case"keyup":return tu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function xt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(B=!0,w);case"textInput":return t=i.data,t===w&&B?null:t;default:return null}}function Le(t,i){if(ke)return t==="compositionend"||!pr&&Y(t,i)?(t=Jo(),qr=Ti=hr=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Lt[t.type]:i==="textarea"}function zr(t,i,s,l){Lr?Ur?Ur.push(l):Ur=[l]:Lr=l,i=Bu(i,"onChange"),0<i.length&&(s=new Es("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Kt=null,gr=null;function al(t){t_(t,0)}function nu(t){var i=lr(t);if($o(i))return t}function bg(t,i){if(t==="change")return i}var Sg=!1;if(Yn){var Cd;if(Yn){var Nd="oninput"in document;if(!Nd){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Nd=typeof Ag.oninput=="function"}Cd=Nd}else Cd=!1;Sg=Cd&&(!document.documentMode||9<document.documentMode)}function wg(){Kt&&(Kt.detachEvent("onpropertychange",Rg),gr=Kt=null)}function Rg(t){if(t.propertyName==="value"&&nu(gr)){var i=[];zr(i,gr,t,Pn(t)),zc(al,i)}}function DS(t,i,s){t==="focusin"?(wg(),Kt=i,gr=s,Kt.attachEvent("onpropertychange",Rg)):t==="focusout"&&wg()}function xS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nu(gr)}function OS(t,i){if(t==="click")return nu(i)}function PS(t,i){if(t==="input"||t==="change")return nu(i)}function MS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:MS;function sl(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ha.call(i,h)||!bn(t[h],i[h]))return!1}return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,i){var s=Cg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Cg(s)}}function Ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ba(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=ba(t.document)}return i}function Id(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var VS=Yn&&"documentMode"in document&&11>=document.documentMode,Ns=null,Dd=null,ol=null,xd=!1;function xg(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xd||Ns==null||Ns!==ba(l)||(l=Ns,"selectionStart"in l&&Id(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&sl(ol,l)||(ol=l,l=Bu(Dd,"onSelect"),0<l.length&&(i=new Es("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=Ns)))}function Pa(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Is={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},Od={},Og={};Yn&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Ma(t){if(Od[t])return Od[t];if(!Is[t])return t;var i=Is[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Og)return Od[t]=i[s];return t}var Pg=Ma("animationend"),Mg=Ma("animationiteration"),Vg=Ma("animationstart"),jS=Ma("transitionrun"),kS=Ma("transitionstart"),LS=Ma("transitioncancel"),jg=Ma("transitionend"),kg=new Map,Pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pd.push("scrollEnd");function $n(t,i){kg.set(t,i),Kn(i,[t])}var Lg=new WeakMap;function jn(t,i){if(typeof t=="object"&&t!==null){var s=Lg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:ys(i)},Lg.set(t,i),i)}return{value:t,source:i,stack:ys(i)}}var kn=[],Ds=0,Md=0;function ru(){for(var t=Ds,i=Md=Ds=0;i<t;){var s=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var h=kn[i];kn[i++]=null;var f=kn[i];if(kn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}f!==0&&Ug(s,h,f)}}function iu(t,i,s,l){kn[Ds++]=t,kn[Ds++]=i,kn[Ds++]=s,kn[Ds++]=l,Md|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vd(t,i,s,l){return iu(t,i,s,l),au(t)}function xs(t,i){return iu(t,null,null,i),au(t)}function Ug(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-tn(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),f):null}function au(t){if(50<Ol)throw Ol=0,zf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Os={};function US(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,i,s,l){return new US(t,i,s,l)}function jd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hr(t,i){var s=t.alternate;return s===null?(s=Sn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function qg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function su(t,i,s,l,h,f){var E=0;if(l=t,typeof t=="function")jd(t)&&(E=1);else if(typeof t=="string")E=BA(t,s,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=Sn(31,s,i,h),t.elementType=D,t.lanes=f,t;case R:return Va(s.children,h,f,i);case O:E=8,h|=24;break;case K:return t=Sn(12,s,i,h|2),t.elementType=K,t.lanes=f,t;case fe:return t=Sn(13,s,i,h),t.elementType=fe,t.lanes=f,t;case je:return t=Sn(19,s,i,h),t.elementType=je,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:case ne:E=10;break e;case ae:E=9;break e;case Re:E=11;break e;case k:E=14;break e;case N:E=16,l=null;break e}E=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Sn(E,s,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function Va(t,i,s,l){return t=Sn(7,t,l,i),t.lanes=s,t}function kd(t,i,s){return t=Sn(6,t,null,i),t.lanes=s,t}function Ld(t,i,s){return i=Sn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ps=[],Ms=0,ou=null,lu=0,Ln=[],Un=0,ja=null,Fr=1,Gr="";function ka(t,i){Ps[Ms++]=lu,Ps[Ms++]=ou,ou=t,lu=i}function Bg(t,i,s){Ln[Un++]=Fr,Ln[Un++]=Gr,Ln[Un++]=ja,ja=t;var l=Fr;t=Gr;var h=32-tn(l)-1;l&=~(1<<h),s+=1;var f=32-tn(i)+h;if(30<f){var E=h-h%5;f=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Fr=1<<32-tn(i)+h|s<<h|l,Gr=f+t}else Fr=1<<f|s<<h|l,Gr=t}function Ud(t){t.return!==null&&(ka(t,1),Bg(t,1,0))}function qd(t){for(;t===ou;)ou=Ps[--Ms],Ps[Ms]=null,lu=Ps[--Ms],Ps[Ms]=null;for(;t===ja;)ja=Ln[--Un],Ln[Un]=null,Gr=Ln[--Un],Ln[Un]=null,Fr=Ln[--Un],Ln[Un]=null}var mn=null,gt=null,He=!1,La=null,yr=!1,Bd=Error(a(519));function Ua(t){var i=Error(a(418,""));throw ul(jn(i,t)),Bd}function zg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[Dt]=t,i[St]=l,s){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(s=0;s<Ml.length;s++)Oe(Ml[s],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Sa(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),vs(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Aa(i,l.value,l.defaultValue,l.children),vs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||a_(i.textContent,s)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=zu),i=!0):i=!1,i||Ua(t)}function Hg(t){for(mn=t.return;mn;)switch(mn.tag){case 5:case 13:yr=!1;return;case 27:case 3:yr=!0;return;default:mn=mn.return}}function ll(t){if(t!==mn)return!1;if(!He)return Hg(t),He=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||im(t.type,t.memoizedProps)),s=!s),s&&gt&&Ua(t),Hg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){gt=Wn(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}gt=null}}else i===27?(i=gt,ki(t.type)?(t=lm,lm=null,gt=t):gt=i):gt=mn?Wn(t.stateNode.nextSibling):null;return!0}function cl(){gt=mn=null,He=!1}function Fg(){var t=La;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),La=null),t}function ul(t){La===null?La=[t]:La.push(t)}var zd=te(null),qa=null,Qr=null;function bi(t,i,s){re(zd,i._currentValue),i._currentValue=s}function Kr(t){t._currentValue=zd.current,le(zd)}function Hd(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Fd(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var E=h.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=h;for(var I=0;I<i.length;I++)if(S.context===i[I]){f.lanes|=s,S=f.alternate,S!==null&&(S.lanes|=s),Hd(f.return,s,t),l||(E=null);break e}f=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=s,f=E.alternate,f!==null&&(f.lanes|=s),Hd(E,s,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function hl(t,i,s,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var S=h.type;bn(h.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(h===jt.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}h=h.return}t!==null&&Fd(i,t,s,l),i.flags|=262144}function cu(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ba(t){qa=t,Qr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return Gg(qa,t)}function uu(t,i){return qa===null&&Ba(t),Gg(t,i)}function Gg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Qr===null){if(t===null)throw Error(a(308));Qr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qr=Qr.next=i;return s}var qS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},BS=r.unstable_scheduleCallback,zS=r.unstable_NormalPriority,Pt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gd(){return{controller:new qS,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&BS(zS,function(){t.controller.abort()})}var fl=null,Qd=0,Vs=0,js=null;function HS(t,i){if(fl===null){var s=fl=[];Qd=0,Vs=$f(),js={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Qd++,i.then(Qg,Qg),i}function Qg(){if(--Qd===0&&fl!==null){js!==null&&(js.status="fulfilled");var t=fl;fl=null,Vs=0,js=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function FS(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Kg=$.S;$.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&HS(t,i),Kg!==null&&Kg(t,i)};var za=te(null);function Kd(){var t=za.current;return t!==null?t:nt.pooledCache}function hu(t,i){i===null?re(za,za.current):re(za,i.pool)}function Yg(){var t=Kd();return t===null?null:{parent:Pt._currentValue,pool:t}}var ml=Error(a(460)),$g=Error(a(474)),du=Error(a(542)),Yd={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fu(){}function Wg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(fu,fu),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jg(t),t;default:if(typeof i.status=="string")i.then(fu,fu);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jg(t),t}throw pl=i,ml}}var pl=null;function Zg(){if(pl===null)throw Error(a(459));var t=pl;return pl=null,t}function Jg(t){if(t===ml||t===du)throw Error(a(483))}var Si=!1;function $d(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ai(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wi(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=au(t),Ug(t,null,s),i}return iu(t,l,i,s),au(t)}function gl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Fo(t,s)}}function Wd(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=E:f=f.next=E,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Zd=!1;function yl(){if(Zd){var t=js;if(t!==null)throw t}}function vl(t,i,s,l){Zd=!1;var h=t.updateQueue;Si=!1;var f=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var I=S,F=I.next;I.next=null,E===null?f=F:E.next=F,E=I;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==E&&(S===null?X.firstBaseUpdate=F:S.next=F,X.lastBaseUpdate=I))}if(f!==null){var J=h.baseState;E=0,X=F=I=null,S=f;do{var G=S.lane&-536870913,Q=G!==S.lane;if(Q?(Ue&G)===G:(l&G)===G){G!==0&&G===Vs&&(Zd=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var be=t,ve=S;G=i;var Je=s;switch(ve.tag){case 1:if(be=ve.payload,typeof be=="function"){J=be.call(Je,J,G);break e}J=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ve.payload,G=typeof be=="function"?be.call(Je,J,G):be,G==null)break e;J=T({},J,G);break e;case 2:Si=!0}}G=S.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(F=X=Q,I=J):X=X.next=Q,E|=G;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(I=J),h.baseState=I,h.firstBaseUpdate=F,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),Pi|=E,t.lanes=E,t.memoizedState=J}}function ey(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function ty(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ey(s[t],i)}var ks=te(null),mu=te(0);function ny(t,i){t=ei,re(mu,t),re(ks,i),ei=t|i.baseLanes}function Jd(){re(mu,ei),re(ks,ks.current)}function ef(){ei=mu.current,le(ks),le(mu)}var Ri=0,Ne=null,We=null,wt=null,pu=!1,Ls=!1,Ha=!1,gu=0,_l=0,Us=null,GS=0;function _t(){throw Error(a(321))}function tf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!bn(t[s],i[s]))return!1;return!0}function nf(t,i,s,l,h,f){return Ri=f,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Uy:qy,Ha=!1,f=s(l,h),Ha=!1,Ls&&(f=iy(i,s,l,h)),ry(t),f}function ry(t){$.H=bu;var i=We!==null&&We.next!==null;if(Ri=0,wt=We=Ne=null,pu=!1,_l=0,Us=null,i)throw Error(a(300));t===null||Ut||(t=t.dependencies,t!==null&&cu(t)&&(Ut=!0))}function iy(t,i,s,l){Ne=t;var h=0;do{if(Ls&&(Us=null),_l=0,Ls=!1,25<=h)throw Error(a(301));if(h+=1,wt=We=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=ZS,f=i(s,l)}while(Ls);return f}function QS(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?El(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ne.flags|=1024),i}function rf(){var t=gu!==0;return gu=0,t}function af(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function sf(t){if(pu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}pu=!1}Ri=0,wt=We=Ne=null,Ls=!1,_l=gu=0,Us=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ne.memoizedState=wt=t:wt=wt.next=t,wt}function Rt(){if(We===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=wt===null?Ne.memoizedState:wt.next;if(i!==null)wt=i,We=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?Ne.memoizedState=wt=t:wt=wt.next=t}return wt}function of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var i=_l;return _l+=1,Us===null&&(Us=[]),t=Wg(Us,t,i),i=Ne,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Uy:qy),t}function yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===ne)return nn(t)}throw Error(a(438,String(t)))}function lf(t){var i=null,s=Ne.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=of(),Ne.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=j;return i.index++,s}function Yr(t,i){return typeof i=="function"?i(t):i}function vu(t){var i=Rt();return cf(i,We,t)}function cf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var E=h.next;h.next=f.next,f.next=E}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var S=E=null,I=null,F=i,X=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Ue&J)===J:(Ri&J)===J){var G=F.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===Vs&&(X=!0);else if((Ri&G)===G){F=F.next,G===Vs&&(X=!0);continue}else J={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(S=I=J,E=f):I=I.next=J,Ne.lanes|=G,Pi|=G;J=F.action,Ha&&s(f,J),f=F.hasEagerState?F.eagerState:s(f,J)}else G={lane:J,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(S=I=G,E=f):I=I.next=G,Ne.lanes|=J,Pi|=J;F=F.next}while(F!==null&&F!==i);if(I===null?E=f:I.next=S,!bn(f,t.memoizedState)&&(Ut=!0,X&&(s=js,s!==null)))throw s;t.memoizedState=f,t.baseState=E,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function uf(t){var i=Rt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do f=t(f,E.action),E=E.next;while(E!==h);bn(f,i.memoizedState)||(Ut=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,l]}function ay(t,i,s){var l=Ne,h=Rt(),f=He;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!bn((We||h).memoizedState,s);E&&(h.memoizedState=s,Ut=!0),h=h.queue;var S=ly.bind(null,l,h,t);if(Tl(2048,8,S,[t]),h.getSnapshot!==i||E||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,qs(9,_u(),oy.bind(null,l,h,s,i),null),nt===null)throw Error(a(349));f||(Ri&124)!==0||sy(l,i,s)}return s}function sy(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ne.updateQueue,i===null?(i=of(),Ne.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function oy(t,i,s,l){i.value=s,i.getSnapshot=l,cy(i)&&uy(t)}function ly(t,i,s){return s(function(){cy(i)&&uy(t)})}function cy(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!bn(t,s)}catch{return!0}}function uy(t){var i=xs(t,2);i!==null&&Nn(i,t,2)}function hf(t){var i=pn();if(typeof t=="function"){var s=t;if(t=s(),Ha){En(!0);try{s()}finally{En(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:t},i}function hy(t,i,s,l){return t.baseState=s,cf(t,We,typeof l=="function"?l:Yr)}function KS(t,i,s,l,h){if(Tu(t))throw Error(a(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};$.T!==null?s(!0):f.isTransition=!1,l(f),s=i.pending,s===null?(f.next=i.pending=f,dy(i,f)):(f.next=s.next,i.pending=s.next=f)}}function dy(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=$.T,E={};$.T=E;try{var S=s(h,l),I=$.S;I!==null&&I(E,S),fy(t,i,S)}catch(F){df(t,i,F)}finally{$.T=f}}else try{f=s(h,l),fy(t,i,f)}catch(F){df(t,i,F)}}function fy(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){my(t,i,l)},function(l){return df(t,i,l)}):my(t,i,s)}function my(t,i,s){i.status="fulfilled",i.value=s,py(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,dy(t,s)))}function df(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,py(i),i=i.next;while(i!==l)}t.action=null}function py(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function gy(t,i){return i}function yy(t,i){if(He){var s=nt.formState;if(s!==null){e:{var l=Ne;if(He){if(gt){t:{for(var h=gt,f=yr;h.nodeType!==8;){if(!f){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){gt=Wn(h.nextSibling),l=h.data==="F!";break e}}Ua(l)}l=!1}l&&(i=s[0])}}return s=pn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:i},s.queue=l,s=jy.bind(null,Ne,l),l.dispatch=s,l=hf(!1),f=yf.bind(null,Ne,!1,l.queue),l=pn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=KS.bind(null,Ne,h,f,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function vy(t){var i=Rt();return _y(i,We,t)}function _y(t,i,s){if(i=cf(t,i,gy)[0],t=vu(Yr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=El(i)}catch(E){throw E===ml?du:E}else l=i;i=Rt();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(Ne.flags|=2048,qs(9,_u(),YS.bind(null,h,s),null)),[l,f,t]}function YS(t,i){t.action=i}function Ey(t){var i=Rt(),s=We;if(s!==null)return _y(i,s,t);Rt(),i=i.memoizedState,s=Rt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function qs(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=of(),Ne.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function _u(){return{destroy:void 0,resource:void 0}}function Ty(){return Rt().memoizedState}function Eu(t,i,s,l){var h=pn();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=qs(1|i,_u(),s,l)}function Tl(t,i,s,l){var h=Rt();l=l===void 0?null:l;var f=h.memoizedState.inst;We!==null&&l!==null&&tf(l,We.memoizedState.deps)?h.memoizedState=qs(i,f,s,l):(Ne.flags|=t,h.memoizedState=qs(1|i,f,s,l))}function by(t,i){Eu(8390656,8,t,i)}function Sy(t,i){Tl(2048,8,t,i)}function Ay(t,i){return Tl(4,2,t,i)}function wy(t,i){return Tl(4,4,t,i)}function Ry(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Cy(t,i,s){s=s!=null?s.concat([t]):null,Tl(4,4,Ry.bind(null,i,t),s)}function ff(){}function Ny(t,i){var s=Rt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&tf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Iy(t,i){var s=Rt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&tf(i,l[1]))return l[0];if(l=t(),Ha){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,i],l}function mf(t,i,s){return s===void 0||(Ri&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=Ov(),Ne.lanes|=t,Pi|=t,s)}function Dy(t,i,s,l){return bn(s,i)?s:ks.current!==null?(t=mf(t,s,l),bn(t,i)||(Ut=!0),t):(Ri&42)===0?(Ut=!0,t.memoizedState=s):(t=Ov(),Ne.lanes|=t,Pi|=t,i)}function xy(t,i,s,l,h){var f=oe.p;oe.p=f!==0&&8>f?f:8;var E=$.T,S={};$.T=S,yf(t,!1,i,s);try{var I=h(),F=$.S;if(F!==null&&F(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=FS(I,l);bl(t,i,X,Cn(t))}else bl(t,i,l,Cn(t))}catch(J){bl(t,i,{then:function(){},status:"rejected",reason:J},Cn())}finally{oe.p=f,$.T=E}}function $S(){}function pf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=Oy(t).queue;xy(t,h,i,me,s===null?$S:function(){return Py(t),s(l)})}function Oy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:me},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Py(t){var i=Oy(t).next.queue;bl(t,i,{},Cn())}function gf(){return nn(ql)}function My(){return Rt().memoizedState}function Vy(){return Rt().memoizedState}function XS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Cn();t=Ai(s);var l=wi(i,t,s);l!==null&&(Nn(l,i,s),gl(l,i,s)),i={cache:Gd()},t.payload=i;return}i=i.return}}function WS(t,i,s){var l=Cn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Tu(t)?ky(i,s):(s=Vd(t,i,s,l),s!==null&&(Nn(s,t,l),Ly(s,i,l)))}function jy(t,i,s){var l=Cn();bl(t,i,s,l)}function bl(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Tu(t))ky(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var E=i.lastRenderedState,S=f(E,s);if(h.hasEagerState=!0,h.eagerState=S,bn(S,E))return iu(t,i,h,0),nt===null&&ru(),!1}catch{}finally{}if(s=Vd(t,i,h,l),s!==null)return Nn(s,t,l),Ly(s,i,l),!0}return!1}function yf(t,i,s,l){if(l={lane:2,revertLane:$f(),action:l,hasEagerState:!1,eagerState:null,next:null},Tu(t)){if(i)throw Error(a(479))}else i=Vd(t,s,l,2),i!==null&&Nn(i,t,2)}function Tu(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function ky(t,i){Ls=pu=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Ly(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Fo(t,s)}}var bu={readContext:nn,use:yu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},Uy={readContext:nn,use:yu,useCallback:function(t,i){return pn().memoizedState=[t,i===void 0?null:i],t},useContext:nn,useEffect:by,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Eu(4194308,4,Ry.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Eu(4194308,4,t,i)},useInsertionEffect:function(t,i){Eu(4,2,t,i)},useMemo:function(t,i){var s=pn();i=i===void 0?null:i;var l=t();if(Ha){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=pn();if(s!==void 0){var h=s(i);if(Ha){En(!0);try{s(i)}finally{En(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=WS.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=pn();return t={current:t},i.memoizedState=t},useState:function(t){t=hf(t);var i=t.queue,s=jy.bind(null,Ne,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:ff,useDeferredValue:function(t,i){var s=pn();return mf(s,t,i)},useTransition:function(){var t=hf(!1);return t=xy.bind(null,Ne,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ne,h=pn();if(He){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),nt===null)throw Error(a(349));(Ue&124)!==0||sy(l,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,by(ly.bind(null,l,f,t),[t]),l.flags|=2048,qs(9,_u(),oy.bind(null,l,f,s,i),null),s},useId:function(){var t=pn(),i=nt.identifierPrefix;if(He){var s=Gr,l=Fr;s=(l&~(1<<32-tn(l)-1)).toString(32)+s,i=""+i+"R"+s,s=gu++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=GS++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:gf,useFormState:yy,useActionState:yy,useOptimistic:function(t){var i=pn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=yf.bind(null,Ne,!0,s),s.dispatch=i,[t,i]},useMemoCache:lf,useCacheRefresh:function(){return pn().memoizedState=XS.bind(null,Ne)}},qy={readContext:nn,use:yu,useCallback:Ny,useContext:nn,useEffect:Sy,useImperativeHandle:Cy,useInsertionEffect:Ay,useLayoutEffect:wy,useMemo:Iy,useReducer:vu,useRef:Ty,useState:function(){return vu(Yr)},useDebugValue:ff,useDeferredValue:function(t,i){var s=Rt();return Dy(s,We.memoizedState,t,i)},useTransition:function(){var t=vu(Yr)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:ay,useId:My,useHostTransitionStatus:gf,useFormState:vy,useActionState:vy,useOptimistic:function(t,i){var s=Rt();return hy(s,We,t,i)},useMemoCache:lf,useCacheRefresh:Vy},ZS={readContext:nn,use:yu,useCallback:Ny,useContext:nn,useEffect:Sy,useImperativeHandle:Cy,useInsertionEffect:Ay,useLayoutEffect:wy,useMemo:Iy,useReducer:uf,useRef:Ty,useState:function(){return uf(Yr)},useDebugValue:ff,useDeferredValue:function(t,i){var s=Rt();return We===null?mf(s,t,i):Dy(s,We.memoizedState,t,i)},useTransition:function(){var t=uf(Yr)[0],i=Rt().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:ay,useId:My,useHostTransitionStatus:gf,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,i){var s=Rt();return We!==null?hy(s,We,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:lf,useCacheRefresh:Vy},Bs=null,Sl=0;function Su(t){var i=Sl;return Sl+=1,Bs===null&&(Bs=[]),Wg(Bs,t,i)}function Al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Au(t,i){throw i.$$typeof===A?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function By(t){var i=t._init;return i(t._payload)}function zy(t){function i(U,M){if(t){var H=U.deletions;H===null?(U.deletions=[M],U.flags|=16):H.push(M)}}function s(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Hr(U,M),U.index=0,U.sibling=null,U}function f(U,M,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<M?(U.flags|=67108866,M):H):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,M,H,W){return M===null||M.tag!==6?(M=kd(H,U.mode,W),M.return=U,M):(M=h(M,H),M.return=U,M)}function I(U,M,H,W){var he=H.type;return he===R?X(U,M,H.props.children,W,H.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===N&&By(he)===M.type)?(M=h(M,H.props),Al(M,H),M.return=U,M):(M=su(H.type,H.key,H.props,null,U.mode,W),Al(M,H),M.return=U,M)}function F(U,M,H,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Ld(H,U.mode,W),M.return=U,M):(M=h(M,H.children||[]),M.return=U,M)}function X(U,M,H,W,he){return M===null||M.tag!==7?(M=Va(H,U.mode,W,he),M.return=U,M):(M=h(M,H),M.return=U,M)}function J(U,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=kd(""+M,U.mode,H),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return H=su(M.type,M.key,M.props,null,U.mode,H),Al(H,M),H.return=U,H;case C:return M=Ld(M,U.mode,H),M.return=U,M;case N:var W=M._init;return M=W(M._payload),J(U,M,H)}if(mt(M)||q(M))return M=Va(M,U.mode,H,null),M.return=U,M;if(typeof M.then=="function")return J(U,Su(M),H);if(M.$$typeof===ne)return J(U,uu(U,M),H);Au(U,M)}return null}function G(U,M,H,W){var he=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return he!==null?null:S(U,M,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===he?I(U,M,H,W):null;case C:return H.key===he?F(U,M,H,W):null;case N:return he=H._init,H=he(H._payload),G(U,M,H,W)}if(mt(H)||q(H))return he!==null?null:X(U,M,H,W,null);if(typeof H.then=="function")return G(U,M,Su(H),W);if(H.$$typeof===ne)return G(U,M,uu(U,H),W);Au(U,H)}return null}function Q(U,M,H,W,he){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(H)||null,S(M,U,""+W,he);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return U=U.get(W.key===null?H:W.key)||null,I(M,U,W,he);case C:return U=U.get(W.key===null?H:W.key)||null,F(M,U,W,he);case N:var De=W._init;return W=De(W._payload),Q(U,M,H,W,he)}if(mt(W)||q(W))return U=U.get(H)||null,X(M,U,W,he,null);if(typeof W.then=="function")return Q(U,M,H,Su(W),he);if(W.$$typeof===ne)return Q(U,M,H,uu(M,W),he);Au(M,W)}return null}function be(U,M,H,W){for(var he=null,De=null,de=M,_e=M=0,Bt=null;de!==null&&_e<H.length;_e++){de.index>_e?(Bt=de,de=null):Bt=de.sibling;var Be=G(U,de,H[_e],W);if(Be===null){de===null&&(de=Bt);break}t&&de&&Be.alternate===null&&i(U,de),M=f(Be,M,_e),De===null?he=Be:De.sibling=Be,De=Be,de=Bt}if(_e===H.length)return s(U,de),He&&ka(U,_e),he;if(de===null){for(;_e<H.length;_e++)de=J(U,H[_e],W),de!==null&&(M=f(de,M,_e),De===null?he=de:De.sibling=de,De=de);return He&&ka(U,_e),he}for(de=l(de);_e<H.length;_e++)Bt=Q(de,U,_e,H[_e],W),Bt!==null&&(t&&Bt.alternate!==null&&de.delete(Bt.key===null?_e:Bt.key),M=f(Bt,M,_e),De===null?he=Bt:De.sibling=Bt,De=Bt);return t&&de.forEach(function(zi){return i(U,zi)}),He&&ka(U,_e),he}function ve(U,M,H,W){if(H==null)throw Error(a(151));for(var he=null,De=null,de=M,_e=M=0,Bt=null,Be=H.next();de!==null&&!Be.done;_e++,Be=H.next()){de.index>_e?(Bt=de,de=null):Bt=de.sibling;var zi=G(U,de,Be.value,W);if(zi===null){de===null&&(de=Bt);break}t&&de&&zi.alternate===null&&i(U,de),M=f(zi,M,_e),De===null?he=zi:De.sibling=zi,De=zi,de=Bt}if(Be.done)return s(U,de),He&&ka(U,_e),he;if(de===null){for(;!Be.done;_e++,Be=H.next())Be=J(U,Be.value,W),Be!==null&&(M=f(Be,M,_e),De===null?he=Be:De.sibling=Be,De=Be);return He&&ka(U,_e),he}for(de=l(de);!Be.done;_e++,Be=H.next())Be=Q(de,U,_e,Be.value,W),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?_e:Be.key),M=f(Be,M,_e),De===null?he=Be:De.sibling=Be,De=Be);return t&&de.forEach(function(JA){return i(U,JA)}),He&&ka(U,_e),he}function Je(U,M,H,W){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var he=H.key;M!==null;){if(M.key===he){if(he=H.type,he===R){if(M.tag===7){s(U,M.sibling),W=h(M,H.props.children),W.return=U,U=W;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===N&&By(he)===M.type){s(U,M.sibling),W=h(M,H.props),Al(W,H),W.return=U,U=W;break e}s(U,M);break}else i(U,M);M=M.sibling}H.type===R?(W=Va(H.props.children,U.mode,W,H.key),W.return=U,U=W):(W=su(H.type,H.key,H.props,null,U.mode,W),Al(W,H),W.return=U,U=W)}return E(U);case C:e:{for(he=H.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){s(U,M.sibling),W=h(M,H.children||[]),W.return=U,U=W;break e}else{s(U,M);break}else i(U,M);M=M.sibling}W=Ld(H,U.mode,W),W.return=U,U=W}return E(U);case N:return he=H._init,H=he(H._payload),Je(U,M,H,W)}if(mt(H))return be(U,M,H,W);if(q(H)){if(he=q(H),typeof he!="function")throw Error(a(150));return H=he.call(H),ve(U,M,H,W)}if(typeof H.then=="function")return Je(U,M,Su(H),W);if(H.$$typeof===ne)return Je(U,M,uu(U,H),W);Au(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(s(U,M.sibling),W=h(M,H),W.return=U,U=W):(s(U,M),W=kd(H,U.mode,W),W.return=U,U=W),E(U)):s(U,M)}return function(U,M,H,W){try{Sl=0;var he=Je(U,M,H,W);return Bs=null,he}catch(de){if(de===ml||de===du)throw de;var De=Sn(29,de,null,U.mode);return De.lanes=W,De.return=U,De}finally{}}}var zs=zy(!0),Hy=zy(!1),qn=te(null),vr=null;function Ci(t){var i=t.alternate;re(Mt,Mt.current&1),re(qn,t),vr===null&&(i===null||ks.current!==null||i.memoizedState!==null)&&(vr=t)}function Fy(t){if(t.tag===22){if(re(Mt,Mt.current),re(qn,t),vr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(vr=t)}}else Ni()}function Ni(){re(Mt,Mt.current),re(qn,qn.current)}function $r(t){le(qn),vr===t&&(vr=null),le(Mt)}var Mt=te(0);function wu(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||om(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function vf(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:T({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var _f={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Cn(),h=Ai(l);h.payload=i,s!=null&&(h.callback=s),i=wi(t,h,l),i!==null&&(Nn(i,t,l),gl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Cn(),h=Ai(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=wi(t,h,l),i!==null&&(Nn(i,t,l),gl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Cn(),l=Ai(s);l.tag=2,i!=null&&(l.callback=i),i=wi(t,l,s),i!==null&&(Nn(i,t,s),gl(i,t,s))}};function Gy(t,i,s,l,h,f,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,E):i.prototype&&i.prototype.isPureReactComponent?!sl(s,l)||!sl(h,f):!0}function Qy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&_f.enqueueReplaceState(i,i.state,null)}function Fa(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=T({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ky(t){Ru(t)}function Yy(t){console.error(t)}function $y(t){Ru(t)}function Cu(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ef(t,i,s){return s=Ai(s),s.tag=3,s.payload={element:null},s.callback=function(){Cu(t,i)},s}function Wy(t){return t=Ai(t),t.tag=3,t}function Zy(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Xy(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Xy(i,s,l),typeof h!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function JS(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&hl(i,s,h,!0),s=qn.current,s!==null){switch(s.tag){case 13:return vr===null?Ff():s.alternate===null&&yt===0&&(yt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Yd?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Qf(t,l,h)),!1;case 22:return s.flags|=65536,l===Yd?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Qf(t,l,h)),!1}throw Error(a(435,s.tag))}return Qf(t,l,h),Ff(),!1}if(He)return i=qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Bd&&(t=Error(a(422),{cause:l}),ul(jn(t,s)))):(l!==Bd&&(i=Error(a(423),{cause:l}),ul(jn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,s),h=Ef(t.stateNode,l,h),Wd(t,h),yt!==4&&(yt=2)),!1;var f=Error(a(520),{cause:l});if(f=jn(f,s),xl===null?xl=[f]:xl.push(f),yt!==4&&(yt=2),i===null)return!0;l=jn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Ef(s.stateNode,l,t),Wd(s,t),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mi===null||!Mi.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Wy(h),Zy(h,t,s,l),Wd(s,h),!1}s=s.return}while(s!==null);return!1}var Jy=Error(a(461)),Ut=!1;function Yt(t,i,s,l){i.child=t===null?Hy(i,null,s,l):zs(i,t.child,s,l)}function ev(t,i,s,l,h){s=s.render;var f=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Ba(i),l=nf(t,i,s,E,f,h),S=rf(),t!==null&&!Ut?(af(t,i,h),Xr(t,i,h)):(He&&S&&Ud(i),i.flags|=1,Yt(t,i,l,h),i.child)}function tv(t,i,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!jd(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,nv(t,i,f,l,h)):(t=su(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Nf(t,h)){var E=f.memoizedProps;if(s=s.compare,s=s!==null?s:sl,s(E,l)&&t.ref===i.ref)return Xr(t,i,h)}return i.flags|=1,t=Hr(f,l),t.ref=i.ref,t.return=i,i.child=t}function nv(t,i,s,l,h){if(t!==null){var f=t.memoizedProps;if(sl(f,l)&&t.ref===i.ref)if(Ut=!1,i.pendingProps=l=f,Nf(t,h))(t.flags&131072)!==0&&(Ut=!0);else return i.lanes=t.lanes,Xr(t,i,h)}return Tf(t,i,s,l,h)}function rv(t,i,s){var l=i.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return iv(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&hu(i,f!==null?f.cachePool:null),f!==null?ny(i,f):Jd(),Fy(i);else return i.lanes=i.childLanes=536870912,iv(t,i,f!==null?f.baseLanes|s:s,s)}else f!==null?(hu(i,f.cachePool),ny(i,f),Ni(),i.memoizedState=null):(t!==null&&hu(i,null),Jd(),Ni());return Yt(t,i,h,s),i.child}function iv(t,i,s,l){var h=Kd();return h=h===null?null:{parent:Pt._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&hu(i,null),Jd(),Fy(i),t!==null&&hl(t,i,l,!0),null}function Nu(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Tf(t,i,s,l,h){return Ba(i),s=nf(t,i,s,l,void 0,h),l=rf(),t!==null&&!Ut?(af(t,i,h),Xr(t,i,h)):(He&&l&&Ud(i),i.flags|=1,Yt(t,i,s,h),i.child)}function av(t,i,s,l,h,f){return Ba(i),i.updateQueue=null,s=iy(i,l,s,h),ry(t),l=rf(),t!==null&&!Ut?(af(t,i,f),Xr(t,i,f)):(He&&l&&Ud(i),i.flags|=1,Yt(t,i,s,f),i.child)}function sv(t,i,s,l,h){if(Ba(i),i.stateNode===null){var f=Os,E=s.contextType;typeof E=="object"&&E!==null&&(f=nn(E)),f=new s(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_f,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},$d(i),E=s.contextType,f.context=typeof E=="object"&&E!==null?nn(E):Os,f.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(vf(i,s,E,l),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&_f.enqueueReplaceState(f,f.state,null),vl(i,l,f,h),yl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,I=Fa(s,S);f.props=I;var F=f.context,X=s.contextType;E=Os,typeof X=="object"&&X!==null&&(E=nn(X));var J=s.getDerivedStateFromProps;X=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||F!==E)&&Qy(i,f,l,E),Si=!1;var G=i.memoizedState;f.state=G,vl(i,l,f,h),yl(),F=i.memoizedState,S||G!==F||Si?(typeof J=="function"&&(vf(i,s,J,l),F=i.memoizedState),(I=Si||Gy(i,s,I,l,G,F,E))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),f.props=l,f.state=F,f.context=E,l=I):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Xd(t,i),E=i.memoizedProps,X=Fa(s,E),f.props=X,J=i.pendingProps,G=f.context,F=s.contextType,I=Os,typeof F=="object"&&F!==null&&(I=nn(F)),S=s.getDerivedStateFromProps,(F=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==J||G!==I)&&Qy(i,f,l,I),Si=!1,G=i.memoizedState,f.state=G,vl(i,l,f,h),yl();var Q=i.memoizedState;E!==J||G!==Q||Si||t!==null&&t.dependencies!==null&&cu(t.dependencies)?(typeof S=="function"&&(vf(i,s,S,l),Q=i.memoizedState),(X=Si||Gy(i,s,X,l,G,Q,I)||t!==null&&t.dependencies!==null&&cu(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,I)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),f.props=l,f.state=Q,f.context=I,l=X):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Nu(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=zs(i,t.child,null,h),i.child=zs(i,null,s,h)):Yt(t,i,s,h),i.memoizedState=f.state,t=i.child):t=Xr(t,i,h),t}function ov(t,i,s,l){return cl(),i.flags|=256,Yt(t,i,s,l),i.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(t){return{baseLanes:t,cachePool:Yg()}}function Af(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Bn),t}function lv(t,i,s){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,E;if((E=f)||(E=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?Ci(i):Ni(),He){var S=gt,I;if(I=S){e:{for(I=S,S=yr;I.nodeType!==8;){if(!S){S=null;break e}if(I=Wn(I.nextSibling),I===null){S=null;break e}}S=I}S!==null?(i.memoizedState={dehydrated:S,treeContext:ja!==null?{id:Fr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},I=Sn(18,null,null,0),I.stateNode=S,I.return=i,i.child=I,mn=i,gt=null,I=!0):I=!1}I||Ua(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return om(S)?i.lanes=32:i.lanes=536870912,null;$r(i)}return S=l.children,l=l.fallback,h?(Ni(),h=i.mode,S=Iu({mode:"hidden",children:S},h),l=Va(l,h,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=Sf(s),h.childLanes=Af(t,E,s),i.memoizedState=bf,l):(Ci(i),wf(i,S))}if(I=t.memoizedState,I!==null&&(S=I.dehydrated,S!==null)){if(f)i.flags&256?(Ci(i),i.flags&=-257,i=Rf(t,i,s)):i.memoizedState!==null?(Ni(),i.child=t.child,i.flags|=128,i=null):(Ni(),h=l.fallback,S=i.mode,l=Iu({mode:"visible",children:l.children},S),h=Va(h,S,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,zs(i,t.child,null,s),l=i.child,l.memoizedState=Sf(s),l.childLanes=Af(t,E,s),i.memoizedState=bf,i=h);else if(Ci(i),om(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(a(419)),l.stack="",l.digest=E,ul({value:l,source:null,stack:null}),i=Rf(t,i,s)}else if(Ut||hl(t,i,s,!1),E=(s&t.childLanes)!==0,Ut||E){if(E=nt,E!==null&&(l=s&-s,l=(l&42)!==0?1:pi(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,xs(t,l),Nn(E,t,l),Jy;S.data==="$?"||Ff(),i=Rf(t,i,s)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,gt=Wn(S.nextSibling),mn=i,He=!0,La=null,yr=!1,t!==null&&(Ln[Un++]=Fr,Ln[Un++]=Gr,Ln[Un++]=ja,Fr=t.id,Gr=t.overflow,ja=i),i=wf(i,l.children),i.flags|=4096);return i}return h?(Ni(),h=l.fallback,S=i.mode,I=t.child,F=I.sibling,l=Hr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?h=Hr(F,h):(h=Va(h,S,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=t.child.memoizedState,S===null?S=Sf(s):(I=S.cachePool,I!==null?(F=Pt._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=Yg(),S={baseLanes:S.baseLanes|s,cachePool:I}),h.memoizedState=S,h.childLanes=Af(t,E,s),i.memoizedState=bf,l):(Ci(i),s=t.child,t=s.sibling,s=Hr(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=s,i.memoizedState=null,s)}function wf(t,i){return i=Iu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Iu(t,i){return t=Sn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Rf(t,i,s){return zs(i,t.child,null,s),t=wf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function cv(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Hd(t.return,i,s)}function Cf(t,i,s,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=h)}function uv(t,i,s){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if(Yt(t,i,l.children,s),l=Mt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cv(t,s,i);else if(t.tag===19)cv(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(Mt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&wu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Cf(i,!1,h,s,f);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&wu(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Cf(i,!0,s,null,f);break;case"together":Cf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xr(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Pi|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(hl(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Hr(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Hr(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Nf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&cu(t)))}function eA(t,i,s){switch(i.tag){case 3:tt(i,i.stateNode.containerInfo),bi(i,Pt,t.memoizedState.cache),cl();break;case 27:case 5:mi(i);break;case 4:tt(i,i.stateNode.containerInfo);break;case 10:bi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ci(i),i.flags|=128,null):(s&i.child.childLanes)!==0?lv(t,i,s):(Ci(i),t=Xr(t,i,s),t!==null?t.sibling:null);Ci(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(hl(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return uv(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Mt,Mt.current),l)break;return null;case 22:case 23:return i.lanes=0,rv(t,i,s);case 24:bi(i,Pt,t.memoizedState.cache)}return Xr(t,i,s)}function hv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ut=!0;else{if(!Nf(t,s)&&(i.flags&128)===0)return Ut=!1,eA(t,i,s);Ut=(t.flags&131072)!==0}else Ut=!1,He&&(i.flags&1048576)!==0&&Bg(i,lu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")jd(l)?(t=Fa(l,t),i.tag=1,i=sv(null,i,l,t,s)):(i.tag=0,i=Tf(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===Re){i.tag=11,i=ev(null,i,l,t,s);break e}else if(h===k){i.tag=14,i=tv(null,i,l,t,s);break e}}throw i=Gt(l)||l,Error(a(306,i,""))}}return i;case 0:return Tf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Fa(l,i.pendingProps),sv(t,i,l,h,s);case 3:e:{if(tt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,Xd(t,i),vl(i,l,null,s);var E=i.memoizedState;if(l=E.cache,bi(i,Pt,l),l!==f.cache&&Fd(i,[Pt],s,!0),yl(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=ov(t,i,l,s);break e}else if(l!==h){h=jn(Error(a(424)),i),ul(h),i=ov(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=Wn(t.firstChild),mn=i,He=!0,La=null,yr=!0,s=Hy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(cl(),l===h){i=Xr(t,i,s);break e}Yt(t,i,l,s)}i=i.child}return i;case 26:return Nu(t,i),t===null?(s=p_(i.type,null,i.pendingProps,null))?i.memoizedState=s:He||(s=i.type,t=i.pendingProps,l=Hu(Se.current).createElement(s),l[Dt]=i,l[St]=t,Xt(l,s,t),vt(l),i.stateNode=l):i.memoizedState=p_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return mi(i),t===null&&He&&(l=i.stateNode=d_(i.type,i.pendingProps,Se.current),mn=i,yr=!0,h=gt,ki(i.type)?(lm=h,gt=Wn(l.firstChild)):gt=h),Yt(t,i,i.pendingProps.children,s),Nu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((h=l=gt)&&(l=NA(l,i.type,i.pendingProps,yr),l!==null?(i.stateNode=l,mn=i,gt=Wn(l.firstChild),yr=!1,h=!0):h=!1),h||Ua(i)),mi(i),h=i.type,f=i.pendingProps,E=t!==null?t.memoizedProps:null,l=f.children,im(h,f)?l=null:E!==null&&im(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=nf(t,i,QS,null,null,s),ql._currentValue=h),Nu(t,i),Yt(t,i,l,s),i.child;case 6:return t===null&&He&&((t=s=gt)&&(s=IA(s,i.pendingProps,yr),s!==null?(i.stateNode=s,mn=i,gt=null,t=!0):t=!1),t||Ua(i)),null;case 13:return lv(t,i,s);case 4:return tt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=zs(i,null,l,s):Yt(t,i,l,s),i.child;case 11:return ev(t,i,i.type,i.pendingProps,s);case 7:return Yt(t,i,i.pendingProps,s),i.child;case 8:return Yt(t,i,i.pendingProps.children,s),i.child;case 12:return Yt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,bi(i,i.type,l.value),Yt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ba(i),h=nn(h),l=l(h),i.flags|=1,Yt(t,i,l,s),i.child;case 14:return tv(t,i,i.type,i.pendingProps,s);case 15:return nv(t,i,i.type,i.pendingProps,s);case 19:return uv(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=Iu(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Hr(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return rv(t,i,s);case 24:return Ba(i),l=nn(Pt),t===null?(h=Kd(),h===null&&(h=nt,f=Gd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:l,cache:h},$d(i),bi(i,Pt,h)):((t.lanes&s)!==0&&(Xd(t,i),vl(i,null,null,s),yl()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),bi(i,Pt,l)):(l=f.cache,bi(i,Pt,l),l!==h.cache&&Fd(i,[Pt],s,!0))),Yt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Wr(t){t.flags|=4}function dv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!E_(i)){if(i=qn.current,i!==null&&((Ue&4194048)===Ue?vr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==vr))throw pl=Yd,$g;t.flags|=8192}}function Du(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?zo():536870912,t.lanes|=i,Qs|=i)}function wl(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function tA(t,i,s){var l=i.pendingProps;switch(qd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(i),null;case 1:return ht(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Kr(Pt),ar(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ll(i)?Wr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fg())),ht(i),null;case 26:return s=i.memoizedState,t===null?(Wr(i),s!==null?(ht(i),dv(i,s)):(ht(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Wr(i),ht(i),dv(i,s)):(ht(i),i.flags&=-16777217):(t.memoizedProps!==l&&Wr(i),ht(i),i.flags&=-16777217),null;case 27:Dr(i),s=Se.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wr(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ht(i),null}t=ge.current,ll(i)?zg(i):(t=d_(h,l,s),i.stateNode=t,Wr(i))}return ht(i),null;case 5:if(Dr(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wr(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ht(i),null}if(t=ge.current,ll(i))zg(i);else{switch(h=Hu(Se.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[Dt]=i,t[St]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Xt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Wr(i)}}return ht(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Wr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Se.current,ll(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=mn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||a_(t.nodeValue,s)),t||Ua(i)}else t=Hu(t).createTextNode(l),t[Dt]=i,i.stateNode=t}return ht(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ll(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Dt]=i}else cl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),h=!1}else h=Fg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?($r(i),i):($r(i),null)}if($r(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Du(i,i.updateQueue),ht(i),null;case 4:return ar(),t===null&&Jf(i.stateNode.containerInfo),ht(i),null;case 10:return Kr(i.type),ht(i),null;case 19:if(le(Mt),h=i.memoizedState,h===null)return ht(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)wl(h,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=wu(t),f!==null){for(i.flags|=128,wl(h,!1),t=f.updateQueue,i.updateQueue=t,Du(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)qg(s,t),s=s.sibling;return re(Mt,Mt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Dn()>Pu&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304)}else{if(!l)if(t=wu(f),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Du(i,t),wl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!He)return ht(i),null}else 2*Dn()-h.renderingStartTime>Pu&&s!==536870912&&(i.flags|=128,l=!0,wl(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Dn(),i.sibling=null,t=Mt.current,re(Mt,l?t&1|2:t&1),i):(ht(i),null);case 22:case 23:return $r(i),ef(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(ht(i),i.subtreeFlags&6&&(i.flags|=8192)):ht(i),s=i.updateQueue,s!==null&&Du(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&le(za),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Kr(Pt),ht(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function nA(t,i){switch(qd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Kr(Pt),ar(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Dr(i),null;case 13:if($r(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));cl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(Mt),null;case 4:return ar(),null;case 10:return Kr(i.type),null;case 22:case 23:return $r(i),ef(),t!==null&&le(za),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Kr(Pt),null;case 25:return null;default:return null}}function fv(t,i){switch(qd(i),i.tag){case 3:Kr(Pt),ar();break;case 26:case 27:case 5:Dr(i);break;case 4:ar();break;case 13:$r(i);break;case 19:le(Mt);break;case 10:Kr(i.type);break;case 22:case 23:$r(i),ef(),t!==null&&le(za);break;case 24:Kr(Pt)}}function Rl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,E=s.inst;l=f(),E.destroy=l}s=s.next}while(s!==h)}}catch(S){et(i,i.return,S)}}function Ii(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=i;var I=s,F=S;try{F()}catch(X){et(h,I,X)}}}l=l.next}while(l!==f)}}catch(X){et(i,i.return,X)}}function mv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{ty(i,s)}catch(l){et(t,t.return,l)}}}function pv(t,i,s){s.props=Fa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){et(t,i,l)}}function Cl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){et(t,i,h)}}function _r(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){et(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){et(t,i,h)}else s.current=null}function gv(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){et(t,t.return,h)}}function If(t,i,s){try{var l=t.stateNode;SA(l,t.type,s,i),l[St]=i}catch(h){et(t,t.return,h)}}function yv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ki(t.type)||t.tag===4}function Df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xf(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=zu));else if(l!==4&&(l===27&&ki(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(xf(t,i,s),t=t.sibling;t!==null;)xf(t,i,s),t=t.sibling}function xu(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&ki(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(xu(t,i,s),t=t.sibling;t!==null;)xu(t,i,s),t=t.sibling}function vv(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xt(i,l,s),i[Dt]=t,i[St]=s}catch(f){et(t,t.return,f)}}var Zr=!1,Et=!1,Of=!1,_v=typeof WeakSet=="function"?WeakSet:Set,qt=null;function rA(t,i){if(t=t.containerInfo,nm=$u,t=Dg(t),Id(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var E=0,S=-1,I=-1,F=0,X=0,J=t,G=null;t:for(;;){for(var Q;J!==s||h!==0&&J.nodeType!==3||(S=E+h),J!==f||l!==0&&J.nodeType!==3||(I=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(Q=J.firstChild)!==null;)G=J,J=Q;for(;;){if(J===t)break t;if(G===s&&++F===h&&(S=E),G===f&&++X===l&&(I=E),(Q=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=Q}s=S===-1||I===-1?null:{start:S,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(rm={focusedElem:t,selectionRange:s},$u=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var be=Fa(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(be,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){et(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)sm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function Ev(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Di(t,s),l&4&&Rl(5,s);break;case 1:if(Di(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(E){et(s,s.return,E)}else{var h=Fa(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){et(s,s.return,E)}}l&64&&mv(s),l&512&&Cl(s,s.return);break;case 3:if(Di(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{ty(t,i)}catch(E){et(s,s.return,E)}}break;case 27:i===null&&l&4&&vv(s);case 26:case 5:Di(t,s),i===null&&l&4&&gv(s),l&512&&Cl(s,s.return);break;case 12:Di(t,s);break;case 13:Di(t,s),l&4&&Sv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=dA.bind(null,s),DA(t,s))));break;case 22:if(l=s.memoizedState!==null||Zr,!l){i=i!==null&&i.memoizedState!==null||Et,h=Zr;var f=Et;Zr=l,(Et=i)&&!f?xi(t,s,(s.subtreeFlags&8772)!==0):Di(t,s),Zr=h,Et=f}break;case 30:break;default:Di(t,s)}}function Tv(t){var i=t.alternate;i!==null&&(t.alternate=null,Tv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&vi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,gn=!1;function Jr(t,i,s){for(s=s.child;s!==null;)bv(t,i,s),s=s.sibling}function bv(t,i,s){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(pt,s)}catch{}switch(s.tag){case 26:Et||_r(s,i),Jr(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Et||_r(s,i);var l=st,h=gn;ki(s.type)&&(st=s.stateNode,gn=!1),Jr(t,i,s),jl(s.stateNode),st=l,gn=h;break;case 5:Et||_r(s,i);case 6:if(l=st,h=gn,st=null,Jr(t,i,s),st=l,gn=h,st!==null)if(gn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(s.stateNode)}catch(f){et(s,i,f)}else try{st.removeChild(s.stateNode)}catch(f){et(s,i,f)}break;case 18:st!==null&&(gn?(t=st,u_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Fl(t)):u_(st,s.stateNode));break;case 4:l=st,h=gn,st=s.stateNode.containerInfo,gn=!0,Jr(t,i,s),st=l,gn=h;break;case 0:case 11:case 14:case 15:Et||Ii(2,s,i),Et||Ii(4,s,i),Jr(t,i,s);break;case 1:Et||(_r(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&pv(s,i,l)),Jr(t,i,s);break;case 21:Jr(t,i,s);break;case 22:Et=(l=Et)||s.memoizedState!==null,Jr(t,i,s),Et=l;break;default:Jr(t,i,s)}}function Sv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fl(t)}catch(s){et(i,i.return,s)}}function iA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new _v),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new _v),i;default:throw Error(a(435,t.tag))}}function Pf(t,i){var s=iA(t);i.forEach(function(l){var h=fA.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function An(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(ki(S.type)){st=S.stateNode,gn=!1;break e}break;case 5:st=S.stateNode,gn=!1;break e;case 3:case 4:st=S.stateNode.containerInfo,gn=!0;break e}S=S.return}if(st===null)throw Error(a(160));bv(f,E,h),st=null,gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Av(i,t),i=i.sibling}var Xn=null;function Av(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(i,t),wn(t),l&4&&(Ii(3,t,t.return),Rl(3,t),Ii(5,t,t.return));break;case 1:An(i,t),wn(t),l&512&&(Et||s===null||_r(s,s.return)),l&64&&Zr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Xn;if(An(i,t),wn(t),l&512&&(Et||s===null||_r(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_a]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Xt(f,l,s),f[Dt]=t,vt(f),l=f;break e;case"link":var E=v_("link","href",h).get(l+(s.href||""));if(E){for(var S=0;S<E.length;S++)if(f=E[S],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(S,1);break t}}f=h.createElement(l),Xt(f,l,s),h.head.appendChild(f);break;case"meta":if(E=v_("meta","content",h).get(l+(s.content||""))){for(S=0;S<E.length;S++)if(f=E[S],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(S,1);break t}}f=h.createElement(l),Xt(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Dt]=t,vt(f),l=f}t.stateNode=l}else __(h,t.type,t.stateNode);else t.stateNode=y_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?__(h,t.type,t.stateNode):y_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&If(t,t.memoizedProps,s.memoizedProps)}break;case 27:An(i,t),wn(t),l&512&&(Et||s===null||_r(s,s.return)),s!==null&&l&4&&If(t,t.memoizedProps,s.memoizedProps);break;case 5:if(An(i,t),wn(t),l&512&&(Et||s===null||_r(s,s.return)),t.flags&32){h=t.stateNode;try{On(h,"")}catch(Q){et(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,If(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Of=!0);break;case 6:if(An(i,t),wn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Q){et(t,t.return,Q)}}break;case 3:if(Qu=null,h=Xn,Xn=Fu(i.containerInfo),An(i,t),Xn=h,wn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Fl(i.containerInfo)}catch(Q){et(t,t.return,Q)}Of&&(Of=!1,wv(t));break;case 4:l=Xn,Xn=Fu(t.stateNode.containerInfo),An(i,t),wn(t),Xn=l;break;case 12:An(i,t),wn(t);break;case 13:An(i,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Uf=Dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pf(t,l)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,F=Zr,X=Et;if(Zr=F||h,Et=X||I,An(i,t),Et=X,Zr=F,wn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||I||Zr||Et||Ga(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){I=s=i;try{if(f=I.stateNode,h)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=I.stateNode;var J=I.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){et(I,I.return,Q)}}}else if(i.tag===6){if(s===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(Q){et(I,I.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Pf(t,s))));break;case 19:An(i,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pf(t,l)));break;case 30:break;case 21:break;default:An(i,t),wn(t)}}function wn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(yv(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Df(t);xu(t,f,h);break;case 5:var E=s.stateNode;s.flags&32&&(On(E,""),s.flags&=-33);var S=Df(t);xu(t,S,E);break;case 3:case 4:var I=s.stateNode.containerInfo,F=Df(t);xf(t,F,I);break;default:throw Error(a(161))}}catch(X){et(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function wv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;wv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Di(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ev(t,i.alternate,i),i=i.sibling}function Ga(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ii(4,i,i.return),Ga(i);break;case 1:_r(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&pv(i,i.return,s),Ga(i);break;case 27:jl(i.stateNode);case 26:case 5:_r(i,i.return),Ga(i);break;case 22:i.memoizedState===null&&Ga(i);break;case 30:Ga(i);break;default:Ga(i)}t=t.sibling}}function xi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,E=f.flags;switch(f.tag){case 0:case 11:case 15:xi(h,f,s),Rl(4,f);break;case 1:if(xi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){et(l,l.return,F)}if(l=f,h=l.updateQueue,h!==null){var S=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ey(I[h],S)}catch(F){et(l,l.return,F)}}s&&E&64&&mv(f),Cl(f,f.return);break;case 27:vv(f);case 26:case 5:xi(h,f,s),s&&l===null&&E&4&&gv(f),Cl(f,f.return);break;case 12:xi(h,f,s);break;case 13:xi(h,f,s),s&&E&4&&Sv(h,f);break;case 22:f.memoizedState===null&&xi(h,f,s),Cl(f,f.return);break;case 30:break;default:xi(h,f,s)}i=i.sibling}}function Mf(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&dl(s))}function Vf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t))}function Er(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rv(t,i,s,l),i=i.sibling}function Rv(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Er(t,i,s,l),h&2048&&Rl(9,i);break;case 1:Er(t,i,s,l);break;case 3:Er(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t)));break;case 12:if(h&2048){Er(t,i,s,l),t=i.stateNode;try{var f=i.memoizedProps,E=f.id,S=f.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){et(i,i.return,I)}}else Er(t,i,s,l);break;case 13:Er(t,i,s,l);break;case 23:break;case 22:f=i.stateNode,E=i.alternate,i.memoizedState!==null?f._visibility&2?Er(t,i,s,l):Nl(t,i):f._visibility&2?Er(t,i,s,l):(f._visibility|=2,Hs(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&Mf(E,i);break;case 24:Er(t,i,s,l),h&2048&&Vf(i.alternate,i);break;default:Er(t,i,s,l)}}function Hs(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,E=i,S=s,I=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Hs(f,E,S,I,h),Rl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?Hs(f,E,S,I,h):Nl(f,E):(X._visibility|=2,Hs(f,E,S,I,h)),h&&F&2048&&Mf(E.alternate,E);break;case 24:Hs(f,E,S,I,h),h&&F&2048&&Vf(E.alternate,E);break;default:Hs(f,E,S,I,h)}i=i.sibling}}function Nl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:Nl(s,l),h&2048&&Mf(l.alternate,l);break;case 24:Nl(s,l),h&2048&&Vf(l.alternate,l);break;default:Nl(s,l)}i=i.sibling}}var Il=8192;function Fs(t){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)Cv(t),t=t.sibling}function Cv(t){switch(t.tag){case 26:Fs(t),t.flags&Il&&t.memoizedState!==null&&HA(Xn,t.memoizedState,t.memoizedProps);break;case 5:Fs(t);break;case 3:case 4:var i=Xn;Xn=Fu(t.stateNode.containerInfo),Fs(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,Fs(t),Il=i):Fs(t));break;default:Fs(t)}}function Nv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Dl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];qt=l,Dv(l,t)}Nv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iv(t),t=t.sibling}function Iv(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&Ii(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ou(t)):Dl(t);break;default:Dl(t)}}function Ou(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];qt=l,Dv(l,t)}Nv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ii(8,i,i.return),Ou(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Ou(i));break;default:Ou(i)}t=t.sibling}}function Dv(t,i){for(;qt!==null;){var s=qt;switch(s.tag){case 0:case 11:case 15:Ii(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,qt=l;else e:for(s=t;qt!==null;){l=qt;var h=l.sibling,f=l.return;if(Tv(l),l===s){qt=null;break e}if(h!==null){h.return=f,qt=h;break e}qt=f}}}var aA={getCacheForType:function(t){var i=nn(Pt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},sA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,xe=null,Ue=0,$e=0,Rn=null,Oi=!1,Gs=!1,jf=!1,ei=0,yt=0,Pi=0,Qa=0,kf=0,Bn=0,Qs=0,xl=null,yn=null,Lf=!1,Uf=0,Pu=1/0,Mu=null,Mi=null,$t=0,Vi=null,Ks=null,Ys=0,qf=0,Bf=null,xv=null,Ol=0,zf=null;function Cn(){if((Ye&2)!==0&&Ue!==0)return Ue&-Ue;if($.T!==null){var t=Vs;return t!==0?t:$f()}return gi()}function Ov(){Bn===0&&(Bn=(Ue&536870912)===0||He?Bo():536870912);var t=qn.current;return t!==null&&(t.flags|=32),Bn}function Nn(t,i,s){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&($s(t,0),ji(t,Ue,Bn,!1)),Or(t,s),((Ye&2)===0||t!==nt)&&(t===nt&&((Ye&2)===0&&(Qa|=s),yt===4&&ji(t,Ue,Bn,!1)),Tr(t))}function Pv(t,i,s){if((Ye&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||va(t,i),h=l?cA(t,i):Gf(t,i,!0),f=l;do{if(h===0){Gs&&!l&&ji(t,i,0,!1);break}else{if(s=t.current.alternate,f&&!oA(s)){h=Gf(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=t;h=xl;var I=S.current.memoizedState.isDehydrated;if(I&&($s(S,E).flags|=256),E=Gf(S,E,!1),E!==2){if(jf&&!I){S.errorRecoveryDisabledLanes|=f,Qa|=f,h=4;break e}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=E}if(f=!1,h!==2)continue}}if(h===1){$s(t,0),ji(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ji(l,i,Bn,!Oi);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Uf+300-Dn(),10<h)){if(ji(l,i,Bn,!Oi),ds(l,0,!0)!==0)break e;l.timeoutHandle=l_(Mv.bind(null,l,s,yn,Mu,Lf,i,Bn,Qa,Qs,Oi,f,2,-0,0),h);break e}Mv(l,s,yn,Mu,Lf,i,Bn,Qa,Qs,Oi,f,0,-0,0)}}break}while(!0);Tr(t)}function Mv(t,i,s,l,h,f,E,S,I,F,X,J,G,Q){if(t.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:zA},Cv(i),J=FA(),J!==null)){t.cancelPendingCommit=J(Bv.bind(null,t,i,f,s,l,h,E,S,I,X,1,G,Q)),ji(t,f,E,!F);return}Bv(t,i,f,s,l,h,E,S,I)}function oA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!bn(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ji(t,i,s,l){i&=~kf,i&=~Qa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-tn(h),E=1<<f;l[f]=-1,h&=~E}s!==0&&sr(t,s,i)}function Vu(){return(Ye&6)===0?(Pl(0),!1):!0}function Hf(){if(xe!==null){if($e===0)var t=xe.return;else t=xe,Qr=qa=null,sf(t),Bs=null,Sl=0,t=xe;for(;t!==null;)fv(t.alternate,t),t=t.return;xe=null}}function $s(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,wA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Hf(),nt=t,xe=s=Hr(t.current,null),Ue=i,$e=0,Rn=null,Oi=!1,Gs=va(t,i),jf=!1,Qs=Bn=kf=Qa=Pi=yt=0,yn=xl=null,Lf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-tn(l),f=1<<h;i|=t[h],l&=~f}return ei=i,ru(),s}function Vv(t,i){Ne=null,$.H=bu,i===ml||i===du?(i=Zg(),$e=3):i===$g?(i=Zg(),$e=4):$e=i===Jy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,xe===null&&(yt=1,Cu(t,jn(i,t.current)))}function jv(){var t=$.H;return $.H=bu,t===null?bu:t}function kv(){var t=$.A;return $.A=aA,t}function Ff(){yt=4,Oi||(Ue&4194048)!==Ue&&qn.current!==null||(Gs=!0),(Pi&134217727)===0&&(Qa&134217727)===0||nt===null||ji(nt,Ue,Bn,!1)}function Gf(t,i,s){var l=Ye;Ye|=2;var h=jv(),f=kv();(nt!==t||Ue!==i)&&(Mu=null,$s(t,i)),i=!1;var E=yt;e:do try{if($e!==0&&xe!==null){var S=xe,I=Rn;switch($e){case 8:Hf(),E=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(i=!0);var F=$e;if($e=0,Rn=null,Xs(t,S,I,F),s&&Gs){E=0;break e}break;default:F=$e,$e=0,Rn=null,Xs(t,S,I,F)}}lA(),E=yt;break}catch(X){Vv(t,X)}while(!0);return i&&t.shellSuspendCounter++,Qr=qa=null,Ye=l,$.H=h,$.A=f,xe===null&&(nt=null,Ue=0,ru()),E}function lA(){for(;xe!==null;)Lv(xe)}function cA(t,i){var s=Ye;Ye|=2;var l=jv(),h=kv();nt!==t||Ue!==i?(Mu=null,Pu=Dn()+500,$s(t,i)):Gs=va(t,i);e:do try{if($e!==0&&xe!==null){i=xe;var f=Rn;t:switch($e){case 1:$e=0,Rn=null,Xs(t,i,f,1);break;case 2:case 9:if(Xg(f)){$e=0,Rn=null,Uv(i);break}i=function(){$e!==2&&$e!==9||nt!==t||($e=7),Tr(t)},f.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Xg(f)?($e=0,Rn=null,Uv(i)):($e=0,Rn=null,Xs(t,i,f,7));break;case 5:var E=null;switch(xe.tag){case 26:E=xe.memoizedState;case 5:case 27:var S=xe;if(!E||E_(E)){$e=0,Rn=null;var I=S.sibling;if(I!==null)xe=I;else{var F=S.return;F!==null?(xe=F,ju(F)):xe=null}break t}}$e=0,Rn=null,Xs(t,i,f,5);break;case 6:$e=0,Rn=null,Xs(t,i,f,6);break;case 8:Hf(),yt=6;break e;default:throw Error(a(462))}}uA();break}catch(X){Vv(t,X)}while(!0);return Qr=qa=null,$.H=l,$.A=h,Ye=s,xe!==null?0:(nt=null,Ue=0,ru(),yt)}function uA(){for(;xe!==null&&!ko();)Lv(xe)}function Lv(t){var i=hv(t.alternate,t,ei);t.memoizedProps=t.pendingProps,i===null?ju(t):xe=i}function Uv(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=av(s,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=av(s,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:sf(i);default:fv(s,i),i=xe=qg(i,ei),i=hv(s,i,ei)}t.memoizedProps=t.pendingProps,i===null?ju(t):xe=i}function Xs(t,i,s,l){Qr=qa=null,sf(i),Bs=null,Sl=0;var h=i.return;try{if(JS(t,h,i,s,Ue)){yt=1,Cu(t,jn(s,t.current)),xe=null;return}}catch(f){if(h!==null)throw xe=h,f;yt=1,Cu(t,jn(s,t.current)),xe=null;return}i.flags&32768?(He||l===1?t=!0:Gs||(Ue&536870912)!==0?t=!1:(Oi=t=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),qv(i,t)):ju(i)}function ju(t){var i=t;do{if((i.flags&32768)!==0){qv(i,Oi);return}t=i.return;var s=tA(i.alternate,i,ei);if(s!==null){xe=s;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);yt===0&&(yt=5)}function qv(t,i){do{var s=nA(t.alternate,t);if(s!==null){s.flags&=32767,xe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=s}while(t!==null);yt=6,xe=null}function Bv(t,i,s,l,h,f,E,S,I){t.cancelPendingCommit=null;do ku();while($t!==0);if((Ye&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=Md,Ho(t,s,f,E,S,I),t===nt&&(xe=nt=null,Ue=0),Ks=i,Vi=t,Ys=s,qf=f,Bf=h,xv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mA(ma,function(){return Qv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=oe.p,oe.p=2,E=Ye,Ye|=4;try{rA(t,i,s)}finally{Ye=E,oe.p=h,$.T=l}}$t=1,zv(),Hv(),Fv()}}function zv(){if($t===1){$t=0;var t=Vi,i=Ks,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{Av(i,t);var f=rm,E=Dg(t.containerInfo),S=f.focusedElem,I=f.selectionRange;if(E!==S&&S&&S.ownerDocument&&Ig(S.ownerDocument.documentElement,S)){if(I!==null&&Id(S)){var F=I.start,X=I.end;if(X===void 0&&(X=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(X,S.value.length);else{var J=S.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var Q=G.getSelection(),be=S.textContent.length,ve=Math.min(I.start,be),Je=I.end===void 0?ve:Math.min(I.end,be);!Q.extend&&ve>Je&&(E=Je,Je=ve,ve=E);var U=Ng(S,ve),M=Ng(S,Je);if(U&&M&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var H=J.createRange();H.setStart(U.node,U.offset),Q.removeAllRanges(),ve>Je?(Q.addRange(H),Q.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),Q.addRange(H))}}}}for(J=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&J.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var W=J[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}$u=!!nm,rm=nm=null}finally{Ye=h,oe.p=l,$.T=s}}t.current=i,$t=2}}function Hv(){if($t===2){$t=0;var t=Vi,i=Ks,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{Ev(t,i.alternate,i)}finally{Ye=h,oe.p=l,$.T=s}}$t=3}}function Fv(){if($t===4||$t===3){$t=0,Oc();var t=Vi,i=Ks,s=Ys,l=xv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,Ks=Vi=null,Gv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Mi=null),fs(s),i=i.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(pt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=oe.p,oe.p=2,$.T=null;try{for(var f=t.onRecoverableError,E=0;E<l.length;E++){var S=l[E];f(S.value,{componentStack:S.stack})}}finally{$.T=i,oe.p=h}}(Ys&3)!==0&&ku(),Tr(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===zf?Ol++:(Ol=0,zf=t):Ol=0,Pl(0)}}function Gv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,dl(i)))}function ku(t){return zv(),Hv(),Fv(),Qv()}function Qv(){if($t!==5)return!1;var t=Vi,i=qf;qf=0;var s=fs(Ys),l=$.T,h=oe.p;try{oe.p=32>s?32:s,$.T=null,s=Bf,Bf=null;var f=Vi,E=Ys;if($t=0,Ks=Vi=null,Ys=0,(Ye&6)!==0)throw Error(a(331));var S=Ye;if(Ye|=4,Iv(f.current),Rv(f,f.current,E,s),Ye=S,Pl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(pt,f)}catch{}return!0}finally{oe.p=h,$.T=l,Gv(t,i)}}function Kv(t,i,s){i=jn(s,i),i=Ef(t.stateNode,i,2),t=wi(t,i,2),t!==null&&(Or(t,2),Tr(t))}function et(t,i,s){if(t.tag===3)Kv(t,t,s);else for(;i!==null;){if(i.tag===3){Kv(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mi===null||!Mi.has(l))){t=jn(s,t),s=Wy(2),l=wi(i,s,2),l!==null&&(Zy(s,l,i,t),Or(l,2),Tr(l));break}}i=i.return}}function Qf(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new sA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(jf=!0,h.add(s),t=hA.bind(null,t,i,s),i.then(t,t))}function hA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,nt===t&&(Ue&s)===s&&(yt===4||yt===3&&(Ue&62914560)===Ue&&300>Dn()-Uf?(Ye&2)===0&&$s(t,0):kf|=s,Qs===Ue&&(Qs=0)),Tr(t)}function Yv(t,i){i===0&&(i=zo()),t=xs(t,i),t!==null&&(Or(t,i),Tr(t))}function dA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Yv(t,s)}function fA(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Yv(t,s)}function mA(t,i){return da(t,i)}var Lu=null,Ws=null,Kf=!1,Uu=!1,Yf=!1,Ka=0;function Tr(t){t!==Ws&&t.next===null&&(Ws===null?Lu=Ws=t:Ws=Ws.next=t),Uu=!0,Kf||(Kf=!0,gA())}function Pl(t,i){if(!Yf&&Uu){Yf=!0;do for(var s=!1,l=Lu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var E=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-tn(42|t)+1)-1,f&=h&~(E&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Zv(l,f))}else f=Ue,f=ds(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||va(l,f)||(s=!0,Zv(l,f));l=l.next}while(s);Yf=!1}}function pA(){$v()}function $v(){Uu=Kf=!1;var t=0;Ka!==0&&(AA()&&(t=Ka),Ka=0);for(var i=Dn(),s=null,l=Lu;l!==null;){var h=l.next,f=Xv(l,i);f===0?(l.next=null,s===null?Lu=h:s.next=h,h===null&&(Ws=s)):(s=l,(t!==0||(f&3)!==0)&&(Uu=!0)),l=h}Pl(t)}function Xv(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var E=31-tn(f),S=1<<E,I=h[E];I===-1?((S&s)===0||(S&l)!==0)&&(h[E]=qo(S,i)):I<=i&&(t.expiredLanes|=S),f&=~S}if(i=nt,s=Ue,s=ds(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fa(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||va(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&fa(l),fs(s)){case 2:case 8:s=us;break;case 32:s=ma;break;case 268435456:s=hs;break;default:s=ma}return l=Wv.bind(null,t),s=da(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&fa(l),t.callbackPriority=2,t.callbackNode=null,2}function Wv(t,i){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ku()&&t.callbackNode!==s)return null;var l=Ue;return l=ds(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Pv(t,l,i),Xv(t,Dn()),t.callbackNode!=null&&t.callbackNode===s?Wv.bind(null,t):null)}function Zv(t,i){if(ku())return null;Pv(t,i,!0)}function gA(){RA(function(){(Ye&6)!==0?da(Lo,pA):$v()})}function $f(){return Ka===0&&(Ka=Bo()),Ka}function Jv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_s(""+t)}function e_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function yA(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var f=Jv((h[St]||null).action),E=l.submitter;E&&(i=(i=E[St]||null)?Jv(i.formAction):E.getAttribute("formAction"),i!==null&&(f=i,E=null));var S=new Es("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ka!==0){var I=E?e_(h,E):new FormData(h);pf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(S.preventDefault(),I=E?e_(h,E):new FormData(h),pf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Xf=0;Xf<Pd.length;Xf++){var Wf=Pd[Xf],vA=Wf.toLowerCase(),_A=Wf[0].toUpperCase()+Wf.slice(1);$n(vA,"on"+_A)}$n(Pg,"onAnimationEnd"),$n(Mg,"onAnimationIteration"),$n(Vg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(jS,"onTransitionRun"),$n(kS,"onTransitionStart"),$n(LS,"onTransitionCancel"),$n(jg,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function t_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],I=S.instance,F=S.currentTarget;if(S=S.listener,I!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=F;try{f(h)}catch(X){Ru(X)}h.currentTarget=null,f=I}else for(E=0;E<l.length;E++){if(S=l[E],I=S.instance,F=S.currentTarget,S=S.listener,I!==f&&h.isPropagationStopped())break e;f=S,h.currentTarget=F;try{f(h)}catch(X){Ru(X)}h.currentTarget=null,f=I}}}}function Oe(t,i){var s=i[Go];s===void 0&&(s=i[Go]=new Set);var l=t+"__bubble";s.has(l)||(n_(i,t,2,!1),s.add(l))}function Zf(t,i,s){var l=0;i&&(l|=4),n_(s,t,l,i)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Jf(t){if(!t[qu]){t[qu]=!0,Qo.forEach(function(s){s!=="selectionchange"&&(EA.has(s)||Zf(s,!1,t),Zf(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[qu]||(i[qu]=!0,Zf("selectionchange",!1,i))}}function n_(t,i,s,l){switch(R_(i)){case 2:var h=KA;break;case 8:h=YA;break;default:h=fm}s=h.bind(null,i,s,t),h=void 0,!Mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function em(t,i,s,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=Pr(S),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=f=E;continue e}S=S.parentNode}}l=l.return}zc(function(){var F=f,X=Pn(s),J=[];e:{var G=kg.get(t);if(G!==void 0){var Q=Es,be=t;switch(t){case"keypress":if(dr(s)===0)break e;case"keydown":case"keyup":Q=Rs;break;case"focusin":be="focus",Q=Ss;break;case"focusout":be="blur",Q=Ss;break;case"beforeblur":case"afterblur":Q=Ss;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=wd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Xc;break;case Pg:case Mg:case Vg:Q=As;break;case jg:Q=Zc;break;case"scroll":case"scrollend":Q=Hc;break;case"wheel":Q=Cs;break;case"copy":case"cut":case"paste":Q=ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=il;break;case"toggle":case"beforetoggle":Q=eu}var ve=(i&4)!==0,Je=!ve&&(t==="scroll"||t==="scrollend"),U=ve?G!==null?G+"Capture":null:G;ve=[];for(var M=F,H;M!==null;){var W=M;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||U===null||(W=Ra(M,U),W!=null&&ve.push(Vl(M,W,H))),Je)break;M=M.return}0<ve.length&&(G=new Q(G,be,null,s,X),J.push({event:G,listeners:ve}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&s!==kr&&(be=s.relatedTarget||s.fromElement)&&(Pr(be)||be[xn]))break e;if((Q||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(be=s.relatedTarget||s.toElement,Q=F,be=be?Pr(be):null,be!==null&&(Je=c(be),ve=be.tag,be!==Je||ve!==5&&ve!==27&&ve!==6)&&(be=null)):(Q=null,be=F),Q!==be)){if(ve=Vn,W="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=il,W="onPointerLeave",U="onPointerEnter",M="pointer"),Je=Q==null?G:lr(Q),H=be==null?G:lr(be),G=new ve(W,M+"leave",Q,s,X),G.target=Je,G.relatedTarget=H,W=null,Pr(X)===F&&(ve=new ve(U,M+"enter",be,s,X),ve.target=H,ve.relatedTarget=Je,W=ve),Je=W,Q&&be)t:{for(ve=Q,U=be,M=0,H=ve;H;H=Zs(H))M++;for(H=0,W=U;W;W=Zs(W))H++;for(;0<M-H;)ve=Zs(ve),M--;for(;0<H-M;)U=Zs(U),H--;for(;M--;){if(ve===U||U!==null&&ve===U.alternate)break t;ve=Zs(ve),U=Zs(U)}ve=null}else ve=null;Q!==null&&r_(J,G,Q,ve,!1),be!==null&&Je!==null&&r_(J,Je,be,ve,!0)}}e:{if(G=F?lr(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var he=bg;else if(Ot(G))if(Sg)he=PS;else{he=xS;var De=DS}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Wo(F.elementType)&&(he=bg):he=OS;if(he&&(he=he(t,F))){zr(J,he,s,X);break e}De&&De(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Ei(G,"number",G.value)}switch(De=F?lr(F):window,t){case"focusin":(Ot(De)||De.contentEditable==="true")&&(Ns=De,Dd=F,ol=null);break;case"focusout":ol=Dd=Ns=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,xg(J,s,X);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":xg(J,s,X)}var de;if(pr)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ke?Y(t,s)&&(_e="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_e="onCompositionStart");_e&&(_&&s.locale!=="ko"&&(ke||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ke&&(de=Jo()):(hr=X,Ti="value"in hr?hr.value:hr.textContent,ke=!0)),De=Bu(F,_e),0<De.length&&(_e=new nl(_e,t,null,s,X),J.push({event:_e,listeners:De}),de?_e.data=de:(de=ie(s),de!==null&&(_e.data=de)))),(de=y?xt(t,s):Le(t,s))&&(_e=Bu(F,"onBeforeInput"),0<_e.length&&(De=new nl("onBeforeInput","beforeinput",null,s,X),J.push({event:De,listeners:_e}),De.data=de)),yA(J,t,F,s,X)}t_(J,i)})}function Vl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Bu(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ra(t,s),h!=null&&l.unshift(Vl(t,h,f)),h=Ra(t,i),h!=null&&l.push(Vl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function r_(t,i,s,l,h){for(var f=i._reactName,E=[];s!==null&&s!==l;){var S=s,I=S.alternate,F=S.stateNode;if(S=S.tag,I!==null&&I===l)break;S!==5&&S!==26&&S!==27||F===null||(I=F,h?(F=Ra(s,f),F!=null&&E.unshift(Vl(s,F,I))):h||(F=Ra(s,f),F!=null&&E.push(Vl(s,F,I)))),s=s.return}E.length!==0&&t.push({event:i,listeners:E})}var TA=/\r\n?/g,bA=/\u0000|\uFFFD/g;function i_(t){return(typeof t=="string"?t:""+t).replace(TA,`
`).replace(bA,"")}function a_(t,i){return i=i_(i),i_(t)===i}function zu(){}function Ze(t,i,s,l,h,f){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||On(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&On(t,""+l);break;case"className":cr(t,"class",l);break;case"tabIndex":cr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(t,s,l);break;case"style":Xo(t,l,f);break;case"data":if(i!=="object"){cr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=_s(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=_s(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=zu);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=_s(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),_i(t,"popover",l);break;case"xlinkActuate":Qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_i(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Sd.get(s)||s,_i(t,s,l))}}function tm(t,i,s,l,h,f){switch(s){case"style":Xo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?On(t,l):(typeof l=="number"||typeof l=="bigint")&&On(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ms.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=t[St]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):_i(t,s,l)}}}function Xt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var E=s[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ze(t,i,f,E,s,null)}}h&&Ze(t,i,"srcSet",s.srcSet,s,null),l&&Ze(t,i,"src",s.src,s,null);return;case"input":Oe("invalid",t);var S=f=E=h=null,I=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var X=s[l];if(X!=null)switch(l){case"name":h=X;break;case"type":E=X;break;case"checked":I=X;break;case"defaultChecked":F=X;break;case"value":f=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:Ze(t,i,l,X,s,null)}}Sa(t,f,S,I,F,E,h,!1),vs(t);return;case"select":Oe("invalid",t),l=E=f=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":f=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:Ze(t,i,h,S,s,null)}i=f,s=E,t.multiple=!!l,i!=null?jr(t,!!l,i,!1):s!=null&&jr(t,!!l,s,!0);return;case"textarea":Oe("invalid",t),f=h=l=null;for(E in s)if(s.hasOwnProperty(E)&&(S=s[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":h=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:Ze(t,i,E,S,s,null)}Aa(t,l,h,f),vs(t);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,I,l,s,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Oe(Ml[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ze(t,i,F,l,s,null)}return;default:if(Wo(i)){for(X in s)s.hasOwnProperty(X)&&(l=s[X],l!==void 0&&tm(t,i,X,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&Ze(t,i,S,l,s,null))}function SA(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,E=null,S=null,I=null,F=null,X=null;for(Q in s){var J=s[Q];if(s.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(Q)||Ze(t,i,Q,null,l,J)}}for(var G in l){var Q=l[G];if(J=s[G],l.hasOwnProperty(G)&&(Q!=null||J!=null))switch(G){case"type":f=Q;break;case"name":h=Q;break;case"checked":F=Q;break;case"defaultChecked":X=Q;break;case"value":E=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Q!==J&&Ze(t,i,G,Q,l,J)}}Tn(t,E,S,I,F,X,f,h);return;case"select":Q=E=S=G=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(f)||Ze(t,i,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":G=f;break;case"defaultValue":S=f;break;case"multiple":E=f;default:f!==I&&Ze(t,i,h,f,l,I)}i=S,s=E,l=Q,G!=null?jr(t,!!s,G,!1):!!l!=!!s&&(i!=null?jr(t,!!s,i,!0):jr(t,!!s,s?[]:"",!1));return;case"textarea":Q=G=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,i,S,null,l,h)}for(E in l)if(h=l[E],f=s[E],l.hasOwnProperty(E)&&(h!=null||f!=null))switch(E){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Ze(t,i,E,h,l,f)}Xe(t,G,Q);return;case"option":for(var be in s)if(G=s[be],s.hasOwnProperty(be)&&G!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:Ze(t,i,be,null,l,G)}for(I in l)if(G=l[I],Q=s[I],l.hasOwnProperty(I)&&G!==Q&&(G!=null||Q!=null))switch(I){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(t,i,I,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)G=s[ve],s.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&Ze(t,i,ve,null,l,G);for(F in l)if(G=l[F],Q=s[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,i));break;default:Ze(t,i,F,G,l,Q)}return;default:if(Wo(i)){for(var Je in s)G=s[Je],s.hasOwnProperty(Je)&&G!==void 0&&!l.hasOwnProperty(Je)&&tm(t,i,Je,void 0,l,G);for(X in l)G=l[X],Q=s[X],!l.hasOwnProperty(X)||G===Q||G===void 0&&Q===void 0||tm(t,i,X,G,l,Q);return}}for(var U in s)G=s[U],s.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&Ze(t,i,U,null,l,G);for(J in l)G=l[J],Q=s[J],!l.hasOwnProperty(J)||G===Q||G==null&&Q==null||Ze(t,i,J,G,l,Q)}var nm=null,rm=null;function Hu(t){return t.nodeType===9?t:t.ownerDocument}function s_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function im(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var am=null;function AA(){var t=window.event;return t&&t.type==="popstate"?t===am?!1:(am=t,!0):(am=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,wA=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(t){return c_.resolve(null).then(t).catch(CA)}:l_;function CA(t){setTimeout(function(){throw t})}function ki(t){return t==="head"}function u_(t,i){var s=i,l=0,h=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var E=t.ownerDocument;if(s&1&&jl(E.documentElement),s&2&&jl(E.body),s&4)for(s=E.head,jl(s),E=s.firstChild;E;){var S=E.nextSibling,I=E.nodeName;E[_a]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=S}}if(h===0){t.removeChild(f),Fl(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);Fl(i)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sm(s),vi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function NA(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_a])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function IA(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Wn(t.nextSibling),t===null))return null;return t}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function DA(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var lm=null;function h_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function d_(t,i,s){switch(i=Hu(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function jl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);vi(t)}var zn=new Map,f_=new Set;function Fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ti=oe.d;oe.d={f:xA,r:OA,D:PA,C:MA,L:VA,m:jA,X:LA,S:kA,M:UA};function xA(){var t=ti.f(),i=Vu();return t||i}function OA(t){var i=or(t);i!==null&&i.tag===5&&i.type==="form"?Py(i):ti.r(t)}var Js=typeof document>"u"?null:document;function m_(t,i,s){var l=Js;if(l&&typeof i=="string"&&i){var h=At(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),f_.has(h)||(f_.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Xt(i,"link",t),vt(i),l.head.appendChild(i)))}}function PA(t){ti.D(t),m_("dns-prefetch",t,null)}function MA(t,i){ti.C(t,i),m_("preconnect",t,i)}function VA(t,i,s){ti.L(t,i,s);var l=Js;if(l&&t&&i){var h='link[rel="preload"][as="'+At(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+At(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+At(s.imageSizes)+'"]')):h+='[href="'+At(t)+'"]';var f=h;switch(i){case"style":f=eo(t);break;case"script":f=to(t)}zn.has(f)||(t=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),zn.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(kl(f))||i==="script"&&l.querySelector(Ll(f))||(i=l.createElement("link"),Xt(i,"link",t),vt(i),l.head.appendChild(i)))}}function jA(t,i){ti.m(t,i);var s=Js;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+At(l)+'"][href="'+At(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=to(t)}if(!zn.has(f)&&(t=T({rel:"modulepreload",href:t},i),zn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ll(f)))return}l=s.createElement("link"),Xt(l,"link",t),vt(l),s.head.appendChild(l)}}}function kA(t,i,s){ti.S(t,i,s);var l=Js;if(l&&t){var h=hn(l).hoistableStyles,f=eo(t);i=i||"default";var E=h.get(f);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(kl(f)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},s),(s=zn.get(f))&&cm(t,s);var I=E=l.createElement("link");vt(I),Xt(I,"link",t),I._p=new Promise(function(F,X){I.onload=F,I.onerror=X}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Gu(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(f,E)}}}function LA(t,i){ti.X(t,i);var s=Js;if(s&&t){var l=hn(s).hoistableScripts,h=to(t),f=l.get(h);f||(f=s.querySelector(Ll(h)),f||(t=T({src:t,async:!0},i),(i=zn.get(h))&&um(t,i),f=s.createElement("script"),vt(f),Xt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function UA(t,i){ti.M(t,i);var s=Js;if(s&&t){var l=hn(s).hoistableScripts,h=to(t),f=l.get(h);f||(f=s.querySelector(Ll(h)),f||(t=T({src:t,async:!0,type:"module"},i),(i=zn.get(h))&&um(t,i),f=s.createElement("script"),vt(f),Xt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function p_(t,i,s,l){var h=(h=Se.current)?Fu(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=eo(s.href),s=hn(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=eo(s.href);var f=hn(h).hoistableStyles,E=f.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,E),(f=h.querySelector(kl(t)))&&!f._p&&(E.instance=f,E.state.loading=5),zn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(t,s),f||qA(h,t,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(s),s=hn(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function eo(t){return'href="'+At(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function qA(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",s),vt(i),t.head.appendChild(i))}function to(t){return'[src="'+At(t)+'"]'}function Ll(t){return"script[async]"+t}function y_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+At(s.href)+'"]');if(l)return i.instance=l,vt(l),l;var h=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),vt(l),Xt(l,"style",h),Gu(l,s.precedence,t),i.instance=l;case"stylesheet":h=eo(s.href);var f=t.querySelector(kl(h));if(f)return i.state.loading|=4,i.instance=f,vt(f),f;l=g_(s),(h=zn.get(h))&&cm(l,h),f=(t.ownerDocument||t).createElement("link"),vt(f);var E=f;return E._p=new Promise(function(S,I){E.onload=S,E.onerror=I}),Xt(f,"link",l),i.state.loading|=4,Gu(f,s.precedence,t),i.instance=f;case"script":return f=to(s.src),(h=t.querySelector(Ll(f)))?(i.instance=h,vt(h),h):(l=s,(h=zn.get(f))&&(l=T({},s),um(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),vt(h),Xt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Gu(l,s.precedence,t));return i.instance}function Gu(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)f=S;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Qu=null;function v_(t,i,s){if(Qu===null){var l=new Map,h=Qu=new Map;h.set(s,l)}else h=Qu,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[_a]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(i)||"";E=t+E;var S=l.get(E);S?S.push(f):l.set(E,[f])}}return l}function __(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function BA(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function E_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ul=null;function zA(){}function HA(t,i,s){if(Ul===null)throw Error(a(475));var l=Ul;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=eo(s.href),f=t.querySelector(kl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ku.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=f,vt(f);return}f=t.ownerDocument||t,s=g_(s),(h=zn.get(h))&&cm(s,h),f=f.createElement("link"),vt(f);var E=f;E._p=new Promise(function(S,I){E.onload=S,E.onerror=I}),Xt(f,"link",s),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Ku.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function FA(){if(Ul===null)throw Error(a(475));var t=Ul;return t.stylesheets&&t.count===0&&hm(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&hm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Ku(){if(this.count--,this.count===0){if(this.stylesheets)hm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yu=null;function hm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yu=new Map,i.forEach(GA,t),Yu=null,Ku.call(t))}function GA(t,i){if(!(i.state.loading&4)){var s=Yu.get(t);if(s)var l=s.get(null);else{s=new Map,Yu.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var E=h[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),f=s.get(E)||l,f===l&&s.set(null,h),s.set(E,h),this.count++,l=Ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ql={$$typeof:ne,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function QA(t,i,s,l,h,f,E,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function T_(t,i,s,l,h,f,E,S,I,F,X,J){return t=new QA(t,i,s,E,S,I,F,J),i=1,f===!0&&(i|=24),f=Sn(3,null,null,i),t.current=f,f.stateNode=t,i=Gd(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:i},$d(f),t}function b_(t){return t?(t=Os,t):Os}function S_(t,i,s,l,h,f){h=b_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ai(i),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=wi(t,l,i),s!==null&&(Nn(s,t,i),gl(s,t,i))}function A_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function dm(t,i){A_(t,i),(t=t.alternate)&&A_(t,i)}function w_(t){if(t.tag===13){var i=xs(t,67108864);i!==null&&Nn(i,t,67108864),dm(t,67108864)}}var $u=!0;function KA(t,i,s,l){var h=$.T;$.T=null;var f=oe.p;try{oe.p=2,fm(t,i,s,l)}finally{oe.p=f,$.T=h}}function YA(t,i,s,l){var h=$.T;$.T=null;var f=oe.p;try{oe.p=8,fm(t,i,s,l)}finally{oe.p=f,$.T=h}}function fm(t,i,s,l){if($u){var h=mm(l);if(h===null)em(t,i,l,Xu,s),C_(t,l);else if(XA(h,t,i,s,l))l.stopPropagation();else if(C_(t,l),i&4&&-1<$A.indexOf(t)){for(;h!==null;){var f=or(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=Qn(f.pendingLanes);if(E!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var I=1<<31-tn(E);S.entanglements[1]|=I,E&=~I}Tr(f),(Ye&6)===0&&(Pu=Dn()+500,Pl(0))}}break;case 13:S=xs(f,2),S!==null&&Nn(S,f,2),Vu(),dm(f,2)}if(f=mm(l),f===null&&em(t,i,l,Xu,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else em(t,i,l,null,s)}}function mm(t){return t=Pn(t),pm(t)}var Xu=null;function pm(t){if(Xu=null,t=Pr(t),t!==null){var i=c(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=d(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xu=t,null}function R_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yd()){case Lo:return 2;case us:return 8;case ma:case vd:return 32;case hs:return 268435456;default:return 32}default:return 32}}var gm=!1,Li=null,Ui=null,qi=null,Bl=new Map,zl=new Map,Bi=[],$A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(t,i){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function Hl(t,i,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=or(i),i!==null&&w_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function XA(t,i,s,l,h){switch(i){case"focusin":return Li=Hl(Li,t,i,s,l,h),!0;case"dragenter":return Ui=Hl(Ui,t,i,s,l,h),!0;case"mouseover":return qi=Hl(qi,t,i,s,l,h),!0;case"pointerover":var f=h.pointerId;return Bl.set(f,Hl(Bl.get(f)||null,t,i,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,zl.set(f,Hl(zl.get(f)||null,t,i,s,l,h)),!0}return!1}function N_(t){var i=Pr(t.target);if(i!==null){var s=c(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){t.blockedOn=i,Vc(t.priority,function(){if(s.tag===13){var l=Cn();l=pi(l);var h=xs(s,l);h!==null&&Nn(h,s,l),dm(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=mm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);kr=l,s.target.dispatchEvent(l),kr=null}else return i=or(s),i!==null&&w_(i),t.blockedOn=s,!1;i.shift()}return!0}function I_(t,i,s){Wu(t)&&s.delete(i)}function WA(){gm=!1,Li!==null&&Wu(Li)&&(Li=null),Ui!==null&&Wu(Ui)&&(Ui=null),qi!==null&&Wu(qi)&&(qi=null),Bl.forEach(I_),zl.forEach(I_)}function Zu(t,i){t.blockedOn===i&&(t.blockedOn=null,gm||(gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,WA)))}var Ju=null;function D_(t){Ju!==t&&(Ju=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ju===t&&(Ju=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(pm(l||s)===null)continue;break}var f=or(s);f!==null&&(t.splice(i,3),i-=3,pf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Fl(t){function i(I){return Zu(I,t)}Li!==null&&Zu(Li,t),Ui!==null&&Zu(Ui,t),qi!==null&&Zu(qi,t),Bl.forEach(i),zl.forEach(i);for(var s=0;s<Bi.length;s++){var l=Bi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Bi.length&&(s=Bi[0],s.blockedOn===null);)N_(s),s.blockedOn===null&&Bi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],E=h[St]||null;if(typeof f=="function")E||D_(s);else if(E){var S=null;if(f&&f.hasAttribute("formAction")){if(h=f,E=f[St]||null)S=E.formAction;else if(pm(h)!==null)continue}else S=E.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),D_(s)}}}function ym(t){this._internalRoot=t}eh.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Cn();S_(s,l,t,i,null,null)},eh.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;S_(t.current,2,null,t,null,null),Vu(),i[xn]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var i=gi();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Bi.length&&i!==0&&i<Bi[s].priority;s++);Bi.splice(s,0,t),s===0&&N_(t)}};var x_=e.version;if(x_!=="19.1.1")throw Error(a(527,x_,"19.1.1"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var ZA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{pt=th.inject(ZA),Ke=th}catch{}}return Ql.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=Ky,f=Yy,E=$y,S=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=T_(t,1,!1,null,null,s,l,h,f,E,S,null),t[xn]=i.current,Jf(t),new ym(i)},Ql.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Ky,E=Yy,S=$y,I=null,F=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(F=s.formState)),i=T_(t,1,!0,i,s??null,l,h,f,E,S,I,F),i.context=b_(null),s=i.current,l=Cn(),l=pi(l),h=Ai(l),h.callback=null,wi(s,h,l),s=l,i.current.lanes=s,Or(i,s),Tr(i),t[xn]=i.current,Jf(t),new eh(i)},Ql.version="19.1.1",Ql}var B_;function cw(){if(B_)return Em.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=lw(),Em.exports}var uw=cw();const hw=()=>{};var z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},dw=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],d=r[n++],m=r[n++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},O0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,m=d?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,T=c>>2,A=(c&3)<<4|m>>4;let b=(m&15)<<2|g>>6,C=g&63;p||(C=64,d||(b=64)),a.push(n[T],n[A],n[b],n[C])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(x0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):dw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||m==null||g==null||A==null)throw new fw;const b=c<<2|m>>4;if(a.push(b),g!==64){const C=m<<4&240|g>>2;if(a.push(C),A!==64){const R=g<<6&192|A;a.push(R)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mw=function(r){const e=x0(r);return O0.encodeByteArray(e,!0)},Th=function(r){return mw(r).replace(/\./g,"")},P0=function(r){try{return O0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=()=>pw().__FIREBASE_DEFAULTS__,yw=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},vw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&P0(r[1]);return e&&JSON.parse(e)},Hh=()=>{try{return hw()||gw()||yw()||vw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},M0=r=>Hh()?.emulatorHosts?.[r],_w=r=>{const e=M0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},V0=()=>Hh()?.config,j0=r=>Hh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Th(JSON.stringify(n)),Th(JSON.stringify(d)),""].join(".")}const ec={};function bw(){const r={prod:[],emulator:[]};for(const e of Object.keys(ec))ec[e]?r.emulator.push(e):r.prod.push(e);return r}function Sw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let H_=!1;function L0(r,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||ec[r]===e||ec[r]||H_)return;ec[r]=e;function n(b){return`__firebase__banner__${b}`}const a="__firebase__banner",c=bw().prod.length>0;function d(){const b=document.getElementById(a);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{H_=!0,d()},b}function T(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=Sw(a),C=n("text"),R=document.getElementById(C)||document.createElement("span"),O=n("learnmore"),K=document.getElementById(O)||document.createElement("a"),V=n("preprendIcon"),ae=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ne=b.element;m(ne),T(K,O);const Re=g();p(ae,V),ne.append(ae,R,K,Re),document.body.appendChild(ne)}c?(R.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Aw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function ww(){const r=Hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Nw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Iw(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Dw(){return!ww()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ow(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="FirebaseError";class di extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=Pw,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?Mw(c,a):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new di(o,m,a)}}function Mw(r,e){return r.replace(Vw,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Vw=/\{\$([^}]+)}/g;function jw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Za(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(F_(c)&&F_(d)){if(!Za(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function F_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Yl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function $l(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function kw(r,e){const n=new Lw(r,e);return n.subscribe.bind(n)}class Lw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");Uw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(r){return r&&r._delegate?r._delegate:r}class Ja{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Ew;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zw(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&d.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Bw(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bw(r){return r===Ya?void 0:r}function zw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const Fw={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Gw=Pe.INFO,Qw={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Kw=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=Qw[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=Gw,this._logHandler=Kw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Yw=(r,e)=>e.some(n=>r instanceof n);let G_,Q_;function $w(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xw(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U0=new WeakMap,zm=new WeakMap,q0=new WeakMap,wm=new WeakMap,Ep=new WeakMap;function Ww(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n($i(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&U0.set(n,r)}).catch(()=>{}),Ep.set(e,r),e}function Zw(r){if(zm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});zm.set(r,e)}let Hm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return zm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||q0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Jw(r){Hm=r(Hm)}function e1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Rm(this),e,...n);return q0.set(a,e.sort?e.sort():[e]),$i(a)}:Xw().includes(r)?function(...e){return r.apply(Rm(this),e),$i(U0.get(this))}:function(...e){return $i(r.apply(Rm(this),e))}}function t1(r){return typeof r=="function"?e1(r):(r instanceof IDBTransaction&&Zw(r),Yw(r,$w())?new Proxy(r,Hm):r)}function $i(r){if(r instanceof IDBRequest)return Ww(r);if(wm.has(r))return wm.get(r);const e=t1(r);return e!==r&&(wm.set(r,e),Ep.set(e,r)),e}const Rm=r=>Ep.get(r);function n1(r,e,{blocked:n,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),m=$i(d);return a&&d.addEventListener("upgradeneeded",p=>{a($i(d.result),p.oldVersion,p.newVersion,$i(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const r1=["get","getKey","getAll","getAllKeys","count"],i1=["put","add","delete","clear"],Cm=new Map;function K_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=i1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||r1.includes(n)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(e,c),c}Jw(r=>({...r,get:(e,n,a)=>K_(e,n)||r.get(e,n,a),has:(e,n)=>!!K_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s1(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function s1(r){return r.getComponent()?.type==="VERSION"}const Fm="@firebase/app",Y_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new _p("@firebase/app"),o1="@firebase/app-compat",l1="@firebase/analytics-compat",c1="@firebase/analytics",u1="@firebase/app-check-compat",h1="@firebase/app-check",d1="@firebase/auth",f1="@firebase/auth-compat",m1="@firebase/database",p1="@firebase/data-connect",g1="@firebase/database-compat",y1="@firebase/functions",v1="@firebase/functions-compat",_1="@firebase/installations",E1="@firebase/installations-compat",T1="@firebase/messaging",b1="@firebase/messaging-compat",S1="@firebase/performance",A1="@firebase/performance-compat",w1="@firebase/remote-config",R1="@firebase/remote-config-compat",C1="@firebase/storage",N1="@firebase/storage-compat",I1="@firebase/firestore",D1="@firebase/ai",x1="@firebase/firestore-compat",O1="firebase",P1="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",M1={[Fm]:"fire-core",[o1]:"fire-core-compat",[c1]:"fire-analytics",[l1]:"fire-analytics-compat",[h1]:"fire-app-check",[u1]:"fire-app-check-compat",[d1]:"fire-auth",[f1]:"fire-auth-compat",[m1]:"fire-rtdb",[p1]:"fire-data-connect",[g1]:"fire-rtdb-compat",[y1]:"fire-fn",[v1]:"fire-fn-compat",[_1]:"fire-iid",[E1]:"fire-iid-compat",[T1]:"fire-fcm",[b1]:"fire-fcm-compat",[S1]:"fire-perf",[A1]:"fire-perf-compat",[w1]:"fire-rc",[R1]:"fire-rc-compat",[C1]:"fire-gcs",[N1]:"fire-gcs-compat",[I1]:"fire-fst",[x1]:"fire-fst-compat",[D1]:"fire-vertex","fire-js":"fire-js",[O1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new Map,Qm=new Map,Km=new Map;function $_(r,e){try{r.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function po(r){const e=r.name;if(Km.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;Km.set(e,r);for(const n of mo.values())$_(n,r);for(const n of Qm.values())$_(n,r);return!0}function Tp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new yc("app","Firebase",V1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=P1;function bp(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:Gm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(n||(n=V0()),!n)throw Xi.create("no-options");const c=mo.get(o);if(c){if(Za(n,c.options)&&Za(a,c.config))return c;throw Xi.create("duplicate-app",{appName:o})}const d=new Hw(o);for(const p of Km.values())d.addComponent(p);const m=new j1(n,a,d);return mo.set(o,m),m}function B0(r=Gm){const e=mo.get(r);if(!e&&r===Gm&&V0())return bp();if(!e)throw Xi.create("no-app",{appName:r});return e}async function k1(r){let e=!1;const n=r.name;mo.has(n)?(e=!0,mo.delete(n)):Qm.has(n)&&r.decRefCount()<=0&&(Qm.delete(n),e=!0),e&&(await Promise.all(r.container.getProviders().map(a=>a.delete())),r.isDeleted=!0)}function Wi(r,e,n){let a=M1[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(d.join(" "));return}po(new Ja(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firebase-heartbeat-database",U1=1,sc="firebase-heartbeat-store";let Nm=null;function z0(){return Nm||(Nm=n1(L1,U1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(r=>{throw Xi.create("idb-open",{originalErrorMessage:r.message})})),Nm}async function q1(r){try{const n=(await z0()).transaction(sc),a=await n.objectStore(sc).get(H0(r));return await n.done,a}catch(e){if(e instanceof di)oi.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e?.message});oi.warn(n.message)}}}async function X_(r,e){try{const a=(await z0()).transaction(sc,"readwrite");await a.objectStore(sc).put(e,H0(r)),await a.done}catch(n){if(n instanceof di)oi.warn(n.message);else{const a=Xi.create("idb-set",{originalErrorMessage:n?.message});oi.warn(a.message)}}}function H0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=1024,z1=30;class H1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>z1){const o=Q1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=W_(),{heartbeatsToSend:n,unsentEntries:a}=F1(this._heartbeatsCache.heartbeats),o=Th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return oi.warn(e),""}}}function W_(){return new Date().toISOString().substring(0,10)}function F1(r,e=B1){const n=[];let a=r.slice();for(const o of r){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Z_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Z_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class G1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xw()?Ow().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Z_(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function Q1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(r){po(new Ja("platform-logger",e=>new a1(e),"PRIVATE")),po(new Ja("heartbeat",e=>new H1(e),"PRIVATE")),Wi(Fm,Y_,r),Wi(Fm,Y_,"esm2020"),Wi("fire-js","")}K1("");var Y1="firebase",$1="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(Y1,$1,"app");function F0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X1=F0,G0=new yc("auth","Firebase",F0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new _p("@firebase/auth");function W1(r,...e){bh.logLevel<=Pe.WARN&&bh.warn(`Auth (${Ao}): ${r}`,...e)}function ch(r,...e){bh.logLevel<=Pe.ERROR&&bh.error(`Auth (${Ao}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(r,...e){throw Sp(r,...e)}function Sr(r,...e){return Sp(r,...e)}function Q0(r,e,n){const a={...X1(),[e]:n};return new yc("auth","Firebase",a).create(e,{appName:r.name})}function ii(r){return Q0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sp(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return G0.create(r,...e)}function Ee(r,e,...n){if(!r)throw Sp(e,...n)}function ni(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function li(r,e){r||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(){return typeof self<"u"&&self.location?.href||""}function Z1(){return J_()==="http:"||J_()==="https:"}function J_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z1()||Cw()||"connection"in navigator)?navigator.onLine:!0}function eR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=Aw()||Nw()}get(){return J1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(r,e){li(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rR=new _c(3e4,6e4);function oa(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function la(r,e,n,a,o={}){return Y0(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const m=vc({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...c};return Rw()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&So(r.emulatorConfig.host)&&(g.credentials="include"),K0.fetch()(await $0(r,r.config.apiHost,n,m),g)})}async function Y0(r,e,n){r._canInitEmulator=!1;const a={...tR,...e};try{const o=new aR(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw nh(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw nh(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw nh(r,"user-disabled",d);const T=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Q0(r,T,g);Jn(r,T)}}catch(o){if(o instanceof di)throw o;Jn(r,"network-request-failed",{message:String(o)})}}async function Ec(r,e,n,a,o={}){const c=await la(r,e,n,a,o);return"mfaPendingCredential"in c&&Jn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function $0(r,e,n,a){const o=`${e}${n}?${a}`,c=r,d=c.config.emulator?Ap(r.config,o):`${r.config.apiScheme}://${o}`;return nR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function iR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Sr(this.auth,"network-request-failed")),rR.get())})}}function nh(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Sr(r,e,a);return o.customData._tokenResponse=n,o}function eE(r){return r!==void 0&&r.enterprise!==void 0}class sR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oR(r,e){return la(r,"GET","/v2/recaptchaConfig",oa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(r,e){return la(r,"POST","/v1/accounts:delete",e)}async function Sh(r,e){return la(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cR(r,e=!1){const n=Ft(r),a=await n.getIdToken(e),o=wp(a);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:tc(Im(o.auth_time)),issuedAtTime:tc(Im(o.iat)),expirationTime:tc(Im(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Im(r){return Number(r)*1e3}function wp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=P0(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function tE(r){const e=wp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof di&&uR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function uR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(r){const e=r.auth,n=await r.getIdToken(),a=await oc(r,Sh(e,{idToken:n}));Ee(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?X0(o.providerUserInfo):[],d=fR(r.providerData,c),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!d?.length,g=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,T)}async function dR(r){const e=Ft(r);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fR(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function X0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(r,e){const n=await Y0(r,{},async()=>{const a=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await $0(r,o,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&So(r.emulatorConfig.host)&&(p.credentials="include"),K0.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pR(r,e){return la(r,"POST","/v2/accounts:revokeToken",oa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=tE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:c}=await mR(e,n);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:c}=n,d=new lo;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new hR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await oc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cR(this,e)}reload(){return dR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await oc(this,lR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:b,isAnonymous:C,providerData:R,stsTokenManager:O}=n;Ee(A&&O,e,"internal-error");const K=lo.fromJSON(this.name,O);Ee(typeof A=="string",e,"internal-error"),Hi(a,e.name),Hi(o,e.name),Ee(typeof b=="boolean",e,"internal-error"),Ee(typeof C=="boolean",e,"internal-error"),Hi(c,e.name),Hi(d,e.name),Hi(m,e.name),Hi(p,e.name),Hi(g,e.name),Hi(T,e.name);const V=new Zn({uid:A,auth:e,email:o,emailVerified:b,displayName:a,isAnonymous:C,photoURL:d,phoneNumber:c,tenantId:m,stsTokenManager:K,createdAt:g,lastLoginAt:T});return R&&Array.isArray(R)&&(V.providerData=R.map(ae=>({...ae}))),p&&(V._redirectEventId=p),V}static async _fromIdTokenResponse(e,n,a=!1){const o=new lo;o.updateFromServerResponse(n);const c=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Ah(c),c}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?X0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,m=new lo;m.updateFromIdToken(a);const p=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;function ri(r){li(r instanceof Function,"Expected a class definition");let e=nE.get(r);return e?(li(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,nE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}W0.type="NONE";const rE=W0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(r,e,n){return`firebase:${r}:${e}:${n}`}class co{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,c),this.fullPersistenceKey=uh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new co(ri(rE),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||ri(rE);const d=uh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(d);if(T){let A;if(typeof T=="string"){const b=await Sh(e,{idToken:T}).catch(()=>{});if(!b)break;A=await Zn._fromGetAccountInfoResponse(e,b,T)}else A=Zn._fromJSON(e,T);g!==c&&(m=A),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new co(c,e,a):(c=p[0],m&&await c._set(d,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new co(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rT(e))return"Blackberry";if(iT(e))return"Webos";if(J0(e))return"Safari";if((e.includes("chrome/")||eT(e))&&!e.includes("edge/"))return"Chrome";if(nT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function Z0(r=cn()){return/firefox\//i.test(r)}function J0(r=cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eT(r=cn()){return/crios\//i.test(r)}function tT(r=cn()){return/iemobile/i.test(r)}function nT(r=cn()){return/android/i.test(r)}function rT(r=cn()){return/blackberry/i.test(r)}function iT(r=cn()){return/webos/i.test(r)}function Rp(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function gR(r=cn()){return Rp(r)&&!!window.navigator?.standalone}function yR(){return Iw()&&document.documentMode===10}function aT(r=cn()){return Rp(r)||nT(r)||iT(r)||rT(r)||/windows phone/i.test(r)||tT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r,e=[]){let n;switch(r){case"Browser":n=iE(cn());break;case"Worker":n=`${iE(cn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((d,m)=>{try{const p=e(c);d(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(r,e={}){return la(r,"GET","/v2/passwordPolicy",oa(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=6;class TR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ER,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aE(this),this.idTokenSubscription=new aE(this),this.beforeStateQueue=new vR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),a=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(ii(this));const n=e?Ft(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _R(this),n=new TR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await pR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&W1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function as(r){return Ft(r)}class aE{constructor(e){this.auth=e,this.observer=null,this.addObserver=kw(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SR(r){Fh=r}function oT(r){return Fh.loadJS(r)}function AR(){return Fh.recaptchaEnterpriseScript}function wR(){return Fh.gapiScript}function RR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class CR{constructor(){this.enterprise=new NR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class NR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const IR="recaptcha-enterprise",lT="NO_RECAPTCHA";class DR{constructor(e){this.type=IR,this.auth=as(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{oR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new sR(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(p=>{m(p)})})}function o(c,d,m){const p=window.grecaptcha;eE(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(lT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CR().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(m=>{if(!n&&eE(window.grecaptcha))o(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=AR();p.length!==0&&(p+=m),oT(p).then(()=>{o(m,c,d)}).catch(g=>{d(g)})}}).catch(m=>{d(m)})})}}async function sE(r,e,n,a=!1,o=!1){const c=new DR(r);let d;if(o)d=lT;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Xm(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await sE(r,e,n,n==="getOobCode");return a(r,c)}else return a(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await sE(r,e,n,n==="getOobCode");return a(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(r,e){const n=Tp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Za(c,e??{}))return o;Jn(o,"already-initialized")}return n.initialize({options:e})}function OR(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ri);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function PR(r,e,n){const a=as(r);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=cT(e),{host:d,port:m}=MR(e),p=m===null?"":`:${m}`,g={url:`${c}//${d}${p}/`},T=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(Za(g,a.config.emulator)&&Za(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,So(d)?(k0(`${c}//${d}${p}`),L0("Auth",!0)):VR()}function cT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function MR(r){const e=cT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:oE(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:oE(d)}}}function oE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function VR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function jR(r,e){return la(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(r,e){return Ec(r,"POST","/v1/accounts:signInWithPassword",oa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(r,e){return Ec(r,"POST","/v1/accounts:signInWithEmailLink",oa(r,e))}async function UR(r,e){return Ec(r,"POST","/v1/accounts:signInWithEmailLink",oa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Cp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new lc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new lc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,n,"signInWithPassword",kR);case"emailLink":return LR(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,a,"signUpPassword",jR);case"emailLink":return UR(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r,e){return Ec(r,"POST","/v1/accounts:signInWithIdp",oa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="http://localhost";class es extends Cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=n;if(!a||!o)return null;const d=new es(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,uo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:qR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zR(r){const e=Yl($l(r)).link,n=e?Yl($l(e)).deep_link_id:null,a=Yl($l(r)).deep_link_id;return(a?Yl($l(a)).link:null)||a||n||e||r}class Np{constructor(e){const n=Yl($l(e)),a=n.apiKey??null,o=n.oobCode??null,c=BR(n.mode??null);Ee(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=zR(e);try{return new Np(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Np.parseLink(n);return Ee(a,"argument-error"),lc._fromEmailAndCode(e,a.code,a.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends uT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Tc{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Gi.credential(n,a)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Tc{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Tc{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ki.credential(n,a)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(r,e){return Ec(r,"POST","/v1/accounts:signUp",oa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const c=await Zn._fromIdTokenResponse(e,a,o),d=lE(a);return new ts({user:c,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=lE(a);return new ts({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function lE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends di{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new wh(e,n,a,o)}}function hT(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(r,c,e,a):c})}async function FR(r,e,n=!1){const a=await oc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ts._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(r,e,n=!1){const{auth:a}=r;if(Hn(a.app))return Promise.reject(ii(a));const o="reauthenticate";try{const c=await oc(r,hT(a,o,e,r),n);Ee(c.idToken,a,"internal-error");const d=wp(c.idToken);Ee(d,a,"internal-error");const{sub:m}=d;return Ee(r.uid===m,a,"user-mismatch"),ts._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Jn(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dT(r,e,n=!1){if(Hn(r.app))return Promise.reject(ii(r));const a="signIn",o=await hT(r,a,e),c=await ts._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(c.user),c}async function QR(r,e){return dT(as(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(r){const e=as(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KR(r,e,n){if(Hn(r.app))return Promise.reject(ii(r));const a=as(r),d=await Xm(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&fT(r),p}),m=await ts._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(m.user),m}function YR(r,e,n){return Hn(r.app)?Promise.reject(ii(r)):QR(Ft(r),wo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&fT(r),a})}function $R(r,e,n,a){return Ft(r).onIdTokenChanged(e,n,a)}function XR(r,e,n){return Ft(r).beforeAuthStateChanged(e,n)}function WR(r,e,n,a){return Ft(r).onAuthStateChanged(e,n,a)}function cE(r){return Ft(r).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=1e3,JR=10;class pT extends mT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);yR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,JR):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},ZR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pT.type="LOCAL";const eC=pT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends mT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gT.type="SESSION";const yT=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Gh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(d).map(async g=>g(n.origin,c)),p=await tC(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,p)=>{const g=Ip("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const b=A;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(b.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function rC(r){Ar().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function iC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aC(){return navigator?.serviceWorker?.controller||null}function sC(){return vT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebaseLocalStorageDb",oC=1,Ch="firebaseLocalStorage",ET="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(r,e){return r.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function lC(){const r=indexedDB.deleteDatabase(_T);return new bc(r).toPromise()}function Wm(){const r=indexedDB.open(_T,oC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Ch,{keyPath:ET})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Ch)?e(a):(a.close(),await lC(),e(await Wm()))})})}async function uE(r,e,n){const a=Qh(r,!0).put({[ET]:e,value:n});return new bc(a).toPromise()}async function cC(r,e){const n=Qh(r,!1).get(e),a=await new bc(n).toPromise();return a===void 0?null:a.value}function hE(r,e){const n=Qh(r,!0).delete(e);return new bc(n).toPromise()}const uC=800,hC=3;class TT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>hC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(sC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iC(),!this.activeServiceWorker)return;this.sender=new nC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await uE(e,Rh,"1"),await hE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>uE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>cC(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Qh(o,!1).getAll();return new bc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TT.type="LOCAL";const dC=TT;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(r,e){return e?ri(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends Cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mC(r){return dT(r.auth,new Dp(r),r.bypassAuthState)}function pC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),GR(n,new Dp(r),r.bypassAuthState)}async function gC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),FR(n,new Dp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mC;case"linkViaPopup":case"linkViaRedirect":return gC;case"reauthViaPopup":case"reauthViaRedirect":return pC;default:Jn(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new _c(2e3,1e4);class oo extends bT{constructor(e,n,a,o,c){super(e,n,o,c),this.provider=a,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yC.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="pendingRedirect",hh=new Map;class _C extends bT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const a=await EC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EC(r,e){const n=SC(e),a=bC(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function TC(r,e){hh.set(r._key(),e)}function bC(r){return ri(r._redirectPersistence)}function SC(r){return uh(vC,r.config.apiKey,r.name)}async function AC(r,e,n=!1){if(Hn(r.app))return Promise.reject(ii(r));const a=as(r),o=fC(a,e),d=await new _C(a,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=600*1e3;class RC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ST(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Sr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wC&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(e))}saveEventToCache(e){this.cachedEventUids.add(dE(e)),this.lastProcessedEventTime=Date.now()}}function dE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ST({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function CC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ST(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(r,e={}){return la(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DC=/^https?/;async function xC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await NC(r);for(const n of e)try{if(OC(n))return}catch{}Jn(r,"unauthorized-domain")}function OC(r){const e=Ym(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!DC.test(n))return!1;if(IC.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new _c(3e4,6e4);function fE(){const r=Ar().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function MC(r){return new Promise((e,n)=>{function a(){fE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fE(),n(Sr(r,"network-request-failed"))},timeout:PC.get()})}if(Ar().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ar().gapi?.load)a();else{const o=RR("iframefcb");return Ar()[o]=()=>{gapi.load?a():n(Sr(r,"network-request-failed"))},oT(`${wR()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw dh=null,e})}let dh=null;function VC(r){return dh=dh||MC(r),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new _c(5e3,15e3),kC="__/auth/iframe",LC="emulator/auth/iframe",UC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BC(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Ap(e,LC):`https://${r.config.authDomain}/${kC}`,a={apiKey:e.apiKey,appName:r.name,v:Ao},o=qC.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${vc(a).slice(1)}`}async function zC(r){const e=await VC(r),n=Ar().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:BC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UC,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Sr(r,"network-request-failed"),m=Ar().setTimeout(()=>{c(d)},jC.get());function p(){Ar().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FC=500,GC=600,QC="_blank",KC="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YC(r,e,n,a=FC,o=GC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...HC,width:a.toString(),height:o.toString(),top:c,left:d},g=cn().toLowerCase();n&&(m=eT(g)?QC:n),Z0(g)&&(e=e||KC,p.scrollbars="yes");const T=Object.entries(p).reduce((b,[C,R])=>`${b}${C}=${R},`,"");if(gR(g)&&m!=="_self")return $C(e||"",m),new mE(null);const A=window.open(e||"",m,T);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new mE(A)}function $C(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="__/auth/handler",WC="emulator/auth/handler",ZC=encodeURIComponent("fac");async function pE(r,e,n,a,o,c){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Ao,eventId:o};if(e instanceof uT){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",jw(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(e instanceof Tc){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const m=d;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),g=p?`#${ZC}=${encodeURIComponent(p)}`:"";return`${JC(r)}?${vc(m).slice(1)}${g}`}function JC({config:r}){return r.emulator?Ap(r,WC):`https://${r.authDomain}/${XC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class eN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yT,this._completeRedirectFn=AC,this._overrideRedirectResult=TC}async _openPopup(e,n,a,o){li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await pE(e,n,a,Ym(),o);return YC(e,c,Ip())}async _openRedirect(e,n,a,o){await this._originValidation(e);const c=await pE(e,n,a,Ym(),o);return rC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(li(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await zC(e),a=new RC(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},o=>{const c=o?.[0]?.[Dm];c!==void 0&&n(!!c),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aT()||J0()||Rp()}}const tN=eN;var gE="@firebase/auth",yE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iN(r){po(new Ja("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sT(r)},g=new bR(a,o,c,p);return OR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),po(new Ja("auth-internal",e=>{const n=as(e.getProvider("auth").getImmediate());return(a=>new nN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(gE,yE,rN(r)),Wi(gE,yE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=300,sN=j0("authIdTokenMaxAge")||aN;let vE=null;const oN=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>sN)return;const o=n?.token;vE!==o&&(vE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AT(r=B0()){const e=Tp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=xR(r,{popupRedirectResolver:tN,persistence:[dC,eC,yT]}),a=j0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=oN(c.toString());XR(n,d,()=>d(n.currentUser)),$R(n,m=>d(m))}}const o=M0("auth");return o&&PR(n,`http://${o}`),n}function lN(){return document.getElementsByTagName("head")?.[0]??document}SR({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=Sr("internal-error");c.customData=o,n(c)},a.type="text/javascript",a.charset="UTF-8",lN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iN("Browser");var _E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zi,wT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,N){function D(){}D.prototype=N.prototype,k.D=N.prototype,k.prototype=new D,k.prototype.constructor=k,k.C=function(j,L,q){for(var x=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)x[Gt-2]=arguments[Gt];return N.prototype[L].apply(j,x)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,N,D){D||(D=0);var j=Array(16);if(typeof N=="string")for(var L=0;16>L;++L)j[L]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(L=0;16>L;++L)j[L]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=k.g[0],D=k.g[1],L=k.g[2];var q=k.g[3],x=N+(q^D&(L^q))+j[0]+3614090360&4294967295;N=D+(x<<7&4294967295|x>>>25),x=q+(L^N&(D^L))+j[1]+3905402710&4294967295,q=N+(x<<12&4294967295|x>>>20),x=L+(D^q&(N^D))+j[2]+606105819&4294967295,L=q+(x<<17&4294967295|x>>>15),x=D+(N^L&(q^N))+j[3]+3250441966&4294967295,D=L+(x<<22&4294967295|x>>>10),x=N+(q^D&(L^q))+j[4]+4118548399&4294967295,N=D+(x<<7&4294967295|x>>>25),x=q+(L^N&(D^L))+j[5]+1200080426&4294967295,q=N+(x<<12&4294967295|x>>>20),x=L+(D^q&(N^D))+j[6]+2821735955&4294967295,L=q+(x<<17&4294967295|x>>>15),x=D+(N^L&(q^N))+j[7]+4249261313&4294967295,D=L+(x<<22&4294967295|x>>>10),x=N+(q^D&(L^q))+j[8]+1770035416&4294967295,N=D+(x<<7&4294967295|x>>>25),x=q+(L^N&(D^L))+j[9]+2336552879&4294967295,q=N+(x<<12&4294967295|x>>>20),x=L+(D^q&(N^D))+j[10]+4294925233&4294967295,L=q+(x<<17&4294967295|x>>>15),x=D+(N^L&(q^N))+j[11]+2304563134&4294967295,D=L+(x<<22&4294967295|x>>>10),x=N+(q^D&(L^q))+j[12]+1804603682&4294967295,N=D+(x<<7&4294967295|x>>>25),x=q+(L^N&(D^L))+j[13]+4254626195&4294967295,q=N+(x<<12&4294967295|x>>>20),x=L+(D^q&(N^D))+j[14]+2792965006&4294967295,L=q+(x<<17&4294967295|x>>>15),x=D+(N^L&(q^N))+j[15]+1236535329&4294967295,D=L+(x<<22&4294967295|x>>>10),x=N+(L^q&(D^L))+j[1]+4129170786&4294967295,N=D+(x<<5&4294967295|x>>>27),x=q+(D^L&(N^D))+j[6]+3225465664&4294967295,q=N+(x<<9&4294967295|x>>>23),x=L+(N^D&(q^N))+j[11]+643717713&4294967295,L=q+(x<<14&4294967295|x>>>18),x=D+(q^N&(L^q))+j[0]+3921069994&4294967295,D=L+(x<<20&4294967295|x>>>12),x=N+(L^q&(D^L))+j[5]+3593408605&4294967295,N=D+(x<<5&4294967295|x>>>27),x=q+(D^L&(N^D))+j[10]+38016083&4294967295,q=N+(x<<9&4294967295|x>>>23),x=L+(N^D&(q^N))+j[15]+3634488961&4294967295,L=q+(x<<14&4294967295|x>>>18),x=D+(q^N&(L^q))+j[4]+3889429448&4294967295,D=L+(x<<20&4294967295|x>>>12),x=N+(L^q&(D^L))+j[9]+568446438&4294967295,N=D+(x<<5&4294967295|x>>>27),x=q+(D^L&(N^D))+j[14]+3275163606&4294967295,q=N+(x<<9&4294967295|x>>>23),x=L+(N^D&(q^N))+j[3]+4107603335&4294967295,L=q+(x<<14&4294967295|x>>>18),x=D+(q^N&(L^q))+j[8]+1163531501&4294967295,D=L+(x<<20&4294967295|x>>>12),x=N+(L^q&(D^L))+j[13]+2850285829&4294967295,N=D+(x<<5&4294967295|x>>>27),x=q+(D^L&(N^D))+j[2]+4243563512&4294967295,q=N+(x<<9&4294967295|x>>>23),x=L+(N^D&(q^N))+j[7]+1735328473&4294967295,L=q+(x<<14&4294967295|x>>>18),x=D+(q^N&(L^q))+j[12]+2368359562&4294967295,D=L+(x<<20&4294967295|x>>>12),x=N+(D^L^q)+j[5]+4294588738&4294967295,N=D+(x<<4&4294967295|x>>>28),x=q+(N^D^L)+j[8]+2272392833&4294967295,q=N+(x<<11&4294967295|x>>>21),x=L+(q^N^D)+j[11]+1839030562&4294967295,L=q+(x<<16&4294967295|x>>>16),x=D+(L^q^N)+j[14]+4259657740&4294967295,D=L+(x<<23&4294967295|x>>>9),x=N+(D^L^q)+j[1]+2763975236&4294967295,N=D+(x<<4&4294967295|x>>>28),x=q+(N^D^L)+j[4]+1272893353&4294967295,q=N+(x<<11&4294967295|x>>>21),x=L+(q^N^D)+j[7]+4139469664&4294967295,L=q+(x<<16&4294967295|x>>>16),x=D+(L^q^N)+j[10]+3200236656&4294967295,D=L+(x<<23&4294967295|x>>>9),x=N+(D^L^q)+j[13]+681279174&4294967295,N=D+(x<<4&4294967295|x>>>28),x=q+(N^D^L)+j[0]+3936430074&4294967295,q=N+(x<<11&4294967295|x>>>21),x=L+(q^N^D)+j[3]+3572445317&4294967295,L=q+(x<<16&4294967295|x>>>16),x=D+(L^q^N)+j[6]+76029189&4294967295,D=L+(x<<23&4294967295|x>>>9),x=N+(D^L^q)+j[9]+3654602809&4294967295,N=D+(x<<4&4294967295|x>>>28),x=q+(N^D^L)+j[12]+3873151461&4294967295,q=N+(x<<11&4294967295|x>>>21),x=L+(q^N^D)+j[15]+530742520&4294967295,L=q+(x<<16&4294967295|x>>>16),x=D+(L^q^N)+j[2]+3299628645&4294967295,D=L+(x<<23&4294967295|x>>>9),x=N+(L^(D|~q))+j[0]+4096336452&4294967295,N=D+(x<<6&4294967295|x>>>26),x=q+(D^(N|~L))+j[7]+1126891415&4294967295,q=N+(x<<10&4294967295|x>>>22),x=L+(N^(q|~D))+j[14]+2878612391&4294967295,L=q+(x<<15&4294967295|x>>>17),x=D+(q^(L|~N))+j[5]+4237533241&4294967295,D=L+(x<<21&4294967295|x>>>11),x=N+(L^(D|~q))+j[12]+1700485571&4294967295,N=D+(x<<6&4294967295|x>>>26),x=q+(D^(N|~L))+j[3]+2399980690&4294967295,q=N+(x<<10&4294967295|x>>>22),x=L+(N^(q|~D))+j[10]+4293915773&4294967295,L=q+(x<<15&4294967295|x>>>17),x=D+(q^(L|~N))+j[1]+2240044497&4294967295,D=L+(x<<21&4294967295|x>>>11),x=N+(L^(D|~q))+j[8]+1873313359&4294967295,N=D+(x<<6&4294967295|x>>>26),x=q+(D^(N|~L))+j[15]+4264355552&4294967295,q=N+(x<<10&4294967295|x>>>22),x=L+(N^(q|~D))+j[6]+2734768916&4294967295,L=q+(x<<15&4294967295|x>>>17),x=D+(q^(L|~N))+j[13]+1309151649&4294967295,D=L+(x<<21&4294967295|x>>>11),x=N+(L^(D|~q))+j[4]+4149444226&4294967295,N=D+(x<<6&4294967295|x>>>26),x=q+(D^(N|~L))+j[11]+3174756917&4294967295,q=N+(x<<10&4294967295|x>>>22),x=L+(N^(q|~D))+j[2]+718787259&4294967295,L=q+(x<<15&4294967295|x>>>17),x=D+(q^(L|~N))+j[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(L+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+q&4294967295}a.prototype.u=function(k,N){N===void 0&&(N=k.length);for(var D=N-this.blockSize,j=this.B,L=this.h,q=0;q<N;){if(L==0)for(;q<=D;)o(this,k,q),q+=this.blockSize;if(typeof k=="string"){for(;q<N;)if(j[L++]=k.charCodeAt(q++),L==this.blockSize){o(this,j),L=0;break}}else for(;q<N;)if(j[L++]=k[q++],L==this.blockSize){o(this,j),L=0;break}}this.h=L,this.o+=N},a.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;var D=8*this.o;for(N=k.length-8;N<k.length;++N)k[N]=D&255,D/=256;for(this.u(k),k=Array(16),N=D=0;4>N;++N)for(var j=0;32>j;j+=8)k[D++]=this.g[N]>>>j&255;return k};function c(k,N){var D=m;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=N(k)}function d(k,N){this.h=N;for(var D=[],j=!0,L=k.length-1;0<=L;L--){var q=k[L]|0;j&&q==N||(D[L]=q,j=!1)}this.g=D}var m={};function p(k){return-128<=k&&128>k?c(k,function(N){return new d([N|0],0>N?-1:0)}):new d([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return A;if(0>k)return K(g(-k));for(var N=[],D=1,j=0;k>=D;j++)N[j]=k/D|0,D*=4294967296;return new d(N,0)}function T(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return K(T(k.substring(1),N));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(N,8)),j=A,L=0;L<k.length;L+=8){var q=Math.min(8,k.length-L),x=parseInt(k.substring(L,L+q),N);8>q?(q=g(Math.pow(N,q)),j=j.j(q).add(g(x))):(j=j.j(D),j=j.add(g(x)))}return j}var A=p(0),b=p(1),C=p(16777216);r=d.prototype,r.m=function(){if(O(this))return-K(this).m();for(var k=0,N=1,D=0;D<this.g.length;D++){var j=this.i(D);k+=(0<=j?j:4294967296+j)*N,N*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(R(this))return"0";if(O(this))return"-"+K(this).toString(k);for(var N=g(Math.pow(k,6)),D=this,j="";;){var L=Re(D,N).g;D=V(D,L.j(N));var q=((0<D.g.length?D.g[0]:D.h)>>>0).toString(k);if(D=L,R(D))return q+j;for(;6>q.length;)q="0"+q;j=q+j}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function R(k){if(k.h!=0)return!1;for(var N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function O(k){return k.h==-1}r.l=function(k){return k=V(this,k),O(k)?-1:R(k)?0:1};function K(k){for(var N=k.g.length,D=[],j=0;j<N;j++)D[j]=~k.g[j];return new d(D,~k.h).add(b)}r.abs=function(){return O(this)?K(this):this},r.add=function(k){for(var N=Math.max(this.g.length,k.g.length),D=[],j=0,L=0;L<=N;L++){var q=j+(this.i(L)&65535)+(k.i(L)&65535),x=(q>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);j=x>>>16,q&=65535,x&=65535,D[L]=x<<16|q}return new d(D,D[D.length-1]&-2147483648?-1:0)};function V(k,N){return k.add(K(N))}r.j=function(k){if(R(this)||R(k))return A;if(O(this))return O(k)?K(this).j(K(k)):K(K(this).j(k));if(O(k))return K(this.j(K(k)));if(0>this.l(C)&&0>k.l(C))return g(this.m()*k.m());for(var N=this.g.length+k.g.length,D=[],j=0;j<2*N;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(var L=0;L<k.g.length;L++){var q=this.i(j)>>>16,x=this.i(j)&65535,Gt=k.i(L)>>>16,mt=k.i(L)&65535;D[2*j+2*L]+=x*mt,ae(D,2*j+2*L),D[2*j+2*L+1]+=q*mt,ae(D,2*j+2*L+1),D[2*j+2*L+1]+=x*Gt,ae(D,2*j+2*L+1),D[2*j+2*L+2]+=q*Gt,ae(D,2*j+2*L+2)}for(j=0;j<N;j++)D[j]=D[2*j+1]<<16|D[2*j];for(j=N;j<2*N;j++)D[j]=0;return new d(D,0)};function ae(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function ne(k,N){this.g=k,this.h=N}function Re(k,N){if(R(N))throw Error("division by zero");if(R(k))return new ne(A,A);if(O(k))return N=Re(K(k),N),new ne(K(N.g),K(N.h));if(O(N))return N=Re(k,K(N)),new ne(K(N.g),N.h);if(30<k.g.length){if(O(k)||O(N))throw Error("slowDivide_ only works with positive integers.");for(var D=b,j=N;0>=j.l(k);)D=fe(D),j=fe(j);var L=je(D,1),q=je(j,1);for(j=je(j,2),D=je(D,2);!R(j);){var x=q.add(j);0>=x.l(k)&&(L=L.add(D),q=x),j=je(j,1),D=je(D,1)}return N=V(k,L.j(N)),new ne(L,N)}for(L=A;0<=k.l(N);){for(D=Math.max(1,Math.floor(k.m()/N.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),q=g(D),x=q.j(N);O(x)||0<x.l(k);)D-=j,q=g(D),x=q.j(N);R(q)&&(q=b),L=L.add(q),k=V(k,x)}return new ne(L,k)}r.A=function(k){return Re(this,k).h},r.and=function(k){for(var N=Math.max(this.g.length,k.g.length),D=[],j=0;j<N;j++)D[j]=this.i(j)&k.i(j);return new d(D,this.h&k.h)},r.or=function(k){for(var N=Math.max(this.g.length,k.g.length),D=[],j=0;j<N;j++)D[j]=this.i(j)|k.i(j);return new d(D,this.h|k.h)},r.xor=function(k){for(var N=Math.max(this.g.length,k.g.length),D=[],j=0;j<N;j++)D[j]=this.i(j)^k.i(j);return new d(D,this.h^k.h)};function fe(k){for(var N=k.g.length+1,D=[],j=0;j<N;j++)D[j]=k.i(j)<<1|k.i(j-1)>>>31;return new d(D,k.h)}function je(k,N){var D=N>>5;N%=32;for(var j=k.g.length-D,L=[],q=0;q<j;q++)L[q]=0<N?k.i(q+D)>>>N|k.i(q+D+1)<<32-N:k.i(q+D);return new d(L,k.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,wT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=T,Zi=d}).apply(typeof _E<"u"?_E:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RT,Xl,CT,fh,Zm,NT,IT,DT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,y,_){return u==Array.prototype||u==Object.prototype||(u[y]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<u.length;++y){var _=u[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(u,y){if(y)e:{var _=a;u=u.split(".");for(var w=0;w<u.length-1;w++){var B=u[w];if(!(B in _))break e;_=_[B]}u=u[u.length-1],w=_[u],y=y(w),y!=w&&y!=null&&e(_,u,{configurable:!0,writable:!0,value:y})}}function c(u,y){u instanceof String&&(u+="");var _=0,w=!1,B={next:function(){if(!w&&_<u.length){var Y=_++;return{value:y(Y,u[Y]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return c(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(u){var y=typeof u;return y=y!="object"?y:u?Array.isArray(u)?"array":y:"null",y=="array"||y=="object"&&typeof u.length=="number"}function g(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function T(u,y,_){return u.call.apply(u.bind,arguments)}function A(u,y,_){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),u.apply(y,B)}}return function(){return u.apply(y,arguments)}}function b(u,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,b.apply(null,arguments)}function C(u,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function R(u,y){function _(){}_.prototype=y.prototype,u.aa=y.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(w,B,Y){for(var ie=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ie[ke-2]=arguments[ke];return y.prototype[B].apply(w,ie)}}function O(u){const y=u.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=u[w];return _}return[]}function K(u,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const B=u.length||0,Y=w.length||0;u.length=B+Y;for(let ie=0;ie<Y;ie++)u[B+ie]=w[ie]}else u.push(w)}}class V{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ae(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function Re(u){return Re[" "](u),u}Re[" "]=function(){};var fe=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function je(u,y,_){for(const w in u)y.call(_,u[w],w,u)}function k(u,y){for(const _ in u)y.call(void 0,u[_],_,u)}function N(u){const y={};for(const _ in u)y[_]=u[_];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(u,y){let _,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(_ in w)u[_]=w[_];for(let Y=0;Y<D.length;Y++)_=D[Y],Object.prototype.hasOwnProperty.call(w,_)&&(u[_]=w[_])}}function L(u){var y=1;u=u.split(":");const _=[];for(;0<y&&u.length;)_.push(u.shift()),y--;return u.length&&_.push(u.join(":")),_}function q(u){m.setTimeout(()=>{throw u},0)}function x(){var u=ze;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Gt{constructor(){this.h=this.g=null}add(y,_){const w=mt.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var mt=new V(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,ze=new Gt,P=()=>{const u=m.Promise.resolve(void 0);oe=()=>{u.then(te)}};var te=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(_){q(_)}var y=mt;y.j(u),100>y.h&&(y.h++,u.next=y.g,y.g=u)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return u}();function Ie(u,y){if(re.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget){if(fe){e:{try{Re(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=u.fromElement:_=="mouseout"&&(y=u.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Se[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ie.aa.h.call(this)}}R(Ie,re);var Se={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function ar(u,y,_,w,B){this.listener=u,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=B,this.key=++tt,this.da=this.fa=!1}function mi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Dr(u){this.src=u,this.g={},this.h=0}Dr.prototype.add=function(u,y,_,w,B){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var ie=da(u,y,w,B);return-1<ie?(y=u[ie],_||(y.fa=!1)):(y=new ar(y,this.src,Y,!!w,B),y.fa=_,u.push(y)),y};function ha(u,y){var _=y.type;if(_ in u.g){var w=u.g[_],B=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(w,B,1),Y&&(mi(y),u.g[_].length==0&&(delete u.g[_],u.h--))}}function da(u,y,_,w){for(var B=0;B<u.length;++B){var Y=u[B];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==w)return B}return-1}var fa="closure_lm_"+(1e6*Math.random()|0),ko={};function Oc(u,y,_,w,B){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Oc(u,y[Y],_,w,B);return null}return _=Pc(_),u&&u[jt]?u.K(y,_,g(w)?!!w.capture:!1,B):Dn(u,y,_,!1,w,B)}function Dn(u,y,_,w,B,Y){if(!y)throw Error("Invalid event type");var ie=g(B)?!!B.capture:!!B,ke=hs(u);if(ke||(u[fa]=ke=new Dr(u)),_=ke.add(y,_,w,ie,Y),_.proxy)return _;if(w=yd(),_.proxy=w,w.src=u,w.listener=_,u.addEventListener)ge||(B=ie),B===void 0&&(B=!1),u.addEventListener(y.toString(),w,B);else if(u.attachEvent)u.attachEvent(ma(y.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function yd(){function u(_){return y.call(u.src,u.listener,_)}const y=vd;return u}function Lo(u,y,_,w,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Lo(u,y[Y],_,w,B);else w=g(w)?!!w.capture:!!w,_=Pc(_),u&&u[jt]?(u=u.i,y=String(y).toString(),y in u.g&&(Y=u.g[y],_=da(Y,_,w,B),-1<_&&(mi(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete u.g[y],u.h--)))):u&&(u=hs(u))&&(y=u.g[y.toString()],u=-1,y&&(u=da(y,_,w,B)),(_=-1<u?y[u]:null)&&us(_))}function us(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[jt])ha(y.i,u);else{var _=u.type,w=u.proxy;y.removeEventListener?y.removeEventListener(_,w,u.capture):y.detachEvent?y.detachEvent(ma(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=hs(y))?(ha(_,u),_.h==0&&(_.src=null,y[fa]=null)):mi(u)}}}function ma(u){return u in ko?ko[u]:ko[u]="on"+u}function vd(u,y){if(u.da)u=!0;else{y=new Ie(y,this);var _=u.listener,w=u.ha||u.src;u.fa&&us(u),u=_.call(w,y)}return u}function hs(u){return u=u[fa],u instanceof Dr?u:null}var Uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pc(u){return typeof u=="function"?u:(u[Uo]||(u[Uo]=function(y){return u.handleEvent(y)}),u[Uo])}function pt(){le.call(this),this.i=new Dr(this),this.M=this,this.F=null}R(pt,le),pt.prototype[jt]=!0,pt.prototype.removeEventListener=function(u,y,_,w){Lo(this,u,y,_,w)};function Ke(u,y){var _,w=u.F;if(w)for(_=[];w;w=w.F)_.push(w);if(u=u.M,w=y.type||y,typeof y=="string")y=new re(y,u);else if(y instanceof re)y.target=y.target||u;else{var B=y;y=new re(w,u),j(y,B)}if(B=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ie=y.g=_[Y];B=En(ie,w,!0,y)&&B}if(ie=y.g=u,B=En(ie,w,!0,y)&&B,B=En(ie,w,!1,y)&&B,_)for(Y=0;Y<_.length;Y++)ie=y.g=_[Y],B=En(ie,w,!1,y)&&B}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,y;for(y in u.g){for(var _=u.g[y],w=0;w<_.length;w++)mi(_[w]);delete u.g[y],u.h--}}this.F=null},pt.prototype.K=function(u,y,_,w){return this.i.add(String(u),y,!1,_,w)},pt.prototype.L=function(u,y,_,w){return this.i.add(String(u),y,!0,_,w)};function En(u,y,_,w){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Y=0;Y<y.length;++Y){var ie=y[Y];if(ie&&!ie.da&&ie.capture==_){var ke=ie.listener,xt=ie.ha||ie.src;ie.fa&&ha(u.i,ie),B=ke.call(xt,w)!==!1&&B}}return B&&!w.defaultPrevented}function tn(u,y,_){if(typeof u=="function")_&&(u=b(u,_));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(u,y||0)}function Mc(u){u.g=tn(()=>{u.g=null,u.i&&(u.i=!1,Mc(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class _d extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mc(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(u){le.call(this),this.h=u,this.g={}}R(pa,le);var ga=[];function ya(u){je(u.g,function(y,_){this.g.hasOwnProperty(_)&&us(y)},u),u.g={}}pa.prototype.N=function(){pa.aa.N.call(this),ya(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=m.JSON.stringify,ds=m.JSON.parse,va=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function qo(){}qo.prototype.h=null;function Bo(u){return u.h||(u.h=u.i())}function zo(){}var xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Or(){re.call(this,"d")}R(Or,re);function Ho(){re.call(this,"c")}R(Ho,re);var sr={},Fo=null;function pi(){return Fo=Fo||new pt}sr.La="serverreachability";function fs(u){re.call(this,sr.La,u)}R(fs,re);function gi(u){const y=pi();Ke(y,new fs(y))}sr.STAT_EVENT="statevent";function Vc(u,y){re.call(this,sr.STAT_EVENT,u),this.stat=y}R(Vc,re);function at(u){const y=pi();Ke(y,new Vc(y,u))}sr.Ma="timingevent";function Dt(u,y){re.call(this,sr.Ma,u),this.size=y}R(Dt,re);function St(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},y)}function xn(){this.g=!0}xn.prototype.xa=function(){this.g=!1};function Go(u,y,_,w,B,Y){u.info(function(){if(u.g)if(Y)for(var ie="",ke=Y.split("&"),xt=0;xt<ke.length;xt++){var Le=ke[xt].split("=");if(1<Le.length){var Lt=Le[0];Le=Le[1];var Ot=Lt.split("_");ie=2<=Ot.length&&Ot[1]=="type"?ie+(Lt+"="+Le+"&"):ie+(Lt+"=redacted&")}}else ie=null;else ie=Y;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+_+`
`+ie})}function Ed(u,y,_,w,B,Y,ie){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+_+`
`+Y+" "+ie})}function yi(u,y,_,w){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+_a(u,_)+(w?" "+w:"")})}function jc(u,y){u.info(function(){return"TIMEOUT: "+y})}xn.prototype.info=function(){};function _a(u,y){if(!u.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var w=_[u];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ie=1;ie<B.length;ie++)B[ie]=""}}}}return Qn(_)}catch{return y}}var vi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},or;function lr(){}R(lr,qo),lr.prototype.g=function(){return new XMLHttpRequest},lr.prototype.i=function(){return{}},or=new lr;function hn(u,y,_,w){this.j=u,this.i=y,this.l=_,this.R=w||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var Qo={},ms={};function Kn(u,y,_){u.L=1,u.v=Aa(Tn(y)),u.m=_,u.P=!0,Mr(u,null)}function Mr(u,y){u.F=Date.now(),Ea(u),u.A=Tn(u.v);var _=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Zo(_.i,"t",w),u.C=0,_=u.j.J,u.h=new vt,u.g=Zc(u.j,_?y:null,!u.m),0<u.O&&(u.M=new _d(b(u.Y,u,u.g),u.O)),y=u.U,_=u.g,w=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(ga[0]=B.toString()),B=ga);for(var Y=0;Y<B.length;Y++){var ie=Oc(_,B[Y],w||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=u.H?N(u.H):{},u.m?(u.u||(u.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,y)):(u.u="GET",u.g.ea(u.A,u.u,null,y)),gi(),Go(u.i,u.u,u.A,u.l,u.R,u.m)}hn.prototype.ca=function(u){u=u.target;const y=this.M;y&&Vn(u)==3?y.j():this.Y(u)},hn.prototype.Y=function(u){try{if(u==this.g)e:{const Ot=Vn(this.g);var y=this.g.Ba();const zr=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Fc(this.g)))){this.J||Ot!=4||y==7||(y==8||0>=zr?gi(3):gi(2)),_i(this);var _=this.g.Z();this.X=_;t:if(kc(this)){var w=Fc(this.g);u="";var B=w.length,Y=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),cr(this);var ie="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,u+=this.h.i.decode(w[y],{stream:!(Y&&y==B-1)});w.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Ed(this.i,this.u,this.A,this.l,this.R,Ot,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,xt=this.g;if((ke=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(ke)){var Le=ke;break t}}Le=null}if(_=Le)yi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ta(this,_);else{this.o=!1,this.s=3,at(12),Qt(this),cr(this);break e}}if(this.P){_=!0;let Kt;for(;!this.J&&this.C<ie.length;)if(Kt=Lc(this,ie),Kt==ms){Ot==4&&(this.s=4,at(14),_=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Qo){this.s=4,at(15),yi(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else yi(this.i,this.l,Kt,null),Ta(this,Kt);if(kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||ie.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)yi(this.i,this.l,ie,"[Invalid Chunked Response]"),Qt(this),cr(this);else if(0<ie.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Oa(Lt),Lt.M=!0,at(11))}}else yi(this.i,this.l,ie,null),Ta(this,ie);Ot==4&&Qt(this),this.o&&!this.J&&(Ot==4?$c(this.j,this):(this.o=!1,Ea(this)))}else wd(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Qt(this),cr(this)}}}catch{}finally{}};function kc(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Lc(u,y){var _=u.C,w=y.indexOf(`
`,_);return w==-1?ms:(_=Number(y.substring(_,w)),isNaN(_)?Qo:(w+=1,w+_>y.length?ms:(y=y.slice(w,w+_),u.C=w+_,y)))}hn.prototype.cancel=function(){this.J=!0,Qt(this)};function Ea(u){u.S=Date.now()+u.I,Uc(u,u.I)}function Uc(u,y){if(u.B!=null)throw Error("WatchDog timer not null");u.B=St(b(u.ba,u),y)}function _i(u){u.B&&(m.clearTimeout(u.B),u.B=null)}hn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(jc(this.i,this.A),this.L!=2&&(gi(),at(17)),Qt(this),this.s=2,cr(this)):Uc(this,this.S-u)};function cr(u){u.j.G==0||u.J||$c(u.j,u)}function Qt(u){_i(u);var y=u.M;y&&typeof y.ma=="function"&&y.ma(),u.M=null,ya(u.U),u.g&&(y=u.g,u.g=null,y.abort(),y.ma())}function Ta(u,y){try{var _=u.j;if(_.G!=0&&(_.g==u||Ko(_.h,u))){if(!u.K&&Ko(_.h,u)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Rs(_),As(_);else break e;rl(_),at(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=St(b(_.Za,_),6e3));if(1>=gs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Br(_,11)}else if((u.K||_.g==u)&&Rs(_),!ae(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Le=B[y];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Lt=Le[3];Lt!=null&&(_.la=Lt,_.j.info("VER="+_.la));const Ot=Le[4];Ot!=null&&(_.Aa=Ot,_.j.info("SVER="+_.Aa));const zr=Le[5];zr!=null&&typeof zr=="number"&&0<zr&&(w=1.5*zr,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Kt=u.g;if(Kt){const gr=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var Y=w.h;Y.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ys(Y,Y.h),Y.h=null))}if(w.D){const al=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(w.ya=al,Xe(w.I,w.D,al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ie=u;if(w.qa=Wc(w,w.J?w.ia:null,w.W),ie.K){dn(w.h,ie);var ke=ie,xt=w.L;xt&&(ke.I=xt),ke.B&&(_i(ke),Ea(ke)),w.g=ie}else Kc(w);0<_.i.length&&ws(_)}else Le[0]!="stop"&&Le[0]!="close"||Br(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Br(_,7):tl(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}gi(4)}catch{}}var qc=class{constructor(u,y){this.g=u,this.map=y}};function Vr(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ps(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gs(u){return u.h?1:u.g?u.g.size:0}function Ko(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function ys(u,y){u.g?u.g.add(y):u.h=y}function dn(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Vr.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Yo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const _ of u.g.values())y=y.concat(_.D);return y}return O(u.i)}function Td(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var y=[],_=u.length,w=0;w<_;w++)y.push(u[w]);return y}y=[],_=0;for(w in u)y[_++]=u[w];return y}function vs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var y=[];u=u.length;for(var _=0;_<u;_++)y.push(_);return y}y=[],_=0;for(const w in u)y[_++]=w;return y}}}function $o(u,y){if(u.forEach&&typeof u.forEach=="function")u.forEach(y,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,y,void 0);else for(var _=vs(u),w=Td(u),B=w.length,Y=0;Y<B;Y++)y.call(void 0,w[Y],_&&_[Y],u)}var ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bd(u,y){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var w=u[_].indexOf("="),B=null;if(0<=w){var Y=u[_].substring(0,w);B=u[_].substring(w+1)}else Y=u[_];y(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function At(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof At){this.h=u.h,Sa(this,u.j),this.o=u.o,this.g=u.g,Ei(this,u.s),this.l=u.l;var y=u.i,_=new kr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),jr(this,_),this.m=u.m}else u&&(y=String(u).match(ba))?(this.h=!1,Sa(this,y[1]||"",!0),this.o=On(y[2]||""),this.g=On(y[3]||"",!0),Ei(this,y[4]),this.l=On(y[5]||"",!0),jr(this,y[6]||"",!0),this.m=On(y[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}At.prototype.toString=function(){var u=[],y=this.j;y&&u.push(wa(y,Xo,!0),":");var _=this.g;return(_||y=="file")&&(u.push("//"),(y=this.o)&&u.push(wa(y,Xo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(wa(_,_.charAt(0)=="/"?Sd:Wo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",wa(_,_s)),u.join("")};function Tn(u){return new At(u)}function Sa(u,y,_){u.j=_?On(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Ei(u,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);u.s=y}else u.s=null}function jr(u,y,_){y instanceof kr?(u.i=y,zc(u.i,u.h)):(_||(y=wa(y,Ad)),u.i=new kr(y,u.h))}function Xe(u,y,_){u.i.set(y,_)}function Aa(u){return Xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function On(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wa(u,y,_){return typeof u=="string"?(u=encodeURI(u).replace(y,Bc),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Bc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xo=/[#\/\?@]/g,Wo=/[#\?:]/g,Sd=/[#\?]/g,Ad=/[#\?@]/g,_s=/#/g;function kr(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Pn(u){u.g||(u.g=new Map,u.h=0,u.i&&bd(u.i,function(y,_){u.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=kr.prototype,r.add=function(u,y){Pn(this),this.i=null,u=ur(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(y),this.h+=1,this};function Lr(u,y){Pn(u),y=ur(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Ur(u,y){return Pn(u),y=ur(u,y),u.g.has(y)}r.forEach=function(u,y){Pn(this),this.g.forEach(function(_,w){_.forEach(function(B){u.call(y,B,w,this)},this)},this)},r.na=function(){Pn(this);const u=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const B=u[w];for(let Y=0;Y<B.length;Y++)_.push(y[w])}return _},r.V=function(u){Pn(this);let y=[];if(typeof u=="string")Ur(this,u)&&(y=y.concat(this.g.get(ur(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)y=y.concat(u[_])}return y},r.set=function(u,y){return Pn(this),this.i=null,u=ur(this,u),Ur(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},r.get=function(u,y){return u?(u=this.V(u),0<u.length?String(u[0]):y):y};function Zo(u,y,_){Lr(u,y),0<_.length&&(u.i=null,u.g.set(ur(u,y),O(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const Y=encodeURIComponent(String(w)),ie=this.V(w);for(w=0;w<ie.length;w++){var B=Y;ie[w]!==""&&(B+="="+encodeURIComponent(String(ie[w]))),u.push(B)}}return this.i=u.join("&")};function ur(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function zc(u,y){y&&!u.j&&(Pn(u),u.i=null,u.g.forEach(function(_,w){var B=w.toLowerCase();w!=B&&(Lr(this,w),Zo(this,B,_))},u)),u.j=y}function Ra(u,y){const _=new xn;if(m.Image){const w=new Image;w.onload=C(Mn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=C(Mn,_,"TestLoadImage: error",!1,y,w),w.onabort=C(Mn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=C(Mn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else y(!1)}function Yn(u,y){const _=new xn,w=new AbortController,B=setTimeout(()=>{w.abort(),Mn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:w.signal}).then(Y=>{clearTimeout(B),Y.ok?Mn(_,"TestPingServer: ok",!0,y):Mn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Mn(_,"TestPingServer: error",!1,y)})}function Mn(u,y,_,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(_)}catch{}}function Ca(){this.g=new va}function hr(u,y,_){const w=_||"";try{$o(u,function(B,Y){let ie=B;g(B)&&(ie=Qn(B)),y.push(w+Y+"="+encodeURIComponent(ie))})}catch(B){throw y.push(w+"type="+encodeURIComponent("_badmap")),B}}function Ti(u){this.l=u.Ub||null,this.j=u.eb||!1}R(Ti,qo),Ti.prototype.g=function(){return new qr(this.l,this.j)},Ti.prototype.i=function(u){return function(){return u}}({});function qr(u,y){pt.call(this),this.D=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(qr,pt),r=qr.prototype,r.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=y,this.readyState=1,fr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(y.body=u),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?dr(this):fr(this),this.readyState==3&&Jo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,dr(this))},r.Qa=function(u){this.g&&(this.response=u,dr(this))},r.ga=function(){this.g&&dr(this)};function dr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,fr(u)}r.setRequestHeader=function(u,y){this.u.append(u,y)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=y.next();return u.join(`\r
`)};function fr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function el(u){let y="";return je(u,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function kt(u,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=el(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Xe(u,y,_))}function Fe(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Fe,pt);var Es=/^https?$/i,Na=["POST","PUT"];r=Fe.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():or.g(),this.v=this.o?Bo(this.o):Bo(or),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(Y){Hc(this,Y);return}if(u=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)_.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())_.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Na,y,void 0))||w||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ie]of _)this.g.setRequestHeader(Y,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){Hc(this,Y)}};function Hc(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.m=5,Ts(u),mr(u)}function Ts(u){u.A||(u.A=!0,Ke(u,"complete"),Ke(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ke(this,"complete"),Ke(this,"abort"),mr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mr(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?bs(this):this.bb())},r.bb=function(){bs(this)};function bs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Vn(u)!=4||u.Z()!=2)){if(u.u&&Vn(u)==4)tn(u.Ea,0,u);else if(Ke(u,"readystatechange"),Vn(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=ie===0){var B=String(u.D).match(ba)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),w=!Es.test(B?B.toLowerCase():"")}_=w}if(_)Ke(u,"complete"),Ke(u,"success");else{u.m=6;try{var Y=2<Vn(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",Ts(u)}}finally{mr(u)}}}}function mr(u,y){if(u.g){Ia(u);const _=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,y||Ke(u,"ready");try{_.onreadystatechange=w}catch{}}}function Ia(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Vn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),ds(y)}};function Fc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wd(u){const y={};u=(u.g&&2<=Vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(ae(u[w]))continue;var _=L(u[w]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[B]||[];y[B]=Y,Y.push(_)}k(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(u,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||y}function Ss(u){this.Aa=0,this.i=[],this.j=new xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Da("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Da("baseRetryDelayMs",5e3,u),this.cb=Da("retryDelaySeedMs",1e4,u),this.Wa=Da("forwardChannelMaxRetries",2,u),this.wa=Da("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Vr(u&&u.concurrentRequestLimit),this.Da=new Ca,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ss.prototype,r.la=8,r.G=1,r.connect=function(u,y,_,w){at(0),this.W=u,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Wc(this,null,this.W),ws(this)};function tl(u){if(Gc(u),u.G==3){var y=u.U++,_=Tn(u.I);if(Xe(_,"SID",u.K),Xe(_,"RID",y),Xe(_,"TYPE","terminate"),xa(u,_),y=new hn(u,u.j,y),y.L=2,y.v=Aa(Tn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Zc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ea(y)}Xc(u)}function As(u){u.g&&(Oa(u),u.g.cancel(),u.g=null)}function Gc(u){As(u),u.u&&(m.clearTimeout(u.u),u.u=null),Rs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function ws(u){if(!ps(u.h)&&!u.s){u.s=!0;var y=u.Ga;oe||P(),me||(oe(),me=!0),ze.add(y,u),u.B=0}}function Rd(u,y){return gs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=y.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=St(b(u.Ga,u,y),il(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new hn(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=N(Y),j(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Qc(this,B,y),_=Tn(this.I),Xe(_,"RID",u),Xe(_,"CVER",22),this.D&&Xe(_,"X-HTTP-Session-Id",this.D),xa(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(el(Y)))+"&"+y:this.m&&kt(_,this.m,Y)),ys(this.h,B),this.Ua&&Xe(_,"TYPE","init"),this.P?(Xe(_,"$req",y),Xe(_,"SID","null"),B.T=!0,Kn(B,_,null)):Kn(B,_,y),this.G=2}}else this.G==3&&(u?nl(this,u):this.i.length==0||ps(this.h)||nl(this))};function nl(u,y){var _;y?_=y.l:_=u.U++;const w=Tn(u.I);Xe(w,"SID",u.K),Xe(w,"RID",_),Xe(w,"AID",u.T),xa(u,w),u.m&&u.o&&kt(w,u.m,u.o),_=new hn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),y&&(u.i=y.D.concat(u.i)),y=Qc(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ys(u.h,_),Kn(_,w,y)}function xa(u,y){u.H&&je(u.H,function(_,w){Xe(y,w,_)}),u.l&&$o({},function(_,w){Xe(y,w,_)})}function Qc(u,y,_){_=Math.min(u.i.length,_);var w=u.l?b(u.l.Na,u.l,u):null;e:{var B=u.i;let Y=-1;for(;;){const ie=["count="+_];Y==-1?0<_?(Y=B[0].g,ie.push("ofs="+Y)):Y=0:ie.push("ofs="+Y);let ke=!0;for(let xt=0;xt<_;xt++){let Le=B[xt].g;const Lt=B[xt].map;if(Le-=Y,0>Le)Y=Math.max(0,B[xt].g-100),ke=!1;else try{hr(Lt,ie,"req"+Le+"_")}catch{w&&w(Lt)}}if(ke){w=ie.join("&");break e}}}return u=u.i.splice(0,_),y.D=u,w}function Kc(u){if(!u.g&&!u.u){u.Y=1;var y=u.Fa;oe||P(),me||(oe(),me=!0),ze.add(y,u),u.v=0}}function rl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=St(b(u.Fa,u),il(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Yc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=St(b(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),As(this),Yc(this))};function Oa(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Yc(u){u.g=new hn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var y=Tn(u.qa);Xe(y,"RID","rpc"),Xe(y,"SID",u.K),Xe(y,"AID",u.T),Xe(y,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xe(y,"TO",u.ja),Xe(y,"TYPE","xmlhttp"),xa(u,y),u.m&&u.o&&kt(y,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Aa(Tn(y)),_.m=null,_.P=!0,Mr(_,u)}r.Za=function(){this.C!=null&&(this.C=null,As(this),rl(this),at(19))};function Rs(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function $c(u,y){var _=null;if(u.g==y){Rs(u),Oa(u),u.g=null;var w=2}else if(Ko(u.h,y))_=y.D,dn(u.h,y),w=1;else return;if(u.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=u.B;w=pi(),Ke(w,new Dt(w,_)),ws(u)}else Kc(u);else if(B=y.s,B==3||B==0&&0<y.X||!(w==1&&Rd(u,y)||w==2&&rl(u)))switch(_&&0<_.length&&(y=u.h,y.i=y.i.concat(_)),B){case 1:Br(u,5);break;case 4:Br(u,10);break;case 3:Br(u,6);break;default:Br(u,2)}}}function il(u,y){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*y}function Br(u,y){if(u.j.info("Error code "+y),y==2){var _=b(u.fb,u),w=u.Xa;const B=!w;w=new At(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Sa(w,"https"),Aa(w),B?Ra(w.toString(),_):Yn(w.toString(),_)}else at(2);u.G=0,u.l&&u.l.sa(y),Xc(u),Gc(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Xc(u){if(u.G=0,u.ka=[],u.l){const y=Yo(u.h);(y.length!=0||u.i.length!=0)&&(K(u.ka,y),K(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function Wc(u,y,_){var w=_ instanceof At?Tn(_):new At(_);if(w.g!="")y&&(w.g=y+"."+w.g),Ei(w,w.s);else{var B=m.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Y=new At(null);w&&Sa(Y,w),y&&(Y.g=y),B&&Ei(Y,B),_&&(Y.l=_),w=Y}return _=u.D,y=u.ya,_&&y&&Xe(w,_,y),Xe(w,"VER",u.la),xa(u,w),w}function Zc(u,y,_){if(y&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Ca&&!u.pa?new Fe(new Ti({eb:_})):new Fe(u.pa),y.Ha(u.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}r=Jc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Cs(){}Cs.prototype.g=function(u,y){return new fn(u,y)};function fn(u,y){pt.call(this),this.g=new Ss(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(u?u["X-WebChannel-Client-Profile"]=y.va:u={"X-WebChannel-Client-Profile":y.va}),this.g.S=u,(u=y&&y.Sb)&&!ae(u)&&(this.g.m=u),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ae(y)&&(this.g.D=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new pr(this)}R(fn,pt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){tl(this.g)},fn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Qn(u),u=_);y.i.push(new qc(y.Ya++,u)),y.G==3&&ws(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,fn.aa.N.call(this)};function eu(u){Or.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const _ in y){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}R(eu,Or);function tu(){Ho.call(this),this.status=1}R(tu,Ho);function pr(u){this.g=u}R(pr,Jc),pr.prototype.ua=function(){Ke(this.g,"a")},pr.prototype.ta=function(u){Ke(this.g,new eu(u))},pr.prototype.sa=function(u){Ke(this.g,new tu)},pr.prototype.ra=function(){Ke(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,DT=function(){return new Cs},IT=function(){return pi()},NT=sr,Zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,fh=vi,Pr.COMPLETE="complete",CT=Pr,zo.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Xl=zo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,RT=Fe}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const EE="@firebase/firestore",TE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new _p("@firebase/firestore");function no(){return ns.logLevel}function ue(r,...e){if(ns.logLevel<=Pe.DEBUG){const n=e.map(xp);ns.debug(`Firestore (${Ro}): ${r}`,...n)}}function ci(r,...e){if(ns.logLevel<=Pe.ERROR){const n=e.map(xp);ns.error(`Firestore (${Ro}): ${r}`,...n)}}function go(r,...e){if(ns.logLevel<=Pe.WARN){const n=e.map(xp);ns.warn(`Firestore (${Ro}): ${r}`,...n)}}function xp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,xT(r,a,n)}function xT(r,e,n){let a=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ci(a),new Error(a)}function Qe(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||xT(e,o,a)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class uN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hN{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let c=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ai,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ai)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qe(typeof a.accessToken=="string",31837,{l:a}),new OT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class dN{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fN{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new dN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const a=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=pN(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<n&&(a+=e.charAt(o[c]%62))}return a}}function Me(r,e){return r<e?-1:r>e?1:0}function Jm(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return xm(o)===xm(c)?Me(o,c):xm(o)?1:-1}return Me(r.length,e.length)}const gN=55296,yN=57343;function xm(r){const e=r.charCodeAt(0);return e>=gN&&e<=yN}function yo(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="__name__";class br{constructor(e,n,a){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Te(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const c=br.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Me(e.length,n.length)}static compareSegments(e,n){const a=br.isNumericId(e),o=br.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?br.extractNumericId(e).compare(br.extractNumericId(n)):Jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zi.fromString(e.substring(4,e.length-2))}}class rt extends br{construct(e,n,a){return new rt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const vN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends br{construct(e,n,a){return new Zt(e,n,a)}static isValidIdentifier(e){return vN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SE}static keyField(){return new Zt([SE])}static fromServerFormat(e){const n=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(a+=m,o++):(c(),o++)}if(c(),d)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(rt.fromString(e))}static fromName(e){return new pe(rt.fromString(e).popFirst(5))}static empty(){return new pe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(r,e,n){if(!n)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _N(r,e,n,a){if(e===!0&&a===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function AE(r){if(!pe.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wE(r){if(pe.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function MT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function er(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r,e){const n={typeString:r};return e&&(n.value=e),n}function Sc(r,e){if(!MT(r))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new ce(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=-62135596800,CE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*CE);return new it(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RE)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CE}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sc(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:It("string",it._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new it(0,0))}static max(){return new Ae(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=-1;function EN(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(a===1e9?new it(n+1,0):new it(n,a));return new ea(o,pe.empty(),e)}function TN(r){return new ea(r.readTime,r.key,cc)}class ea{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ea(Ae.min(),pe.empty(),cc)}static max(){return new ea(Ae.max(),pe.empty(),cc)}}function bN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==SN)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,a)=>{n(e)})}static reject(e){return new ee((n,a)=>{a(e)})}static waitFor(e){return new ee((n,a)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&n()},p=>a(p))}),d=!0,c===o&&n()})}static or(e){let n=ee.resolve(!1);for(const a of e)n=n.next(o=>o?ee.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,c)=>{a.push(n.call(this,o,c))}),this.waitFor(a)}static mapArray(e,n){return new ee((a,o)=>{const c=e.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const g=p;n(e[g]).next(T=>{d[g]=T,++m,m===c&&a(d)},T=>o(T))}})}static doWhile(e,n){return new ee((a,o)=>{const c=()=>{e()===!0?n().next(()=>{c()},o):a()};c()})}}function wN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-1;function $h(r){return r==null}function Nh(r){return r===0&&1/r==-1/0}function RN(r){return typeof r=="number"&&Number.isInteger(r)&&!Nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="";function CN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=NE(e)),e=NN(r.get(n),e);return NE(e)}function NN(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case VT:n+="";break;default:n+=c}}return n}function NE(r){return r+VT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ca(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function jT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,a,o,c){this.key=e,this.value=n,this.color=a??Wt.RED,this.left=o??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,c){return new Wt(e??this.key,n??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,a),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,a,o,c){return this}insert(e,n,a){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DE(this.data.getIterator())}getIteratorFrom(e){return new DE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class DE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Vt(Zt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kT("Invalid base64 string: "+c):c}}(e);return new Jt(n)}static fromUint8Array(e){const n=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const IN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=IN.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Tt(r.seconds),nanos:Tt(r.nanos)}}function Tt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function na(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="server_timestamp",UT="__type__",qT="__previous_value__",BT="__local_write_time__";function Mp(r){return(r?.mapValue?.fields||{})[UT]?.stringValue===LT}function Xh(r){const e=r.mapValue.fields[qT];return Mp(e)?Xh(e):e}function uc(r){const e=ta(r.mapValue.fields[BT].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,a,o,c,d,m,p,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const Ih="(default)";class hc{constructor(e,n){this.projectId=e,this.database=n||Ih}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="__type__",xN="__max__",ah={mapValue:{}},HT="__vector__",Dh="value";function ra(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mp(r)?4:PN(r)?9007199254740991:ON(r)?10:11:Te(28295,{value:r})}function Ir(r,e){if(r===e)return!0;const n=ra(r);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return uc(r).isEqual(uc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ta(o.timestampValue),m=ta(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return na(o.bytesValue).isEqual(na(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return Tt(o.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Tt(o.integerValue)===Tt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Tt(o.doubleValue),m=Tt(c.doubleValue);return d===m?Nh(d)===Nh(m):isNaN(d)&&isNaN(m)}return!1}(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(IE(d)!==IE(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!Ir(d[p],m[p])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function dc(r,e){return(r.values||[]).find(n=>Ir(n,e))!==void 0}function vo(r,e){if(r===e)return 0;const n=ra(r),a=ra(e);if(n!==a)return Me(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return function(c,d){const m=Tt(c.integerValue||c.doubleValue),p=Tt(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return xE(r.timestampValue,e.timestampValue);case 4:return xE(uc(r),uc(e));case 5:return Jm(r.stringValue,e.stringValue);case 6:return function(c,d){const m=na(c),p=na(d);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Me(m[g],p[g]);if(T!==0)return T}return Me(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const m=Me(Tt(c.latitude),Tt(d.latitude));return m!==0?m:Me(Tt(c.longitude),Tt(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return OE(r.arrayValue,e.arrayValue);case 10:return function(c,d){const m=c.fields||{},p=d.fields||{},g=m[Dh]?.arrayValue,T=p[Dh]?.arrayValue,A=Me(g?.values?.length||0,T?.values?.length||0);return A!==0?A:OE(g,T)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===ah.mapValue&&d===ah.mapValue)return 0;if(c===ah.mapValue)return 1;if(d===ah.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),g=d.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const b=Jm(p[A],T[A]);if(b!==0)return b;const C=vo(m[p[A]],g[T[A]]);if(C!==0)return C}return Me(p.length,T.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function xE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=ta(r),a=ta(e),o=Me(n.seconds,a.seconds);return o!==0?o:Me(n.nanos,a.nanos)}function OE(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const c=vo(n[o],a[o]);if(c)return c}return Me(n.length,a.length)}function _o(r){return ep(r)}function ep(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=ta(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return na(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pe.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const c of n.values||[])o?o=!1:a+=",",a+=ep(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${ep(n.fields[d])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function mh(r){switch(ra(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(r);return e?16+mh(e):16;case 5:return 2*r.stringValue.length;case 6:return na(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,c)=>o+mh(c),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return ca(a.fields,(c,d)=>{o+=c.length+mh(d)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function PE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function tp(r){return!!r&&"integerValue"in r}function Vp(r){return!!r&&"arrayValue"in r}function ME(r){return!!r&&"nullValue"in r}function VE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ph(r){return!!r&&"mapValue"in r}function ON(r){return(r?.mapValue?.fields||{})[zT]?.stringValue===HT}function nc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ca(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=nc(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(r.arrayValue.values[n]);return e}return{...r}}function PN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===xN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=Zt.emptyPath(),a={},o=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}d?a[m.lastSegment()]=nc(d):o.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,a,o)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){ca(n,(o,c)=>e[o]=c);for(const o of a)delete e[o]}clone(){return new _n(nc(this.value))}}function FT(r){const e=[];return ca(r.fields,(n,a)=>{const o=new Zt([n]);if(ph(a)){const c=FT(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,a,o,c,d,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new ln(e,0,Ae.min(),Ae.min(),Ae.min(),_n.empty(),0)}static newFoundDocument(e,n,a,o){return new ln(e,1,n,Ae.min(),a,o,0)}static newNoDocument(e,n){return new ln(e,2,n,Ae.min(),Ae.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ae.min(),Ae.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.position=e,this.inclusive=n}}function jE(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),n.key):a=vo(d,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function kE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ir(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function MN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{}class Nt extends GT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new jN(e,n,a):n==="array-contains"?new UN(e,a):n==="in"?new qN(e,a):n==="not-in"?new BN(e,a):n==="array-contains-any"?new zN(e,a):new Nt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new kN(e,a):new LN(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&ra(this.value)===ra(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends GT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new tr(e,n)}matches(e){return QT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QT(r){return r.op==="and"}function KT(r){return VN(r)&&QT(r)}function VN(r){for(const e of r.filters)if(e instanceof tr)return!1;return!0}function np(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(KT(r))return r.filters.map(e=>np(e)).join(",");{const e=r.filters.map(n=>np(n)).join(",");return`${r.op}(${e})`}}function YT(r,e){return r instanceof Nt?function(a,o){return o instanceof Nt&&a.op===o.op&&a.field.isEqual(o.field)&&Ir(a.value,o.value)}(r,e):r instanceof tr?function(a,o){return o instanceof tr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((c,d,m)=>c&&YT(d,o.filters[m]),!0):!1}(r,e):void Te(19439)}function $T(r){return r instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`}(r):r instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map($T).join(" ,")+"}"}(r):"Filter"}class jN extends Nt{constructor(e,n,a){super(e,n,a),this.key=pe.fromName(a.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class kN extends Nt{constructor(e,n){super(e,"in",n),this.keys=XT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LN extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=XT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XT(r,e){return(e.arrayValue?.values||[]).map(n=>pe.fromName(n.referenceValue))}class UN extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vp(n)&&dc(n.arrayValue,this.value)}}class qN extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class BN extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dc(this.value.arrayValue,n)}}class zN extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>dc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n=null,a=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.Te=null}}function LE(r,e=null,n=[],a=[],o=null,c=null,d=null){return new HN(r,e,n,a,o,c,d)}function jp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>np(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>_o(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>_o(a)).join(",")),e.Te=n}return e.Te}function kp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!MN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!YT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!kE(r.startAt,e.startAt)&&kE(r.endAt,e.endAt)}function rp(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n=null,a=[],o=[],c=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FN(r,e,n,a,o,c,d,m){return new Io(r,e,n,a,o,c,d,m)}function Lp(r){return new Io(r)}function UE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function WT(r){return r.collectionGroup!==null}function rc(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Vt(Zt.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new fc(c,a))}),n.has(Zt.keyField().canonicalString())||e.Ie.push(new fc(Zt.keyField(),a))}return e.Ie}function wr(r){const e=we(r);return e.Ee||(e.Ee=GN(e,rc(r))),e.Ee}function GN(r,e){if(r.limitType==="F")return LE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new fc(o.field,c)});const n=r.endAt?new xh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new xh(r.startAt.position,r.startAt.inclusive):null;return LE(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function ip(r,e){const n=r.filters.concat([e]);return new Io(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ap(r,e,n){return new Io(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Wh(r,e){return kp(wr(r),wr(e))&&r.limitType===e.limitType}function ZT(r){return`${jp(wr(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>$T(o)).join(", ")}]`),$h(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>_o(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>_o(o)).join(",")),`Target(${a})`}(wr(r))}; limitType=${r.limitType})`}function Zh(r,e){return e.isFoundDocument()&&function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,e)&&function(a,o){for(const c of rc(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(d,m,p){const g=jE(d,m,p);return d.inclusive?g<=0:g<0}(a.startAt,rc(a),o)||a.endAt&&!function(d,m,p){const g=jE(d,m,p);return d.inclusive?g>=0:g>0}(a.endAt,rc(a),o))}(r,e)}function QN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function JT(r){return(e,n)=>{let a=!1;for(const o of rc(r)){const c=KN(o,e,n);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function KN(r,e,n){const a=r.field.isKeyField()?pe.comparator(e.key,n.key):function(c,d,m){const p=d.data.field(c),g=m.data.field(c);return p!==null&&g!==null?vo(p,g):Te(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(n,a)=>{for(const[o,c]of a)e(o,c)})}isEmpty(){return jT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new ft(pe.comparator);function ui(){return YN}const eb=new ft(pe.comparator);function Wl(...r){let e=eb;for(const n of r)e=e.insert(n.key,n);return e}function tb(r){let e=eb;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function $a(){return ic()}function nb(){return ic()}function ic(){return new ss(r=>r.toString(),(r,e)=>r.isEqual(e))}const $N=new ft(pe.comparator),XN=new Vt(pe.comparator);function Ve(...r){let e=XN;for(const n of r)e=e.add(n);return e}const WN=new Vt(Me);function ZN(){return WN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function rb(r){return{integerValue:""+r}}function JN(r,e){return RN(e)?rb(e):Up(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function eI(r,e,n){return r instanceof Oh?function(o,c){const d={fields:{[UT]:{stringValue:LT},[BT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Mp(c)&&(c=Xh(c)),c&&(d.fields[qT]=c),{mapValue:d}}(n,e):r instanceof mc?ab(r,e):r instanceof pc?sb(r,e):function(o,c){const d=ib(o,c),m=qE(d)+qE(o.Ae);return tp(d)&&tp(o.Ae)?rb(m):Up(o.serializer,m)}(r,e)}function tI(r,e,n){return r instanceof mc?ab(r,e):r instanceof pc?sb(r,e):n}function ib(r,e){return r instanceof Ph?function(a){return tp(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class Oh extends Jh{}class mc extends Jh{constructor(e){super(),this.elements=e}}function ab(r,e){const n=ob(e);for(const a of r.elements)n.some(o=>Ir(o,a))||n.push(a);return{arrayValue:{values:n}}}class pc extends Jh{constructor(e){super(),this.elements=e}}function sb(r,e){let n=ob(e);for(const a of r.elements)n=n.filter(o=>!Ir(o,a));return{arrayValue:{values:n}}}class Ph extends Jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qE(r){return Tt(r.integerValue||r.doubleValue)}function ob(r){return Vp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function nI(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof mc&&o instanceof mc||a instanceof pc&&o instanceof pc?yo(a.elements,o.elements,Ir):a instanceof Ph&&o instanceof Ph?Ir(a.Ae,o.Ae):a instanceof Oh&&o instanceof Oh}(r.transform,e.transform)}class rI{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ed{}function lb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new qp(r.key,Gn.none()):new Ac(r.key,r.data,Gn.none());{const n=r.data,a=_n.empty();let o=new Vt(Zt.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new ua(r.key,a,new In(o.toArray()),Gn.none())}}function iI(r,e,n){r instanceof Ac?function(o,c,d){const m=o.value.clone(),p=zE(o.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ua?function(o,c,d){if(!gh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=zE(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(cb(o)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,n):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function ac(r,e,n,a){return r instanceof Ac?function(c,d,m,p){if(!gh(c.precondition,d))return m;const g=c.value.clone(),T=HE(c.fieldTransforms,p,d);return g.setAll(T),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(r,e,n,a):r instanceof ua?function(c,d,m,p){if(!gh(c.precondition,d))return m;const g=HE(c.fieldTransforms,p,d),T=d.data;return T.setAll(cb(c)),T.setAll(g),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(r,e,n,a):function(c,d,m){return gh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,e,n)}function aI(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=ib(a.transform,o||null);c!=null&&(n===null&&(n=_n.empty()),n.set(a.field,c))}return n||null}function BE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&yo(a,o,(c,d)=>nI(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ac extends ed{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ua extends ed{constructor(e,n,a,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function cb(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function zE(r,e,n){const a=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const c=r[o],d=c.transform,m=e.data.field(c.field);a.set(c.field,tI(d,m,n[o]))}return a}function HE(r,e,n){const a=new Map;for(const o of r){const c=o.transform,d=n.data.field(o.field);a.set(o.field,eI(c,d,e))}return a}class qp extends ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sI extends ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&iI(c,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=ac(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=ac(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=nb();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(o.key)?null:m;const p=lb(d,m);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Ae.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(n,a)=>BE(n,a))&&yo(this.baseMutations,e.baseMutations,(n,a)=>BE(n,a))}}class Bp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Qe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return $N}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Bp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,qe;function uI(r){switch(r){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function ub(r){if(r===void 0)return ci("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ct.OK:return Z.OK;case Ct.CANCELLED:return Z.CANCELLED;case Ct.UNKNOWN:return Z.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Z.INTERNAL;case Ct.UNAVAILABLE:return Z.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Z.NOT_FOUND;case Ct.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ct.ABORTED:return Z.ABORTED;case Ct.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ct.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:r})}}(qe=Ct||(Ct={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new Zi([4294967295,4294967295],0);function FE(r){const e=hI().encode(r),n=new wT;return n.update(e),new Uint8Array(n.digest())}function GE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Zi([n,a],0),new Zi([o,c],0)]}class zp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(a<0)throw new Zl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zi.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Zi.fromNumber(a)));return o.compare(dI)===1&&(o=new Zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=FE(e),[a,o]=GE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new zp(c,o,n);return a.forEach(m=>d.insert(m)),d}insert(e){if(this.ge===0)return;const n=FE(e),[a,o]=GE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,a,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new td(Ae.min(),o,new ft(Me),ui(),Ve())}}class wc{constructor(e,n,a,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new wc(a,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class hb{constructor(e,n){this.targetId=e,this.Ce=n}}class db{constructor(e,n,a=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class QE{constructor(){this.ve=0,this.Fe=KE(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),a=Ve();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:c})}}),new wc(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=KE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ui(),this.Je=sh(),this.He=sh(),this.Ye=new ft(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((a,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(rp(c))if(a===0){const d=new pe(c.path);this.et(n,d,ln.newNoDocument(d,Ae.min()))}else Qe(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const m=this.ut(e),p=m?this.ct(m,e,d):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=n;let d,m;try{d=na(a).toUint8Array()}catch(p){if(p instanceof kT)return go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new zp(d,o,c)}catch(p){return go(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach(c=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((c,d)=>{const m=this.ot(d);if(m){if(c.current&&rp(m.target)){const p=new pe(m.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,ln.newNoDocument(p,e))}c.Be&&(n.set(d,c.ke()),c.qe())}});let a=Ve();this.He.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(c))}),this.je.forEach((c,d)=>d.setReadTime(e));const o=new td(e,n,this.Ye,this.je,a);return this.je=ui(),this.Je=sh(),this.He=sh(),this.Ye=new ft(Me),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new QE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new QE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new ft(pe.comparator)}function KE(){return new ft(pe.comparator)}const mI={asc:"ASCENDING",desc:"DESCENDING"},pI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gI={and:"AND",or:"OR"};class yI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sp(r,e){return r.useProto3Json||$h(e)?e:{value:e}}function Mh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function vI(r,e){return Mh(r,e.toTimestamp())}function Rr(r){return Qe(!!r,49232),Ae.fromTimestamp(function(n){const a=ta(n);return new it(a.seconds,a.nanos)}(r))}function Hp(r,e){return op(r,e).canonicalString()}function op(r,e){const n=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function mb(r){const e=rt.fromString(r);return Qe(_b(e),10190,{key:e.toString()}),e}function lp(r,e){return Hp(r.databaseId,e.path)}function Om(r,e){const n=mb(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(gb(n))}function pb(r,e){return Hp(r.databaseId,e)}function _I(r){const e=mb(r);return e.length===4?rt.emptyPath():gb(e)}function cp(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gb(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function YE(r,e,n){return{name:lp(r,e),fields:n.value.mapValue.fields}}function EI(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(g,T){return g.useProto3Json?(Qe(T===void 0||typeof T=="string",58123),Jt.fromBase64String(T||"")):(Qe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Jt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(g){const T=g.code===void 0?Z.UNKNOWN:ub(g.code);return new ce(T,g.message||"")}(d);n=new db(a,o,c,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Om(r,a.document.name),c=Rr(a.document.updateTime),d=a.document.createTime?Rr(a.document.createTime):Ae.min(),m=new _n({mapValue:{fields:a.document.fields}}),p=ln.newFoundDocument(o,c,d,m),g=a.targetIds||[],T=a.removedTargetIds||[];n=new yh(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Om(r,a.document),c=a.readTime?Rr(a.readTime):Ae.min(),d=ln.newNoDocument(o,c),m=a.removedTargetIds||[];n=new yh([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Om(r,a.document),c=a.removedTargetIds||[];n=new yh([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new cI(o,c),m=a.targetId;n=new hb(m,d)}}return n}function TI(r,e){let n;if(e instanceof Ac)n={update:YE(r,e.key,e.value)};else if(e instanceof qp)n={delete:lp(r,e.key)};else if(e instanceof ua)n={update:YE(r,e.key,e.data),updateMask:DI(e.fieldMask)};else{if(!(e instanceof sI))return Te(16599,{Vt:e.type});n={verify:lp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(c,d){const m=d.transform;if(m instanceof Oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ph)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:vI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)}(r,e.precondition)),n}function bI(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map(n=>function(o,c){let d=o.updateTime?Rr(o.updateTime):Rr(c);return d.isEqual(Ae.min())&&(d=Rr(c)),new rI(d,o.transformResults||[])}(n,e))):[]}function SI(r,e){return{documents:[pb(r,e.path)]}}function AI(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=pb(r,o);const c=function(g){if(g.length!==0)return vb(tr.create(g,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(g){if(g.length!==0)return g.map(T=>function(b){return{field:io(b.field),direction:CI(b.dir)}}(T))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=sp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function wI(r){let e=_I(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Qe(a===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=function(A){const b=yb(A);return b instanceof tr&&KT(b)?b.getFilters():[b]}(n.where));let d=[];n.orderBy&&(d=function(A){return A.map(b=>function(R){return new fc(ao(R.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(A){let b;return b=typeof A=="object"?A.value:A,$h(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(A){const b=!!A.before,C=A.values||[];return new xh(C,b)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const b=!A.before,C=A.values||[];return new xh(C,b)}(n.endAt)),FN(e,o,d,c,m,"F",p,g)}function RI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yb(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=ao(n.unaryFilter.field);return Nt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ao(n.unaryFilter.field);return Nt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ao(n.unaryFilter.field);return Nt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(n){return Nt.create(ao(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(a=>yb(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(r):Te(30097,{filter:r})}function CI(r){return mI[r]}function NI(r){return pI[r]}function II(r){return gI[r]}function io(r){return{fieldPath:r.canonicalString()}}function ao(r){return Zt.fromServerFormat(r.fieldPath)}function vb(r){return r instanceof Nt?function(n){if(n.op==="=="){if(VE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(ME(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(ME(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:NI(n.op),value:n.value}}}(r):r instanceof tr?function(n){const a=n.getFilters().map(o=>vb(o));return a.length===1?a[0]:{compositeFilter:{op:II(n.op),filters:a}}}(r):Te(54877,{filter:r})}function DI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _b(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,a,o,c=Ae.min(),d=Ae.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.yt=e}}function OI(r){const e=wI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.Cn=new MI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ea.min())}updateCollectionGroup(e,n,a){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class MI{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Vt(rt.comparator),c=!o.has(a);return this.index[n]=o.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Vt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Eb=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(Eb,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eo(0)}static cr(){return new Eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="LruGarbageCollector",VI=1048576;function WE([r,e],[n,a]){const o=Me(r,n);return o===0?Me(e,a):o}class jI{constructor(e){this.Ir=e,this.buffer=new Vt(WE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();WE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kI{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(XE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?ue(XE,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)})}}class LI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Yh.ce);const a=new jI(n);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve($E)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$E):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,c,d,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(a=A,m=Date.now(),this.removeTargets(e,a,n))).next(A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(A=>(g=Date.now(),no()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A})))}}function UI(r,e){return new LI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.changes=new ss(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ee.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&ac(a.mutation,o,In.empty(),it.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Ve()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Ve()){const o=$a();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(c=>{let d=Wl();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const a=$a();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Ve()))}populateOverlays(e,n,a){const o=[];return a.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,a,o){let c=ui();const d=ic(),m=function(){return ic()}();return n.forEach((p,g)=>{const T=a.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof ua)?c=c.insert(g.key,g):T!==void 0?(d.set(g.key,T.mutation.getFieldMask()),ac(T.mutation,g,T.mutation.getFieldMask(),it.now())):d.set(g.key,In.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((g,T)=>d.set(g,T)),n.forEach((g,T)=>m.set(g,new BI(T,d.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const a=ic();let o=new ft((d,m)=>d-m),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=a.get(p)||In.empty();T=m.applyToLocalView(g,T),a.set(p,T);const A=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,A=nb();T.forEach(b=>{if(!c.has(b)){const C=lb(n.get(b),a.get(b));C!==null&&A.set(b,C),c=c.add(b)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ee.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-c.size):ee.resolve($a());let m=cc,p=c;return d.next(g=>ee.forEach(g,(T,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),c.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next(b=>{p=p.insert(T,b)}))).next(()=>this.populateOverlays(e,g,c)).next(()=>this.computeViews(e,p,g,Ve())).next(T=>({batchId:m,changes:tb(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(a=>{let o=Wl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const c=n.collectionGroup;let d=Wl();return this.indexManager.getCollectionParents(e,c).next(m=>ee.forEach(m,p=>{const g=function(A,b){return new Io(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(T=>{T.forEach((A,b)=>{d=d.insert(A,b)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,o))).next(d=>{c.forEach((p,g)=>{const T=g.getKey();d.get(T)===null&&(d=d.insert(T,ln.newInvalidDocument(T)))});let m=Wl();return d.forEach((p,g)=>{const T=c.get(p);T!==void 0&&ac(T.mutation,g,In.empty(),it.now()),Zh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:OI(o.bundledQuery),readTime:Rr(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.overlays=new ft(pe.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const a=$a();return ee.forEach(n,o=>this.getOverlay(e,o).next(c=>{c!==null&&a.set(o,c)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,c)=>{this.St(e,n,c)}),ee.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(a)),ee.resolve()}getOverlaysForCollection(e,n,a){const o=$a(),c=n.length+1,d=new pe(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let c=new ft((g,T)=>g-T);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let T=c.get(g.largestBatchId);T===null&&(T=$a(),c=c.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=$a(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return ee.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new lI(n,a));let c=this.qr.get(n);c===void 0&&(c=Ve(),this.qr.set(n,c)),this.qr.set(n,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.Qr=new Vt(zt.$r),this.Ur=new Vt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new zt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach(a=>this.removeReference(a,n))}jr(e){const n=new pe(new rt([])),a=new zt(n,e),o=new zt(n,e+1),c=[];return this.Ur.forEachInRange([a,o],d=>{this.Gr(d),c.push(d.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new rt([])),a=new zt(n,e),o=new zt(n,e+1);let c=Ve();return this.Ur.forEachInRange([a,o],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new zt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(zt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oI(c,n,a,o);this.mutationQueue.push(d);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),c=o<0?0:o;return ee.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Pp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],d=>{const m=this.Xr(d.Yr);c.push(m)}),ee.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Vt(Me);return n.forEach(o=>{const c=new zt(o,0),d=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],m=>{a=a.add(m.Yr)})}),ee.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new zt(new pe(c),0);let m=new Vt(Me);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},d),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ee.forEach(n.mutations,o=>{const c=new zt(o.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,n){const a=new zt(n,0),o=this.Zr.firstAfterOrEqual(a);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.ri=e,this.docs=function(){return new ft(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ee.resolve(a?a.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let a=ui();return n.forEach(o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))}),ee.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let c=ui();const d=n.path,m=new pe(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||bN(TN(T),a)<=0||(o.has(T.key)||Zh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return ee.resolve(c)}getAllFromCollectionGroup(e,n,a,o){Te(9500)}ii(e,n){return ee.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new YI(this)}getSize(e){return ee.resolve(this.size)}}class YI extends qI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.persistence=e,this.si=new ss(n=>jp(n),kp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Fp,this.targetCount=0,this.ai=Eo.ur()}forEachTarget(e,n){return this.si.forEach((a,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,a){let o=0;const c=[];return this.si.forEach((d,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(c).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return ee.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),ee.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),ee.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return ee.resolve(a)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Yh(0),this.li=!1,this.li=!0,this.hi=new GI,this.referenceDelegate=e(this),this.Pi=new $I(this),this.indexManager=new PI,this.remoteDocumentCache=function(o){return new KI(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new xI(n),this.Ii=new HI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new QI(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ue("MemoryPersistence","Starting transaction:",e);const o=new XI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,n){return ee.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,n)))}}class XI extends AN{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Ri=new Fp,this.Vi=null}static mi(e){return new Gp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ee.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>a.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,a=>{const o=pe.fromPath(a);return this.gi(e,o).next(c=>{c||n.removeEntry(o,Ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vh{constructor(e,n){this.persistence=e,this.pi=new ss(a=>CN(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=UI(this,n)}static mi(e,n){return new Vh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}wr(e){let n=0;return this.pr(e,a=>{n++}).next(()=>n)}pr(e,n){return ee.forEach(this.pi,(a,o)=>this.br(e,a,o).next(c=>c?ee.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,n).next(m=>{m||(a++,c.removeEntry(d,Ae.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}br(e,n,a){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=Ve(),o=Ve();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Qp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Dw()?8:wN(cn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const c={result:null};return this.ys(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ws(e,n,o,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new WI;return this.Ss(e,n,d).next(m=>{if(c.result=m,this.Vs)return this.bs(e,n,d,m.size)})}).next(()=>c.result)}bs(e,n,a,o){return a.documentReadCount<this.fs?(no()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(no()<=Pe.DEBUG&&ue("QueryEngine","Query:",ro(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(no()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):ee.resolve())}ys(e,n){if(UE(n))return ee.resolve(null);let a=wr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=ap(n,null,"F"),a=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const d=Ve(...c);return this.ps.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,d,p.readTime)?this.ys(e,ap(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,a,o){return UE(n)||o.isEqual(Ae.min())?ee.resolve(null):this.ps.getDocuments(e,a).next(c=>{const d=this.Ds(n,c);return this.Cs(n,d,a,o)?ee.resolve(null):(no()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.vs(e,d,n,EN(o,cc)).next(m=>m))})}Ds(e,n){let a=new Vt(JT(e));return n.forEach((o,c)=>{Zh(e,c)&&(a=a.add(c))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,a){return no()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,ea.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="LocalStore",JI=3e8;class e2{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Me),this.xs=new ss(c=>jp(c),kp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function t2(r,e,n,a){return new e2(r,e,n,a)}async function bb(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],m=[];let p=Ve();for(const g of o){d.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of c){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(a,p).next(g=>({Ls:g,removedBatchIds:d,addedBatchIds:m}))})})}function n2(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const A=g.batch,b=A.keys();let C=ee.resolve();return b.forEach(R=>{C=C.next(()=>T.getEntry(p,R)).next(O=>{const K=g.docVersions.get(R);Qe(K!==null,48541),O.version.compareTo(K)<0&&(A.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),T.addEntry(O)))})}),C.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,a,e,c).next(()=>c.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function Sb(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function r2(r,e){const n=we(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((T,A)=>{const b=o.get(A);if(!b)return;m.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(c,T.addedDocuments,A)));let C=b.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?C=C.withResumeToken(Jt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):T.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(T.resumeToken,a)),o=o.insert(A,C),function(O,K,V){return O.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=JI?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(b,C,T)&&m.push(n.Pi.updateTargetData(c,C))});let p=ui(),g=Ve();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(i2(c,d,e.documentUpdates).next(T=>{p=T.ks,g=T.qs})),!a.isEqual(Ae.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next(A=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a));m.push(T)}return ee.waitFor(m).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,g)).next(()=>p)}).then(c=>(n.Ms=o,c))}function i2(r,e,n){let a=Ve(),o=Ve();return n.forEach(c=>a=a.add(c)),e.getEntries(r,a).next(c=>{let d=ui();return n.forEach((m,p)=>{const g=c.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):ue(Kp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:d,qs:o}})}function a2(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function s2(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Pi.getTargetData(a,e).next(c=>c?(o=c,ee.resolve(o)):n.Pi.allocateTargetId(a).next(d=>(o=new Yi(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a})}async function up(r,e,n){const a=we(r),o=a.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!No(d))throw d;ue(Kp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function ZE(r,e,n){const a=we(r);let o=Ae.min(),c=Ve();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,g,T){const A=we(p),b=A.xs.get(T);return b!==void 0?ee.resolve(A.Ms.get(b)):A.Pi.getTargetData(g,T)}(a,d,wr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>a.Fs.getDocumentsMatchingQuery(d,e,n?o:Ae.min(),n?c:Ve())).next(m=>(o2(a,QN(e),m),{documents:m,Qs:c})))}function o2(r,e,n){let a=r.Os.get(e)||Ae.min();n.forEach((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),r.Os.set(e,a)}class JE{constructor(){this.activeTargetIds=ZN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l2{constructor(){this.Mo=new JE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new JE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="ConnectivityMonitor";class t0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(e0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(e0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function hp(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="RestConnection",u2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Ih?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,c){const d=hp(),m=this.zo(e,n.toUriEncodedString());ue(Pm,`Sending RPC '${e}' ${d}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:g}=new URL(m),T=So(g);return this.Jo(e,m,p,a,T).then(A=>(ue(Pm,`Received RPC '${e}' ${d}: `,A),A),A=>{throw go(Pm,`RPC '${e}' ${d} failed with error: `,A,"url: ",m,"request:",a),A})}Ho(e,n,a,o,c,d){return this.Go(e,n,a,o,c)}jo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),a&&a.headers.forEach((o,c)=>e[c]=o)}zo(e,n){const a=u2[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class f2 extends h2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,c){const d=hp();return new Promise((m,p)=>{const g=new RT;g.setWithCredentials(!0),g.listenOnce(CT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case fh.NO_ERROR:const A=g.getResponseJson();ue(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),m(A);break;case fh.TIMEOUT:ue(an,`RPC '${e}' ${d} timed out`),p(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const b=g.getStatus();if(ue(an,`RPC '${e}' ${d} failed with status:`,b,"response text:",g.getResponseText()),b>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const R=C?.error;if(R&&R.status&&R.message){const O=function(V){const ae=V.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ae)>=0?ae:Z.UNKNOWN}(R.status);p(new ce(O,R.message))}else p(new ce(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(an,`RPC '${e}' ${d} completed.`)}});const T=JSON.stringify(o);ue(an,`RPC '${e}' ${d} sending request:`,o),g.send(n,"POST",T,a,15)})}T_(e,n,a){const o=hp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=DT(),m=IT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const T=c.join("");ue(an,`Creating RPC '${e}' stream ${o}: ${T}`,p);const A=d.createWebChannel(T,p);this.I_(A);let b=!1,C=!1;const R=new d2({Yo:K=>{C?ue(an,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(b||(ue(an,`Opening RPC '${e}' stream ${o} transport.`),A.open(),b=!0),ue(an,`RPC '${e}' stream ${o} sending:`,K),A.send(K))},Zo:()=>A.close()}),O=(K,V,ae)=>{K.listen(V,ne=>{try{ae(ne)}catch(Re){setTimeout(()=>{throw Re},0)}})};return O(A,Xl.EventType.OPEN,()=>{C||(ue(an,`RPC '${e}' stream ${o} transport opened.`),R.o_())}),O(A,Xl.EventType.CLOSE,()=>{C||(C=!0,ue(an,`RPC '${e}' stream ${o} transport closed`),R.a_(),this.E_(A))}),O(A,Xl.EventType.ERROR,K=>{C||(C=!0,go(an,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),R.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))}),O(A,Xl.EventType.MESSAGE,K=>{if(!C){const V=K.data[0];Qe(!!V,16349);const ae=V,ne=ae?.error||ae[0]?.error;if(ne){ue(an,`RPC '${e}' stream ${o} received error:`,ne);const Re=ne.status;let fe=function(N){const D=Ct[N];if(D!==void 0)return ub(D)}(Re),je=ne.message;fe===void 0&&(fe=Z.INTERNAL,je="Unknown error status: "+Re+" with message "+ne.message),C=!0,R.a_(new ce(fe,je)),A.close()}else ue(an,`RPC '${e}' stream ${o} received:`,V),R.u_(V)}}),O(m,NT.STAT_EVENT,K=>{K.stat===Zm.PROXY?ue(an,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===Zm.NOPROXY&&ue(an,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{R.__()},0),R}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(r){return new yI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="PersistentStream";class wb{constructor(e,n,a,o,c,d,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ab(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===n&&this.G_(a,o)},a=>{e(()=>{const o=new ce(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(n0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ue(n0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m2 extends wb{constructor(e,n,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=EI(this.serializer,e),a=function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?Rr(d.readTime):Ae.min()}(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=cp(this.serializer),n.addTarget=function(c,d){let m;const p=d.target;if(m=rp(p)?{documents:SI(c,p)}:{query:AI(c,p).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=fb(c,d.resumeToken);const g=sp(c,d.expectedCount);g!==null&&(m.expectedCount=g)}else if(d.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Mh(c,d.snapshotVersion.toTimestamp());const g=sp(c,d.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=RI(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=cp(this.serializer),n.removeTarget=e,this.q_(n)}}class p2 extends wb{constructor(e,n,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bI(e.writeResults,e.commitTime),a=Rr(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=cp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>TI(this.serializer,a))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{}class y2 extends g2{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Go(e,op(n,a),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(Z.UNKNOWN,c.toString())})}Ho(e,n,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Ho(e,op(n,a),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(Z.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class v2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ci(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="RemoteStore";class _2{constructor(e,n,a,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(d=>{a.enqueueAndForget(async()=>{os(this)&&(ue(rs,"Restarting streams for network reachability change."),await async function(p){const g=we(p);g.Ea.add(4),await Rc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await rd(g)}(this))})}),this.Ra=new v2(a,o)}}async function rd(r){if(os(r))for(const e of r.da)await e(!0)}async function Rc(r){for(const e of r.da)await e(!1)}function Rb(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wp(n)?Xp(n):Do(n).O_()&&$p(n,e))}function Yp(r,e){const n=we(r),a=Do(n);n.Ia.delete(e),a.O_()&&Cb(n,e),n.Ia.size===0&&(a.O_()?a.L_():os(n)&&n.Ra.set("Unknown"))}function $p(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(r).Y_(e)}function Cb(r,e){r.Va.Ue(e),Do(r).Z_(e)}function Xp(r){r.Va=new fI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Do(r).start(),r.Ra.ua()}function Wp(r){return os(r)&&!Do(r).x_()&&r.Ia.size>0}function os(r){return we(r).Ea.size===0}function Nb(r){r.Va=void 0}async function E2(r){r.Ra.set("Online")}async function T2(r){r.Ia.forEach((e,n)=>{$p(r,e)})}async function b2(r,e){Nb(r),Wp(r)?(r.Ra.ha(e),Xp(r)):r.Ra.set("Unknown")}async function S2(r,e,n){if(r.Ra.set("Online"),e instanceof db&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(a){ue(rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await jh(r,a)}else if(e instanceof yh?r.Va.Ze(e):e instanceof hb?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const a=await Sb(r.localStore);n.compareTo(a)>=0&&await function(c,d){const m=c.Va.Tt(d);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ia.get(g);T&&c.Ia.set(g,T.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,g)=>{const T=c.Ia.get(p);if(!T)return;c.Ia.set(p,T.withResumeToken(Jt.EMPTY_BYTE_STRING,T.snapshotVersion)),Cb(c,p);const A=new Yi(T.target,p,g,T.sequenceNumber);$p(c,A)}),c.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){ue(rs,"Failed to raise snapshot:",a),await jh(r,a)}}async function jh(r,e,n){if(!No(e))throw e;r.Ea.add(1),await Rc(r),r.Ra.set("Offline"),n||(n=()=>Sb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(rs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await rd(r)})}function Ib(r,e){return e().catch(n=>jh(r,n,e))}async function id(r){const e=we(r),n=ia(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pp;for(;A2(e);)try{const o=await a2(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,w2(e,o)}catch(o){await jh(e,o)}Db(e)&&xb(e)}function A2(r){return os(r)&&r.Ta.length<10}function w2(r,e){r.Ta.push(e);const n=ia(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Db(r){return os(r)&&!ia(r).x_()&&r.Ta.length>0}function xb(r){ia(r).start()}async function R2(r){ia(r).ra()}async function C2(r){const e=ia(r);for(const n of r.Ta)e.ea(n.mutations)}async function N2(r,e,n){const a=r.Ta.shift(),o=Bp.from(a,e,n);await Ib(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await id(r)}async function I2(r,e){e&&ia(r).X_&&await async function(a,o){if(function(d){return uI(d)&&d!==Z.ABORTED}(o.code)){const c=a.Ta.shift();ia(a).B_(),await Ib(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o)),await id(a)}}(r,e),Db(r)&&xb(r)}async function r0(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ue(rs,"RemoteStore received new credentials");const a=os(n);n.Ea.add(3),await Rc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rd(n)}async function D2(r,e){const n=we(r);e?(n.Ea.delete(2),await rd(n)):e||(n.Ea.add(2),await Rc(n),n.Ra.set("Unknown"))}function Do(r){return r.ma||(r.ma=function(n,a,o){const c=we(n);return c.sa(),new m2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:E2.bind(null,r),t_:T2.bind(null,r),r_:b2.bind(null,r),H_:S2.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Wp(r)?Xp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Nb(r))})),r.ma}function ia(r){return r.fa||(r.fa=function(n,a,o){const c=we(n);return c.sa(),new p2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:R2.bind(null,r),r_:I2.bind(null,r),ta:C2.bind(null,r),na:N2.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await id(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(rs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,a,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,c){const d=Date.now()+a,m=new Zp(e,n,d,o,c);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jp(r,e){if(ci("AsyncQueue",`${e}: ${r}`),No(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||pe.comparator(n.key,a.key):(n,a)=>pe.comparator(n.key,a.key),this.keyedMap=Wl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new ho;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.ga=new ft(pe.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,a)=>{e.push(a)}),e}}class To{constructor(e,n,a,o,c,d,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,c){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new To(e,n,ho.emptySet(n),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class O2{constructor(){this.queries=a0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=we(n),c=o.queries;o.queries=a0(),c.forEach((d,m)=>{for(const p of m.Sa)p.onError(a)})})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function a0(){return new ss(r=>ZT(r),Wh)}async function Ob(r,e){const n=we(r);let a=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new x2,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=Jp(d,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&eg(n)}async function Pb(r,e){const n=we(r),a=e.query;let o=3;const c=n.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function P2(r,e){const n=we(r);let a=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const m of d.Sa)m.Fa(o)&&(a=!0);d.wa=o}}a&&eg(n)}function M2(r,e,n){const a=we(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);a.queries.delete(e)}function eg(r){r.Ca.forEach(e=>{e.next()})}var dp,s0;(s0=dp||(dp={})).Ma="default",s0.Cache="cache";class Mb{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new To(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.key=e}}class jb{constructor(e){this.key=e}}class V2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=JT(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new i0,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,A)=>{const b=o.get(T),C=Zh(this.query,A)?A:null,R=!!b&&this.mutatedKeys.has(b.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let K=!1;b&&C?b.data.isEqual(C.data)?R!==O&&(a.track({type:3,doc:C}),K=!0):this.su(b,C)||(a.track({type:2,doc:C}),K=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(m=!0)):!b&&C?(a.track({type:0,doc:C}),K=!0):b&&!C&&(a.track({type:1,doc:b}),K=!0,(p||g)&&(m=!0)),K&&(C?(d=d.add(C),c=O?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((T,A)=>function(C,R){const O=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:K})}};return O(C)-O(R)}(T.type,A.type)||this.eu(T.doc,A.doc)),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,d.length!==0||g?{snapshot:new To(this.query,e.tu,c,d,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new i0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const n=[];return e.forEach(a=>{this.Xa.has(a)||n.push(new jb(a))}),this.Xa.forEach(a=>{e.has(a)||n.push(new Vb(a))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tg="SyncEngine";class j2{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class k2{constructor(e){this.key=e,this.hu=!1}}class L2{constructor(e,n,a,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ss(m=>ZT(m),Wh),this.Iu=new Map,this.Eu=new Set,this.du=new ft(pe.comparator),this.Au=new Map,this.Ru=new Fp,this.Vu={},this.mu=new Map,this.fu=Eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function U2(r,e,n=!0){const a=zb(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await kb(a,e,n,!0),o}async function q2(r,e){const n=zb(r);await kb(n,e,!0,!1)}async function kb(r,e,n,a){const o=await s2(r.localStore,wr(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let m;return a&&(m=await B2(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&Rb(r.remoteStore,o),m}async function B2(r,e,n,a,o){r.pu=(A,b,C)=>async function(O,K,V,ae){let ne=K.view.ru(V);ne.Cs&&(ne=await ZE(O.localStore,K.query,!1).then(({documents:k})=>K.view.ru(k,ne)));const Re=ae&&ae.targetChanges.get(K.targetId),fe=ae&&ae.targetMismatches.get(K.targetId)!=null,je=K.view.applyChanges(ne,O.isPrimaryClient,Re,fe);return l0(O,K.targetId,je.au),je.snapshot}(r,A,b,C);const c=await ZE(r.localStore,e,!0),d=new V2(e,c.Qs),m=d.ru(c.documents),p=wc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=d.applyChanges(m,r.isPrimaryClient,p);l0(r,n,g.au);const T=new j2(e,n,d);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function z2(r,e,n){const a=we(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter(d=>!Wh(d,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await up(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Yp(a.remoteStore,o.targetId),fp(a,o.targetId)}).catch(Co)):(fp(a,o.targetId),await up(a.localStore,o.targetId,!0))}async function H2(r,e){const n=we(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Yp(n.remoteStore,a.targetId))}async function F2(r,e,n){const a=W2(r);try{const o=await function(d,m){const p=we(d),g=it.now(),T=m.reduce((C,R)=>C.add(R.key),Ve());let A,b;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let R=ui(),O=Ve();return p.Ns.getEntries(C,T).next(K=>{R=K,R.forEach((V,ae)=>{ae.isValidDocument()||(O=O.add(V))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,R)).next(K=>{A=K;const V=[];for(const ae of m){const ne=aI(ae,A.get(ae.key).overlayedDocument);ne!=null&&V.push(new ua(ae.key,ne,FT(ne.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,V,m)}).next(K=>{b=K;const V=K.applyToLocalDocumentSet(A,O);return p.documentOverlayCache.saveOverlays(C,K.batchId,V)})}).then(()=>({batchId:b.batchId,changes:tb(A)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,m,p){let g=d.Vu[d.currentUser.toKey()];g||(g=new ft(Me)),g=g.insert(m,p),d.Vu[d.currentUser.toKey()]=g}(a,o.batchId,n),await Cc(a,o.changes),await id(a.remoteStore)}catch(o){const c=Jp(o,"Failed to persist write");n.reject(c)}}async function Lb(r,e){const n=we(r);try{const a=await r2(n.localStore,e);e.targetChanges.forEach((o,c)=>{const d=n.Au.get(c);d&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Qe(d.hu,14607):o.removedDocuments.size>0&&(Qe(d.hu,42227),d.hu=!1))}),await Cc(n,a,e)}catch(a){await Co(a)}}function o0(r,e,n){const a=we(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach((c,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const p=we(d);p.onlineState=m;let g=!1;p.queries.forEach((T,A)=>{for(const b of A.Sa)b.va(m)&&(g=!0)}),g&&eg(p)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function G2(r,e,n){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new ft(pe.comparator);d=d.insert(c,ln.newNoDocument(c,Ae.min()));const m=Ve().add(c),p=new td(Ae.min(),new Map,new ft(Me),d,m);await Lb(a,p),a.du=a.du.remove(c),a.Au.delete(e),ng(a)}else await up(a.localStore,e,!1).then(()=>fp(a,e,n)).catch(Co)}async function Q2(r,e){const n=we(r),a=e.batch.batchId;try{const o=await n2(n.localStore,e);qb(n,a,null),Ub(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Cc(n,o)}catch(o){await Co(o)}}async function K2(r,e,n){const a=we(r);try{const o=await function(d,m){const p=we(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(Qe(A!==null,37113),T=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(a.localStore,e);qb(a,e,n),Ub(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Cc(a,o)}catch(o){await Co(o)}}function Ub(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function qb(r,e,n){const a=we(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function fp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(a=>{r.Ru.containsKey(a)||Bb(r,a)})}function Bb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Yp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),ng(r))}function l0(r,e,n){for(const a of n)a instanceof Vb?(r.Ru.addReference(a.key,e),Y2(r,a)):a instanceof jb?(ue(tg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||Bb(r,a.key)):Te(19791,{wu:a})}function Y2(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(ue(tg,"New document in limbo: "+n),r.Eu.add(a),ng(r))}function ng(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(rt.fromString(e)),a=r.fu.next();r.Au.set(a,new k2(n)),r.du=r.du.insert(n,a),Rb(r.remoteStore,new Yi(wr(Lp(n.path)),a,"TargetPurposeLimboResolution",Yh.ce))}}async function Cc(r,e,n){const a=we(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((m,p)=>{d.push(a.pu(p,e,n).then(g=>{if((g||n)&&a.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Qp.As(p.targetId,g);c.push(T)}}))}),await Promise.all(d),a.Pu.H_(o),await async function(p,g){const T=we(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(g,b=>ee.forEach(b.Es,C=>T.persistence.referenceDelegate.addReference(A,b.targetId,C)).next(()=>ee.forEach(b.ds,C=>T.persistence.referenceDelegate.removeReference(A,b.targetId,C)))))}catch(A){if(!No(A))throw A;ue(Kp,"Failed to update sequence numbers: "+A)}for(const A of g){const b=A.targetId;if(!A.fromCache){const C=T.Ms.get(b),R=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(R);T.Ms=T.Ms.insert(b,O)}}}(a.localStore,c))}async function $2(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ue(tg,"User change. New user:",e.toKey());const a=await bb(n.localStore,e);n.currentUser=e,function(c,d){c.mu.forEach(m=>{m.forEach(p=>{p.reject(new ce(Z.CANCELLED,d))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Cc(n,a.Ls)}}function X2(r,e){const n=we(r),a=n.Au.get(e);if(a&&a.hu)return Ve().add(a.key);{let o=Ve();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const m=n.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function zb(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G2.bind(null,e),e.Pu.H_=P2.bind(null,e.eventManager),e.Pu.yu=M2.bind(null,e.eventManager),e}function W2(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K2.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return t2(this.persistence,new ZI,e.initialUser,this.serializer)}Cu(e){return new Tb(Gp.mi,this.serializer)}Du(e){return new l2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class Z2 extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Vh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new kI(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new Tb(a=>Vh.mi(a,n),this.serializer)}}class mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>o0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=$2.bind(null,this.syncEngine),await D2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new O2}()}createDatastore(e){const n=nd(e.databaseInfo.databaseId),a=function(c){return new f2(c)}(e.databaseInfo);return function(c,d,m,p){return new y2(c,d,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,c,d,m){return new _2(a,o,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>o0(this.syncEngine,n,0),function(){return t0.v()?new t0:new c2}())}createSyncEngine(e,n){return function(o,c,d,m,p,g,T){const A=new L2(o,c,d,m,p,g);return T&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const a=we(n);ue(rs,"RemoteStore shutting down."),a.Ea.add(5),await Rc(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mp.provider={build:()=>new mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="FirestoreClient";class J2{constructor(e,n,a,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=Op.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{ue(aa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(ue(aa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Jp(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Vm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(aa,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await bb(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function c0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await eD(r);ue(aa,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>r0(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>r0(e.remoteStore,o)),r._onlineComponents=e}async function eD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(aa,"Using user provided OfflineComponentProvider");try{await Vm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await Vm(r,new kh)}}else ue(aa,"Using default OfflineComponentProvider"),await Vm(r,new Z2(void 0));return r._offlineComponents}async function Fb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(aa,"Using user provided OnlineComponentProvider"),await c0(r,r._uninitializedComponentsProvider._online)):(ue(aa,"Using default OnlineComponentProvider"),await c0(r,new mp))),r._onlineComponents}function tD(r){return Fb(r).then(e=>e.syncEngine)}async function Gb(r){const e=await Fb(r),n=e.eventManager;return n.onListen=U2.bind(null,e.syncEngine),n.onUnlisten=z2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=q2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=H2.bind(null,e.syncEngine),n}function nD(r,e,n={}){const a=new ai;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,g){const T=new Hb({next:b=>{T.Nu(),d.enqueueAndForget(()=>Pb(c,A));const C=b.docs.has(m);!C&&b.fromCache?g.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&p&&p.source==="server"?g.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),A=new Mb(Lp(m.path),T,{includeMetadataChanges:!0,qa:!0});return Ob(c,A)}(await Gb(r),r.asyncQueue,e,n,a)),a.promise}function rD(r,e,n={}){const a=new ai;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,g){const T=new Hb({next:b=>{T.Nu(),d.enqueueAndForget(()=>Pb(c,A)),b.fromCache&&p.source==="server"?g.reject(new ce(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),A=new Mb(m,T,{includeMetadataChanges:!0,qa:!0});return Ob(c,A)}(await Gb(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="firestore.googleapis.com",h0=!0;class d0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kb,this.ssl=h0}else this.host=e.host,this.ssl=e.ssl??h0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Eb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VI)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_N("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qb(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ad{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new cN;switch(a.type){case"firstParty":return new fN(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=u0.get(n);a&&(ue("ComponentProvider","Removing Datastore"),u0.delete(n),a.terminate())}(this),Promise.resolve()}}function iD(r,e,n,a={}){r=er(r,ad);const o=So(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(k0(`https://${m}`),L0("Firestore",!0)),c.host!==Kb&&c.host!==m&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:a};if(!Za(p,d)&&(r._setSettings(p),a.mockUserToken)){let g,T;if(typeof a.mockUserToken=="string")g=a.mockUserToken,T=on.MOCK_USER;else{g=Tw(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new on(A)}r._authCredentials=new uN(new OT(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class bt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Sc(n,bt._jsonSchema))return new bt(e,a||null,new pe(rt.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:It("string",bt._jsonSchemaVersion),referencePath:It("string")};class Ji extends ls{constructor(e,n,a){super(e,n,Lp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new pe(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function Ge(r,e,...n){if(r=Ft(r),PT("collection","path",e),r instanceof ad){const a=rt.fromString(e,...n);return wE(a),new Ji(r,null,a)}{if(!(r instanceof bt||r instanceof Ji))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(rt.fromString(e,...n));return wE(a),new Ji(r.firestore,null,a)}}function dt(r,e,...n){if(r=Ft(r),arguments.length===1&&(e=Op.newId()),PT("doc","path",e),r instanceof ad){const a=rt.fromString(e,...n);return AE(a),new bt(r,null,new pe(a))}{if(!(r instanceof bt||r instanceof Ji))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(rt.fromString(e,...n));return AE(a),new bt(r.firestore,r instanceof Ji?r.converter:null,new pe(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="AsyncQueue";class m0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ab(this,"async_queue_retry"),this._c=()=>{const a=Mm();a&&ue(f0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ai;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;ue(f0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,ci("INTERNAL UNHANDLED ERROR: ",p0(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Zp.createAndSchedule(this,e,n,a,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:p0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function p0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class cs extends ad{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new m0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m0(e),this._firestoreClient=void 0,await e}}}function aD(r,e){const n=typeof r=="object"?r:B0(),a=typeof r=="string"?r:Ih,o=Tp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=_w("firestore");c&&iD(o,...c)}return o}function rg(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||sD(r),r._firestoreClient}function sD(r){const e=r._freezeSettings(),n=function(o,c,d,m){return new DN(o,c,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Qb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new J2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Jt.fromBase64String(e))}catch(n){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sc(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:It("string",Fn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(Sc(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:It("string",Cr._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sc(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Nr(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:It("string",Nr._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=/^__.*__$/;class lD{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}class Yb{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ua(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $b(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class ag{constructor(e,n,a,o,c,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ag({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($b(this.Ac)&&oD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cD{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||nd(e)}Cc(e,n,a,o=!1){return new ag({Ac:e,methodName:n,Dc:a,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function od(r){const e=r._freezeSettings(),n=nd(r._databaseId);return new cD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Xb(r,e,n,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,n,o);sg("Data must be an object, but it was:",d,a);const m=Wb(a,d);let p,g;if(c.merge)p=new In(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const b=pp(e,A,n);if(!d.contains(b))throw new ce(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Jb(T,b)||T.push(b)}p=new In(T),g=d.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=d.fieldTransforms;return new lD(new _n(m),p,g)}class ld extends ig{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ld}}function uD(r,e,n,a){const o=r.Cc(1,e,n);sg("Data must be an object, but it was:",o,a);const c=[],d=_n.empty();ca(a,(p,g)=>{const T=og(e,p,n);g=Ft(g);const A=o.yc(T);if(g instanceof ld)c.push(T);else{const b=Nc(g,A);b!=null&&(c.push(T),d.set(T,b))}});const m=new In(c);return new Yb(d,m,o.fieldTransforms)}function hD(r,e,n,a,o,c){const d=r.Cc(1,e,n),m=[pp(e,a,n)],p=[o];if(c.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<c.length;b+=2)m.push(pp(e,c[b])),p.push(c[b+1]);const g=[],T=_n.empty();for(let b=m.length-1;b>=0;--b)if(!Jb(g,m[b])){const C=m[b];let R=p[b];R=Ft(R);const O=d.yc(C);if(R instanceof ld)g.push(C);else{const K=Nc(R,O);K!=null&&(g.push(C),T.set(C,K))}}const A=new In(g);return new Yb(T,A,d.fieldTransforms)}function dD(r,e,n,a=!1){return Nc(n,r.Cc(a?4:3,e))}function Nc(r,e){if(Zb(r=Ft(r)))return sg("Unsupported field value:",e,r),Wb(r,e);if(r instanceof ig)return function(a,o){if(!$b(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const c=[];let d=0;for(const m of a){let p=Nc(m,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,e)}return function(a,o){if((a=Ft(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return JN(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=it.fromDate(a);return{timestampValue:Mh(o.serializer,c)}}if(a instanceof it){const c=new it(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,c)}}if(a instanceof Cr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fn)return{bytesValue:fb(o.serializer,a._byteString)};if(a instanceof bt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Hp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Nr)return function(d,m){return{mapValue:{fields:{[zT]:{stringValue:HT},[Dh]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Up(m.serializer,g)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${Kh(a)}`)}(r,e)}function Wb(r,e){const n={};return jT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(r,(a,o)=>{const c=Nc(o,e.mc(a));c!=null&&(n[a]=c)}),{mapValue:{fields:n}}}function Zb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Cr||r instanceof Fn||r instanceof bt||r instanceof ig||r instanceof Nr)}function sg(r,e,n){if(!Zb(n)||!MT(n)){const a=Kh(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function pp(r,e,n){if((e=Ft(e))instanceof sd)return e._internalPath;if(typeof e=="string")return og(r,e);throw Lh("Field path arguments must be of type string or ",r,!1,void 0,n)}const fD=new RegExp("[~\\*/\\[\\]]");function og(r,e,n){if(e.search(fD)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new sd(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Lh(r,e,n,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new ce(Z.INVALID_ARGUMENT,m+r+p)}function Jb(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,a,o,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mD extends eS{data(){return super.data()}}function cd(r,e){return typeof e=="string"?og(r,e):e instanceof sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class tS extends lg{}function ot(r,e,...n){let a=[];e instanceof lg&&a.push(e),a=a.concat(n),function(c){const d=c.filter(p=>p instanceof cg).length,m=c.filter(p=>p instanceof ud).length;if(d>1||d>0&&m>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class ud extends tS{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new ud(e,n,a)}_apply(e){const n=this._parse(e);return nS(e._query,n),new ls(e.firestore,e.converter,ip(e._query,n))}_parse(e){const n=od(e.firestore);return function(c,d,m,p,g,T,A){let b;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){y0(A,T);const R=[];for(const O of A)R.push(g0(p,c,O));b={arrayValue:{values:R}}}else b=g0(p,c,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||y0(A,T),b=dD(m,d,A,T==="in"||T==="not-in");return Nt.create(g,T,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ht(r,e,n){const a=e,o=cd("where",r);return ud._create(o,a,n)}class cg extends lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cg(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,c){let d=o;const m=c.getFlattenedFilters();for(const p of m)nS(d,p),d=ip(d,p)}(e._query,n),new ls(e.firestore,e.converter,ip(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ug extends tS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ug(e,n)}_apply(e){const n=function(o,c,d){if(o.startAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fc(c,d)}(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new Io(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function lt(r,e="asc"){const n=e,a=cd("orderBy",r);return ug._create(a,n)}function g0(r,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WT(e)&&n.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(rt.fromString(n));if(!pe.isDocumentKey(a))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return PE(r,new pe(a))}if(n instanceof bt)return PE(r,n._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function y0(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nS(r,e){const n=function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gD{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ca(e,(o,c)=>{a[o]=this.convertValue(c,n)}),a}convertVectorValue(e){const n=e.fields?.[Dh].arrayValue?.values?.map(a=>Tt(a.doubleValue));return new Nr(n)}convertGeoPoint(e){return new Cr(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Xh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(uc(e));default:return null}}convertTimestamp(e){const n=ta(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=rt.fromString(e);Qe(_b(a),9688,{name:e});const o=new hc(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return o.isEqual(n)||ci(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends eS{constructor(e,n,a,o,c,d){super(e,n,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(cd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:It("string",Wa._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class vh extends Wa{data(e={}){return super.data(e)}}class fo{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new vh(this._firestore,this._userDataWriter,a.key,a,new Jl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),T=d.indexOf(m.doc.key)),{type:yD(m.type),doc:p,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Op.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(r){r=er(r,bt);const e=er(r.firestore,cs);return nD(rg(e),r._key).then(n=>vD(e,r,n))}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:It("string",fo._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class iS extends gD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function ct(r){r=er(r,ls);const e=er(r.firestore,cs),n=rg(e),a=new iS(e);return pD(r._query),rD(n,r._query).then(o=>new fo(e,a,r,o))}function v0(r,e,n){r=er(r,bt);const a=er(r.firestore,cs),o=rS(r.converter,e);return hd(a,[Xb(od(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Gn.none())])}function xo(r,e,n,...a){r=er(r,bt);const o=er(r.firestore,cs),c=od(o);let d;return d=typeof(e=Ft(e))=="string"||e instanceof sd?hD(c,"updateDoc",r._key,e,n,a):uD(c,"updateDoc",r._key,e),hd(o,[d.toMutation(r._key,Gn.exists(!0))])}function Oo(r){return hd(er(r.firestore,cs),[new qp(r._key,Gn.none())])}function Po(r,e){const n=er(r.firestore,cs),a=dt(r),o=rS(r.converter,e);return hd(n,[Xb(od(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Gn.exists(!1))]).then(()=>a)}function hd(r,e){return function(a,o){const c=new ai;return a.asyncQueue.enqueueAndForget(async()=>F2(await tD(a),o,c)),c.promise}(rg(r),e)}function vD(r,e,n){const a=n.docs.get(e._key),o=new iS(r);return new Wa(r,o,e._key,a,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ro=o})(Ao),po(new Ja("firestore",(a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),m=new cs(new hN(a.getProvider("auth-internal")),new mN(d,a.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(g.options.projectId,T)}(d,o),d);return c={useFetchStreams:n,...c},m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Wi(EE,TE,e),Wi(EE,TE,"esm2020")})();const _D={apiKey:"AIzaSyDp1wZPZpR82WfGEY7u94RBijlprtfl33Q",authDomain:"dentist-b178b.firebaseapp.com",projectId:"dentist-b178b",storageBucket:"dentist-b178b.firebasestorage.app",messagingSenderId:"289207314447",appId:"1:289207314447:web:780ce9797588d1bf971b7a"},hg=bp(_D),jm=AT(hg),ye=aD(hg),so={async logOut(){try{await cE(jm)}catch(r){throw new Error("Failed to log out"+r)}},async login(r){try{const n=(await YR(jm,r.email,r.password)).user,a=await sa(dt(ye,"users",n.uid));let o;if(!a.exists())o={uid:n.uid,email:n.email??"",role:"admin",allowedPaths:["admin"]},await v0(dt(ye,"users",n.uid),o);else{const c=a.data();o={uid:n.uid,email:c.email??n.email??"",role:c.role??"partial",allowedPaths:Array.isArray(c.allowedPaths)?c.allowedPaths:[]}}return o}catch(e){if(console.error("Login error:",e),e.code)switch(e.code){case"auth/user-not-found":throw new Error("No user found with this email address");case"auth/wrong-password":throw new Error("Incorrect password");case"auth/invalid-email":throw new Error("Invalid email address");case"auth/user-disabled":throw new Error("This user account has been disabled");case"auth/too-many-requests":throw new Error("Too many failed attempts. Please try again later");case"auth/network-request-failed":throw new Error("Network error. Please check your connection");default:throw new Error(`Authentication failed: ${e.message}`)}throw new Error(`Login failed: ${e.message||e}`)}},async register(r){const e=`secondary-${Date.now()}`,n=bp(hg.options,e),a=AT(n);try{const c=(await KR(a,r.email,r.password)).user,d={uid:c.uid,email:c.email??r.email,displayName:r.displayName,role:r.role,allowedPaths:r.allowedPaths||[]};return await v0(dt(ye,"users",c.uid),d),d}catch(o){throw new Error("Failed to register: "+(o instanceof Error?o.message:String(o)))}finally{await cE(a).catch(()=>{}),await k1(n).catch(()=>{})}},observeAuthState(r){try{return WR(jm,async e=>{if(e)try{const n=await sa(dt(ye,"users",e.uid));if(n.exists()){const a=n.data();r(a)}else r(null)}catch(n){console.error("Erro ao buscar dados do usurio:",n),r(null)}else r(null)})}catch(e){throw new Error("Erro ao observar estado de autenticao: "+e)}}},aS=z.createContext(void 0);function ED({children:r}){const[e,n]=z.useState(null),[a,o]=z.useState(!0),[c,d]=z.useState(null);z.useEffect(()=>{const C=so.observeAuthState(R=>{n(R),o(!1)});return()=>C()},[]);const b={user:e,loading:a,error:c,login:async C=>{try{o(!0),d(null);const R=await so.login(C);n(R),o(!1)}catch(R){d(R instanceof Error?R.message:"An error occurred"),o(!1)}},register:async C=>{try{d(null),o(!0);const R=await so.register(C);n(R),o(!1)}catch(R){d(R instanceof Error?R.message:"An error occurred"),o(!1)}},registerForAdmin:async C=>{try{o(!0),d(null);const R=await so.register(C);return o(!1),R}catch(R){throw d(R instanceof Error?R.message:"An error occurred"),o(!1),R}},logout:async()=>{try{await so.logOut(),n(null)}catch(C){d(C instanceof Error?C.message:"An error occurred")}},clearError:()=>{d(null)}};return v.jsx(aS.Provider,{value:b,children:r})}/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _0="popstate";function TD(r={}){function e(a,o){let{pathname:c,search:d,hash:m}=a.location;return gp("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:gc(o)}return SD(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function nr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bD(){return Math.random().toString(36).substring(2,10)}function E0(r,e){return{usr:r.state,key:r.key,idx:e}}function gp(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Mo(e):e,state:n,key:e&&e.key||a||bD()}}function gc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Mo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function SD(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,d=o.history,m="POP",p=null,g=T();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function T(){return(d.state||{idx:null}).idx}function A(){m="POP";let K=T(),V=K==null?null:K-g;g=K,p&&p({action:m,location:O.location,delta:V})}function b(K,V){m="PUSH";let ae=gp(O.location,K,V);g=T()+1;let ne=E0(ae,g),Re=O.createHref(ae);try{d.pushState(ne,"",Re)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(Re)}c&&p&&p({action:m,location:O.location,delta:1})}function C(K,V){m="REPLACE";let ae=gp(O.location,K,V);g=T();let ne=E0(ae,g),Re=O.createHref(ae);d.replaceState(ne,"",Re),c&&p&&p({action:m,location:O.location,delta:0})}function R(K){return AD(K)}let O={get action(){return m},get location(){return r(o,d)},listen(K){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_0,A),p=K,()=>{o.removeEventListener(_0,A),p=null}},createHref(K){return e(o,K)},createURL:R,encodeLocation(K){let V=R(K);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:b,replace:C,go(K){return d.go(K)}};return O}function AD(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:gc(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function sS(r,e,n="/"){return wD(r,e,n,!1)}function wD(r,e,n,a){let o=typeof e=="string"?Mo(e):e,c=hi(o.pathname||"/",n);if(c==null)return null;let d=oS(r);RD(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let g=kD(c);m=VD(d[p],g,a)}return m}function oS(r,e=[],n=[],a=""){let o=(c,d,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=si([a,p.relativePath]),T=n.concat(p);c.children&&c.children.length>0&&(ut(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),oS(c.children,e,T,g)),!(c.path==null&&!c.index)&&e.push({path:g,score:PD(g,c.index),routesMeta:T})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let m of lS(c.path))o(c,d,m)}),e}function lS(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let d=lS(a.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...d),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function RD(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:MD(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var CD=/^:[\w-]+$/,ND=3,ID=2,DD=1,xD=10,OD=-2,T0=r=>r==="*";function PD(r,e){let n=r.split("/"),a=n.length;return n.some(T0)&&(a+=OD),e&&(a+=ID),n.filter(o=>!T0(o)).reduce((o,c)=>o+(CD.test(c)?ND:c===""?DD:xD),a)}function MD(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function VD(r,e,n=!1){let{routesMeta:a}=r,o={},c="/",d=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,T=c==="/"?e:e.slice(c.length)||"/",A=Uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),b=p.route;if(!A&&g&&n&&!a[a.length-1].route.index&&(A=Uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!A)return null;Object.assign(o,A.params),d.push({params:o,pathname:si([c,A.pathname]),pathnameBase:BD(si([c,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(c=si([c,A.pathnameBase]))}return d}function Uh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=jD(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:T,isOptional:A},b)=>{if(T==="*"){let R=m[b]||"";d=c.slice(0,c.length-R.length).replace(/(.)\/+$/,"$1")}const C=m[b];return A&&!C?g[T]=void 0:g[T]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:r}}function jD(r,e=!1,n=!0){nr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function kD(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function hi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function LD(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Mo(r):r;return{pathname:n?n.startsWith("/")?n:UD(n,e):e,search:zD(a),hash:HD(o)}}function UD(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function km(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qD(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dg(r){let e=qD(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function fg(r,e,n,a=!1){let o;typeof r=="string"?o=Mo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),km("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),km("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),km("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=n;else{let A=e.length-1;if(!a&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}m=A>=0?e[A]:"/"}let p=LD(o,m),g=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var si=r=>r.join("/").replace(/\/\/+/g,"/"),BD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,HD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function FD(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var cS=["POST","PUT","PATCH","DELETE"];new Set(cS);var GD=["GET",...cS];new Set(GD);var Vo=z.createContext(null);Vo.displayName="DataRouter";var dd=z.createContext(null);dd.displayName="DataRouterState";z.createContext(!1);var uS=z.createContext({isTransitioning:!1});uS.displayName="ViewTransition";var QD=z.createContext(new Map);QD.displayName="Fetchers";var KD=z.createContext(null);KD.displayName="Await";var rr=z.createContext(null);rr.displayName="Navigation";var Ic=z.createContext(null);Ic.displayName="Location";var ir=z.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var mg=z.createContext(null);mg.displayName="RouteError";function YD(r,{relative:e}={}){ut(jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=z.useContext(rr),{hash:o,pathname:c,search:d}=Dc(r,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:si([n,c])),a.createHref({pathname:m,search:d,hash:o})}function jo(){return z.useContext(Ic)!=null}function fi(){return ut(jo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Ic).location}var hS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dS(r){z.useContext(rr).static||z.useLayoutEffect(r)}function pg(){let{isDataRoute:r}=z.useContext(ir);return r?cx():$D()}function $D(){ut(jo(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Vo),{basename:e,navigator:n}=z.useContext(rr),{matches:a}=z.useContext(ir),{pathname:o}=fi(),c=JSON.stringify(dg(a)),d=z.useRef(!1);return dS(()=>{d.current=!0}),z.useCallback((p,g={})=>{if(nr(d.current,hS),!d.current)return;if(typeof p=="number"){n.go(p);return}let T=fg(p,JSON.parse(c),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:si([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,c,o,r])}var XD=z.createContext(null);function WD(r){let e=z.useContext(ir).outlet;return e&&z.createElement(XD.Provider,{value:r},e)}function Dc(r,{relative:e}={}){let{matches:n}=z.useContext(ir),{pathname:a}=fi(),o=JSON.stringify(dg(n));return z.useMemo(()=>fg(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function ZD(r,e){return fS(r,e)}function fS(r,e,n,a){ut(jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(rr),{matches:c}=z.useContext(ir),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",T=d&&d.route;{let V=T&&T.path||"";mS(p,!T||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let A=fi(),b;if(e){let V=typeof e=="string"?Mo(e):e;ut(g==="/"||V.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),b=V}else b=A;let C=b.pathname||"/",R=C;if(g!=="/"){let V=g.replace(/^\//,"").split("/");R="/"+C.replace(/^\//,"").split("/").slice(V.length).join("/")}let O=sS(r,{pathname:R});nr(T||O!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),nr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=rx(O&&O.map(V=>Object.assign({},V,{params:Object.assign({},m,V.params),pathname:si([g,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:si([g,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),c,n,a);return e&&K?z.createElement(Ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},K):K}function JD(){let r=lx(),e=FD(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:c},"ErrorBoundary")," or"," ",z.createElement("code",{style:c},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,d)}var ex=z.createElement(JD,null),tx=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(ir.Provider,{value:this.props.routeContext},z.createElement(mg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nx({routeContext:r,match:e,children:n}){let a=z.useContext(Vo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ir.Provider,{value:r},n)}function rx(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,c=n?.errors;if(c!=null){let p=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);ut(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:T,errors:A}=n,b=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||b){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let A,b=!1,C=null,R=null;n&&(A=c&&g.route.id?c[g.route.id]:void 0,C=g.route.errorElement||ex,d&&(m<0&&T===0?(mS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,R=null):m===T&&(b=!0,R=g.route.hydrateFallbackElement||null)));let O=e.concat(o.slice(0,T+1)),K=()=>{let V;return A?V=C:b?V=R:g.route.Component?V=z.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=p,z.createElement(nx,{match:g,routeContext:{outlet:p,matches:O,isDataRoute:n!=null},children:V})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?z.createElement(tx,{location:n.location,revalidation:n.revalidation,component:C,error:A,children:K(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):K()},null)}function gg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ix(r){let e=z.useContext(Vo);return ut(e,gg(r)),e}function ax(r){let e=z.useContext(dd);return ut(e,gg(r)),e}function sx(r){let e=z.useContext(ir);return ut(e,gg(r)),e}function yg(r){let e=sx(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function ox(){return yg("useRouteId")}function lx(){let r=z.useContext(mg),e=ax("useRouteError"),n=yg("useRouteError");return r!==void 0?r:e.errors?.[n]}function cx(){let{router:r}=ix("useNavigate"),e=yg("useNavigate"),n=z.useRef(!1);return dS(()=>{n.current=!0}),z.useCallback(async(o,c={})=>{nr(n.current,hS),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var b0={};function mS(r,e,n){!e&&!b0[r]&&(b0[r]=!0,nr(!1,n))}z.memo(ux);function ux({routes:r,future:e,state:n}){return fS(r,void 0,n,e)}function S0({to:r,replace:e,state:n,relative:a}){ut(jo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(rr);nr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=z.useContext(ir),{pathname:d}=fi(),m=pg(),p=fg(r,dg(c),d,a==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function hx(r){return WD(r.context)}function sn(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dx({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:c=!1}){ut(!jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof n=="string"&&(n=Mo(n));let{pathname:p="/",search:g="",hash:T="",state:A=null,key:b="default"}=n,C=z.useMemo(()=>{let R=hi(p,d);return R==null?null:{location:{pathname:R,search:g,hash:T,state:A,key:b},navigationType:a}},[d,p,g,T,A,b,a]);return nr(C!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:z.createElement(rr.Provider,{value:m},z.createElement(Ic.Provider,{children:e,value:C}))}function pS({children:r,location:e}){return ZD(yp(r),e)}function yp(r,e=[]){let n=[];return z.Children.forEach(r,(a,o)=>{if(!z.isValidElement(a))return;let c=[...e,o];if(a.type===z.Fragment){n.push.apply(n,yp(a.props.children,c));return}ut(a.type===sn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=yp(a.props.children,c)),n.push(d)}),n}var _h="get",Eh="application/x-www-form-urlencoded";function fd(r){return r!=null&&typeof r.tagName=="string"}function fx(r){return fd(r)&&r.tagName.toLowerCase()==="button"}function mx(r){return fd(r)&&r.tagName.toLowerCase()==="form"}function px(r){return fd(r)&&r.tagName.toLowerCase()==="input"}function gx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yx(r,e){return r.button===0&&(!e||e==="_self")&&!gx(r)}var lh=null;function vx(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var _x=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lm(r){return r!=null&&!_x.has(r)?(nr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):r}function Ex(r,e){let n,a,o,c,d;if(mx(r)){let m=r.getAttribute("action");a=m?hi(m,e):null,n=r.getAttribute("method")||_h,o=Lm(r.getAttribute("enctype"))||Eh,c=new FormData(r)}else if(fx(r)||px(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?hi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||_h,o=Lm(r.getAttribute("formenctype"))||Lm(m.getAttribute("enctype"))||Eh,c=new FormData(m,r),!vx()){let{name:g,type:T,value:A}=r;if(T==="image"){let b=g?`${g}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else g&&c.append(g,A)}}else{if(fd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_h,a=null,o=Eh,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Tx(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&hi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function bx(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ax(r,e,n){let a=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await bx(c,n);return d.links?d.links():[]}return[]}));return Nx(a.flat(1).filter(Sx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function A0(r,e,n,a,o,c){let d=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,g)=>d(p,g)||m(p,g)):c==="data"?e.filter((p,g)=>{let T=a.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(d(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function wx(r,e,{includeHydrateFallback:n}={}){return Rx(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Rx(r){return[...new Set(r)]}function Cx(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function Nx(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let c=JSON.stringify(Cx(o));return n.has(c)||(n.add(c),a.push({key:c,link:o})),a},[])}function gS(){let r=z.useContext(Vo);return vg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ix(){let r=z.useContext(dd);return vg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _g=z.createContext(void 0);_g.displayName="FrameworkContext";function yS(){let r=z.useContext(_g);return vg(r,"You must render this element inside a <HydratedRouter> element"),r}function Dx(r,e){let n=z.useContext(_g),[a,o]=z.useState(!1),[c,d]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:A}=e,b=z.useRef(null);z.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let O=V=>{V.forEach(ae=>{d(ae.isIntersecting)})},K=new IntersectionObserver(O,{threshold:.5});return b.current&&K.observe(b.current),()=>{K.disconnect()}}},[r]),z.useEffect(()=>{if(a){let O=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(O)}}},[a]);let C=()=>{o(!0)},R=()=>{o(!1),d(!1)};return n?r!=="intent"?[c,b,{}]:[c,b,{onFocus:Kl(m,C),onBlur:Kl(p,R),onMouseEnter:Kl(g,C),onMouseLeave:Kl(T,R),onTouchStart:Kl(A,C)}]:[!1,b,{}]}function Kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function xx({page:r,...e}){let{router:n}=gS(),a=z.useMemo(()=>sS(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?z.createElement(Px,{page:r,matches:a,...e}):null}function Ox(r){let{manifest:e,routeModules:n}=yS(),[a,o]=z.useState([]);return z.useEffect(()=>{let c=!1;return Ax(r,e,n).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,n]),a}function Px({page:r,matches:e,...n}){let a=fi(),{manifest:o,routeModules:c}=yS(),{basename:d}=gS(),{loaderData:m,matches:p}=Ix(),g=z.useMemo(()=>A0(r,e,p,o,a,"data"),[r,e,p,o,a]),T=z.useMemo(()=>A0(r,e,p,o,a,"assets"),[r,e,p,o,a]),A=z.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let R=new Set,O=!1;if(e.forEach(V=>{let ae=o.routes[V.route.id];!ae||!ae.hasLoader||(!g.some(ne=>ne.route.id===V.route.id)&&V.route.id in m&&c[V.route.id]?.shouldRevalidate||ae.hasClientLoader?O=!0:R.add(V.route.id))}),R.size===0)return[];let K=Tx(r,d,"data");return O&&R.size>0&&K.searchParams.set("_routes",e.filter(V=>R.has(V.route.id)).map(V=>V.route.id).join(",")),[K.pathname+K.search]},[d,m,a,o,g,e,r,c]),b=z.useMemo(()=>wx(T,o),[T,o]),C=Ox(T);return z.createElement(z.Fragment,null,A.map(R=>z.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),b.map(R=>z.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),C.map(({key:R,link:O})=>z.createElement("link",{key:R,nonce:n.nonce,...O})))}function Mx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vS&&(window.__reactRouterVersion="7.8.0")}catch{}function Vx({basename:r,children:e,window:n}){let a=z.useRef();a.current==null&&(a.current=TD({window:n,v5Compat:!0}));let o=a.current,[c,d]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>d(p))},[d]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(dx,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var _S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ES=z.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:c,replace:d,state:m,target:p,to:g,preventScrollReset:T,viewTransition:A,...b},C){let{basename:R}=z.useContext(rr),O=typeof g=="string"&&_S.test(g),K,V=!1;if(typeof g=="string"&&O&&(K=g,vS))try{let D=new URL(window.location.href),j=g.startsWith("//")?new URL(D.protocol+g):new URL(g),L=hi(j.pathname,R);j.origin===D.origin&&L!=null?g=L+j.search+j.hash:V=!0}catch{nr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=YD(g,{relative:o}),[ne,Re,fe]=Dx(a,b),je=Lx(g,{replace:d,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:A});function k(D){e&&e(D),D.defaultPrevented||je(D)}let N=z.createElement("a",{...b,...fe,href:K||ae,onClick:V||c?e:k,ref:Mx(C,Re),target:p,"data-discover":!O&&n==="render"?"true":void 0});return ne&&!O?z.createElement(z.Fragment,null,N,z.createElement(xx,{page:ae})):N});ES.displayName="Link";var TS=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:c,to:d,viewTransition:m,children:p,...g},T){let A=Dc(d,{relative:g.relative}),b=fi(),C=z.useContext(dd),{navigator:R,basename:O}=z.useContext(rr),K=C!=null&&Hx(A)&&m===!0,V=R.encodeLocation?R.encodeLocation(A).pathname:A.pathname,ae=b.pathname,ne=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(ae=ae.toLowerCase(),ne=ne?ne.toLowerCase():null,V=V.toLowerCase()),ne&&O&&(ne=hi(ne,O)||ne);const Re=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let fe=ae===V||!o&&ae.startsWith(V)&&ae.charAt(Re)==="/",je=ne!=null&&(ne===V||!o&&ne.startsWith(V)&&ne.charAt(V.length)==="/"),k={isActive:fe,isPending:je,isTransitioning:K},N=fe?e:void 0,D;typeof a=="function"?D=a(k):D=[a,fe?"active":null,je?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(k):c;return z.createElement(ES,{...g,"aria-current":N,className:D,ref:T,style:j,to:d,viewTransition:m},typeof p=="function"?p(k):p)});TS.displayName="NavLink";var jx=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:c,method:d=_h,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:A,...b},C)=>{let R=Bx(),O=zx(m,{relative:g}),K=d.toLowerCase()==="get"?"get":"post",V=typeof m=="string"&&_S.test(m),ae=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let Re=ne.nativeEvent.submitter,fe=Re?.getAttribute("formmethod")||d;R(Re||ne.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:c,relative:g,preventScrollReset:T,viewTransition:A})};return z.createElement("form",{ref:C,method:K,action:O,onSubmit:a?p:ae,...b,"data-discover":!V&&r==="render"?"true":void 0})});jx.displayName="Form";function kx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bS(r){let e=z.useContext(Vo);return ut(e,kx(r)),e}function Lx(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:c,viewTransition:d}={}){let m=pg(),p=fi(),g=Dc(r,{relative:c});return z.useCallback(T=>{if(yx(T,e)){T.preventDefault();let A=n!==void 0?n:gc(p)===gc(g);m(r,{replace:A,state:a,preventScrollReset:o,relative:c,viewTransition:d})}},[p,m,g,n,a,e,r,o,c,d])}var Ux=0,qx=()=>`__${String(++Ux)}__`;function Bx(){let{router:r}=bS("useSubmit"),{basename:e}=z.useContext(rr),n=ox();return z.useCallback(async(a,o={})=>{let{action:c,method:d,encType:m,formData:p,body:g}=Ex(a,e);if(o.navigate===!1){let T=o.fetcherKey||qx();await r.fetch(T,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function zx(r,{relative:e}={}){let{basename:n}=z.useContext(rr),a=z.useContext(ir);ut(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...Dc(r||".",{relative:e})},d=fi();if(r==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let T=m.toString();c.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:si([n,c.pathname])),gc(c)}function Hx(r,{relative:e}={}){let n=z.useContext(uS);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=bS("useViewTransitionState"),o=Dc(r,{relative:e});if(!n.isTransitioning)return!1;let c=hi(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=hi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Uh(o.pathname,d)!=null||Uh(o.pathname,c)!=null}const Um={home:"/",login:"/login",register:"/register"};function Eg(){const r=z.useContext(aS);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function Fx(r,e){return e?r?r.role==="admin"?!0:!!r.allowedPaths?.includes(e):!1:!0}const Gx=({children:r,required:e})=>{const{user:n,loading:a}=Eg();return a?v.jsx("div",{children:"Loading..."}):n?Fx(n,e)?r:v.jsx(S0,{to:"/",replace:!0}):v.jsx(S0,{to:"/login",replace:!0})};function Qx(){const r=pg();return{goTo:o=>{r(o)},goBack:()=>{r(-1)},replace:o=>{r(o,{replace:!0})}}}const en=({children:r,type:e="button",variant:n="primary",size:a="medium",disabled:o=!1,loading:c=!1,onClick:d,className:m=""})=>{const p=["button",n,a,m].filter(Boolean).join(" ");return v.jsxs("button",{type:e,disabled:o||c,onClick:d,className:p,children:[c&&v.jsx("div",{className:"loading-spinner"}),r]})},se=({label:r,type:e="text",value:n,onChange:a,placeholder:o,required:c=!1,error:d,disabled:m=!1,className:p="",min:g,max:T})=>{const A=["input-field",d?"error":"",p].filter(Boolean).join(" ");return v.jsxs("div",{className:"input-group",children:[v.jsxs("label",{className:"input-label",children:[r,c&&v.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),v.jsx("input",{type:e,value:n,onChange:b=>a(b.target.value),placeholder:o,disabled:m,className:A,required:c,min:g,max:T}),d&&v.jsx("div",{className:"input-error",children:d})]})},Kx=({onLogin:r})=>{const[e,n]=z.useState(""),[a,o]=z.useState(""),[c,d]=z.useState(!1),[m,p]=z.useState({}),g=()=>{const A={};return e.trim()?/\S+@\S+\.\S+/.test(e)||(A.email="Please enter a valid email"):A.email="Email is required",a.trim()?a.length<6&&(A.password="Password must be at least 6 characters"):A.password="Password is required",p(A),Object.keys(A).length===0},T=async A=>{if(A.preventDefault(),!!g()){d(!0);try{await r(e,a)}catch(b){console.error("Login failed:",b)}finally{d(!1)}}};return v.jsxs("form",{onSubmit:T,className:"login-form",children:[v.jsx(se,{label:"Email",type:"text",value:e,onChange:n,placeholder:"Enter your email",required:!0,error:m.email,disabled:c}),v.jsx(se,{label:"Password",type:"password",value:a,onChange:o,placeholder:"Enter your password",required:!0,error:m.password,disabled:c}),v.jsx(en,{type:"submit",variant:"primary",size:"full",loading:c,disabled:c,children:c?"Signing In...":"Login"})]})},qm=()=>{const{login:r}=Eg(),{goTo:e}=Qx(),n=async(a,o)=>{await r({email:a,password:o}),e("/admin")};return v.jsx("div",{className:"login-container",children:v.jsx("div",{className:"login-card",children:v.jsxs("div",{className:"login-header",children:[v.jsxs("div",{className:"company-logo",children:["LUNDER",v.jsx("br",{}),"UNDERGROUND SERVICES",v.jsx("br",{}),"CORP"]}),v.jsx("div",{className:"company-subtitle",children:"Engineering Excellence Underground"}),v.jsx(Kx,{onLogin:n}),v.jsx("div",{className:"login-footer",children:v.jsx("a",{href:"#",className:"forgot-password",children:"Forgot password?"})})]})})})};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$x=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),w0=r=>{const e=$x(r);return e.charAt(0).toUpperCase()+e.slice(1)},SS=(...r)=>r.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),Xx=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=z.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...m},p)=>z.createElement("svg",{ref:p,...Wx,width:e,height:e,stroke:r,strokeWidth:a?Number(n)*24/Number(e):n,className:SS("lucide",o),...!c&&!Xx(m)&&{"aria-hidden":"true"},...m},[...d.map(([g,T])=>z.createElement(g,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=(r,e)=>{const n=z.forwardRef(({className:a,...o},c)=>z.createElement(Zx,{ref:c,iconNode:e,className:SS(`lucide-${Yx(w0(r))}`,`lucide-${r}`,a),...o}));return n.displayName=w0(r),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],eO=xc("car",Jx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nO=xc("credit-card",tO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],R0=xc("server",rO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Bm=xc("user-plus",iO);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sO=xc("users",aO),AS=[{value:"cadastro-usuario",label:"Register User",icon:v.jsx(Bm,{})},{value:"cadastro-servico",label:"Register Service",icon:v.jsx(R0,{})},{value:"cadastro-clientes",label:"Register Clients",icon:v.jsx(sO,{})},{value:"cadastro-funcionario",label:"Register Employee",icon:v.jsx(Bm,{})},{value:"cadastro-subcontratados",label:"Register Subcontractors",icon:v.jsx(Bm,{})},{value:"cadastro-servicos-contratados",label:"Register Contract Services",icon:v.jsx(R0,{})},{value:"cadastro-financiamentos",label:"Register Financings",icon:v.jsx(nO,{})},{value:"cadastro-veiculos",label:"Register Vehicles",icon:v.jsx(eO,{})}],oO=({Logo:r,className:e})=>{const n=fi();return v.jsxs("aside",{className:`sidebar ${e||""}`,children:[v.jsx(r,{}),v.jsx("nav",{className:"sidebar-nav",children:v.jsx("ul",{className:"nav-list",children:AS.map(a=>v.jsx("li",{className:"nav-item",children:v.jsxs(TS,{to:a.value,end:!1,className:({isActive:o})=>`nav-link ${o||n.pathname.endsWith(`/${a.value}`)?"active":""}`,children:[a.icon,a.label]})},a.value))})})]})},lO=()=>v.jsxs("div",{className:"logo",children:[v.jsx("div",{className:"logo-icon",children:v.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M2 17L12 22L22 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("path",{d:"M2 12L12 17L22 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),v.jsxs("div",{className:"logo-text",children:[v.jsx("h2",{className:"company-name",children:"Underground Engineering"}),v.jsx("p",{className:"company-tagline",children:"Admin Panel"})]})]});function cO(){const{user:r}=Eg(),e=r?.displayName||r?.email||"User",n=r?.role==="admin"?"Administrator":"Partial Access",a=e.trim().split(" ").map(o=>o[0]?.toUpperCase()).slice(0,2).join("");return v.jsxs("header",{className:"admin-header",children:[v.jsxs("div",{className:"header-left",children:[v.jsx("h1",{className:"header-title",children:"Admin Panel"}),v.jsx("p",{className:"header-subtitle",children:"Manage registrations and settings"})]}),v.jsx("div",{className:"header-right",children:v.jsxs("div",{className:"user-info",children:[v.jsx("div",{className:"avatar","aria-hidden":!0,children:a}),v.jsxs("div",{className:"user-texts",children:[v.jsx("div",{className:"user-name",title:e,children:e}),v.jsx("span",{className:`user-role ${r?.role||"partial"}`,children:n})]})]})})]})}function uO(){return v.jsxs("div",{className:"admin-layout",children:[v.jsx(oO,{Logo:lO}),v.jsxs("main",{className:"admin-content",children:[v.jsx(cO,{}),v.jsx(hx,{})]})]})}var wS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},C0=Xa.createContext&&Xa.createContext(wS),hO=["attr","size","title"];function dO(r,e){if(r==null)return{};var n=fO(r,e),a,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(o=0;o<c.length;o++)a=c[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(n[a]=r[a])}return n}function fO(r,e){if(r==null)return{};var n={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;n[a]=r[a]}return n}function qh(){return qh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},qh.apply(this,arguments)}function N0(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,a)}return n}function Bh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(n),!0).forEach(function(a){mO(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):N0(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}function mO(r,e,n){return e=pO(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function pO(r){var e=gO(r,"string");return typeof e=="symbol"?e:e+""}function gO(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function RS(r){return r&&r.map((e,n)=>Xa.createElement(e.tag,Bh({key:n},e.attr),RS(e.child)))}function un(r){return e=>Xa.createElement(yO,qh({attr:Bh({},r.attr)},e),RS(r.child))}function yO(r){var e=n=>{var{attr:a,size:o,title:c}=r,d=dO(r,hO),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Xa.createElement("svg",qh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,d,{className:p,style:Bh(Bh({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&Xa.createElement("title",null,c),r.children)};return C0!==void 0?Xa.createElement(C0.Consumer,null,n=>e(n)):e(wS)}function vO(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(r)}function Tg(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(r)}function _O(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(r)}function EO(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(r)}function I0(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"rect",attr:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"},child:[]}]})(r)}function TO(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(r)}function bo(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(r)}function zh(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(r)}function bO(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(r)}function md(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(r)}function CS(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(r)}function NS(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(r)}function pd(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(r)}function IS(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(r)}function SO(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(r)}function gd(r){return un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(r)}const is=({label:r,options:e,value:n,onChange:a,placeholder:o="Select options...",error:c,required:d=!1,disabled:m=!1})=>{const[p,g]=z.useState(!1),T=()=>{g(!p)},A=C=>{n.includes(C)?a(n.filter(R=>R!==C)):a([...n,C])},b=()=>{if(n.length===0)return o;if(n.length===1){const C=e.find(R=>R.value===n[0]);return C?C.label:n[0]}return`${n.length} items selected`};return v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{className:"form-label",children:[r,d&&v.jsx("span",{className:"required",children:"*"})]}),v.jsxs("div",{className:`multiselect ${c?"error":""} ${m?"disabled":""}`,children:[v.jsxs("div",{className:"multiselect-trigger",onClick:m?void 0:T,children:[v.jsx("span",{className:"multiselect-value",children:b()}),v.jsx("span",{className:`multiselect-arrow ${p?"open":""}`,children:""})]}),p&&v.jsx("div",{className:"multiselect-dropdown",children:e.map(C=>v.jsxs("div",{className:`multiselect-option ${n.includes(C.value)?"selected":""}`,onClick:()=>A(C.value),children:[v.jsx("span",{className:"option-checkbox",children:n.includes(C.value)?v.jsx(_O,{className:"check-icon"}):""}),v.jsx("span",{className:"option-label",children:C.label})]},C.value))})]}),c&&v.jsx("span",{className:"error-message",children:c})]})},D0=()=>{const[r,e]=z.useState({email:"",password:"",displayName:"",role:"partial",allowedPaths:[]}),n=AS.map(({value:R,label:O})=>({value:R,label:O})),[a,o]=z.useState({}),[c,d]=z.useState(!1),[m,p]=z.useState(""),g=r.role==="admin",T=(R,O)=>{e(K=>{const V={...K,[R]:O};return R==="role"&&O==="admin"&&(V.allowedPaths=[]),V}),a[R]&&o(K=>({...K,[R]:""})),m&&p("")},A=()=>{const R={};return r.email?/\S+@\S+\.\S+/.test(r.email)||(R.email="Please enter a valid email"):R.email="Email is required",r.password?r.password.length<6&&(R.password="Password must be at least 6 characters"):R.password="Password is required",r.displayName||(R.displayName="Display name is required"),r.role==="partial"&&r.allowedPaths.length===0&&(R.allowedPaths="Please select at least one allowed path"),o(R),Object.keys(R).length===0},b=async R=>{if(R.preventDefault(),!!A()){d(!0),p(""),o({});try{const O={email:r.email,password:r.password,displayName:r.displayName,role:r.role,allowedPaths:r.allowedPaths};await so.register(O),p("User created successfully!"),e({email:"",password:"",displayName:"",role:"partial",allowedPaths:[]}),o({}),setTimeout(()=>{p("")},3e3)}catch(O){o({submit:"Failed to create user: "+(O instanceof Error?O.message:String(O))})}finally{d(!1)}}},C=()=>{e({email:"",password:"",displayName:"",role:"partial",allowedPaths:[]}),o({}),p("")};return v.jsxs("div",{className:"form-page-content",children:[v.jsxs("div",{className:"content-header",children:[v.jsx("h1",{className:"page-title",children:"Create New User"}),v.jsx("p",{className:"page-subtitle",children:"Add a new user to the system with specific permissions and access rights"})]}),v.jsxs("div",{className:`form-container ${c?"form-loading":""}`,children:[m&&v.jsx("div",{className:"status-message success-message",children:m}),a.submit&&v.jsx("div",{className:"status-message error-message",children:a.submit}),v.jsxs("form",{onSubmit:b,className:"modern-form",children:[v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(gd,{className:"section-icon"}),"User Information"]}),v.jsx(se,{label:"Email Address",type:"email",value:r.email,onChange:R=>T("email",R),placeholder:"user@company.com",error:a.email,required:!0,disabled:c}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Display Name",type:"text",value:r.displayName,onChange:R=>T("displayName",R),placeholder:"John Doe",error:a.displayName,required:!0,disabled:c}),v.jsx(se,{label:"Password",type:"password",value:r.password,onChange:R=>T("password",R),placeholder:"Enter secure password",error:a.password,required:!0,disabled:c})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(pd,{className:"section-icon"}),"Role & Permissions"]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{className:"form-label",children:["User Role ",v.jsx("span",{className:"required",children:"*"})]}),v.jsxs("select",{value:r.role,onChange:R=>T("role",R.target.value),className:"role-select",disabled:c,children:[v.jsx("option",{value:"partial",children:"Partial Access User"}),v.jsx("option",{value:"admin",children:"Administrator"})]}),v.jsx("small",{className:"form-help-text",children:g?"Administrators have full access to all system features":"Partial access users can only access selected pages"})]}),!g&&v.jsx(is,{label:"Allowed Pages",options:n,value:r.allowedPaths,onChange:R=>T("allowedPaths",R),placeholder:"Select which pages this user can access...",error:a.allowedPaths,required:!g,disabled:g||c})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx(en,{type:"submit",variant:"primary",disabled:c,children:c?"Creating User...":"Save User"}),v.jsx(en,{type:"button",variant:"secondary",onClick:C,disabled:c,children:"Cancel"})]})]})]})]})},AO=({label:r,options:e,value:n,onChange:a,placeholder:o="Select an option",error:c,required:d=!1,disabled:m=!1})=>{const[p,g]=z.useState(!1),T=()=>{g(!p)},A=C=>{a(C),g(!1)},b=()=>{if(!n)return o;const C=e.find(R=>R.value===n);return C?C.label:n};return v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{className:"form-label",children:[r,d&&v.jsx("span",{className:"required",children:"*"})]}),v.jsxs("div",{className:`select-input ${c?"error":""}`,children:[v.jsxs("div",{className:"select-trigger",onClick:T,style:{cursor:m?"not-allowed":"pointer"},children:[v.jsx("span",{className:"select-value",children:b()}),v.jsx(EO,{className:`select-arrow ${p?"open":""}`})]}),p&&v.jsx("div",{className:"select-dropdown",children:e.map(C=>v.jsx("div",{className:`select-option ${n===C.value?"selected":""}`,onClick:()=>A(C.value),children:v.jsx("span",{className:"option-label",children:C.label})},C.value))})]}),c&&v.jsx("p",{className:"error-message",children:c})]})},wO={async createService(r){const e=new Date,n={...r,createdAt:e,updatedAt:e},a=Ge(ye,"services"),o=await Po(a,n),c={ft:{value:"ft",label:"Foot (ft)"},box:{value:"box",label:"Box"},fixed:{value:"fixed",label:"Fixed Price"},"":{value:"",label:""}};return{id:o.id,...n,billingUnit:c[r.billingUnit]}},async getAllServices(){const r=Ge(ye,"services"),e=ot(r,lt("createdAt","desc"));return(await ct(e)).docs.map(o=>{const c=o.data();return{id:o.id,...c,createdAt:c.createdAt?.toDate()||new Date,updatedAt:c.updatedAt?.toDate()||new Date}})},async getServiceById(r){const e=dt(ye,"services",r),n=await sa(e);if(!n.exists())return null;const a=n.data();return{id:n.id,...a,createdAt:a.createdAt?.toDate()||new Date,updatedAt:a.updatedAt?.toDate()||new Date}},async updateService(r,e){const n=dt(ye,"services",r),o={...e,updatedAt:new Date};await xo(n,o)},async deleteService(r){const e=dt(ye,"services",r);await Oo(e)}},RO=()=>{const[r,e]=z.useState({serviceCode:"",serviceName:"",billingUnit:""}),[n,a]=z.useState({}),[o,c]=z.useState(!1),[d,m]=z.useState(""),p=[{value:"ft",label:"Foot (ft)"},{value:"box",label:"Box"},{value:"fixed",label:"Fixed Price"}],g=(C,R)=>{e(O=>({...O,[C]:R})),n[C]&&a(O=>({...O,[C]:""})),d&&m("")},T=()=>{const C={};return r.serviceCode.trim()||(C.serviceCode="Service Code is required"),r.serviceName.trim()||(C.serviceName="Service Name is required"),r.billingUnit||(C.billingUnit="Billing Unit is required"),a(C),Object.keys(C).length===0},A=async C=>{if(C.preventDefault(),!!T()){c(!0),m(""),a({});try{const R=await wO.createService(r);console.log("Service created:",R),m("Service registered successfully!"),e({serviceCode:"",serviceName:"",billingUnit:""}),a({}),setTimeout(()=>{m("")},6e3)}catch(R){a({submit:"Failed to register service: "+(R instanceof Error?R.message:String(R))})}finally{c(!1)}}},b=()=>{e({serviceCode:"",serviceName:"",billingUnit:""}),a({}),m("")};return v.jsxs("div",{className:"form-page-content",children:[v.jsxs("div",{className:"content-header",children:[v.jsx("h1",{className:"page-title",children:"Register Service"}),v.jsx("p",{className:"page-subtitle",children:"Create a new service with billing configuration and pricing details"})]}),v.jsxs("div",{className:`form-container ${o?"form-loading":""}`,children:[d&&v.jsx("div",{className:"status-message success-message",children:d}),n.submit&&v.jsx("div",{className:"status-message error-message",children:n.submit}),v.jsxs("form",{onSubmit:A,className:"modern-form",children:[v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(NS,{className:"section-icon"}),"Service Information"]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Service Code",type:"text",value:r.serviceCode,onChange:C=>g("serviceCode",C),placeholder:"SRV-001",error:n.serviceCode,required:!0,disabled:o}),v.jsx(se,{label:"Service Name",type:"text",value:r.serviceName,onChange:C=>g("serviceName",C),placeholder:"Enter descriptive service name",error:n.serviceName,required:!0,disabled:o})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(bo,{className:"section-icon"}),"Billing Configuration"]}),v.jsx(AO,{label:"Billing Unit",options:p,value:r.billingUnit,onChange:C=>g("billingUnit",C),placeholder:"Select how this service is billed",error:n.billingUnit,required:!0,disabled:o}),v.jsx("small",{className:"form-help-text",children:"Choose the unit of measurement for billing this service to clients"})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx(en,{type:"submit",variant:"primary",disabled:o,children:o?"Saving Service...":"Save Service"}),v.jsx(en,{type:"button",variant:"secondary",onClick:b,disabled:o,children:"Cancel"})]})]})]})]})},CO={async createClient(r){const e=new Date,n={...r,createdAt:e,updatedAt:e},a=Ge(ye,"clients");return{id:(await Po(a,n)).id,...r,createdAt:e,updatedAt:e}},async getAllClients(){const r=Ge(ye,"clients"),e=ot(r,lt("createdAt","desc"));return(await ct(e)).docs.map(o=>{const c=o.data();return{id:o.id,...c,createdAt:c.createdAt?.toDate()||new Date,updatedAt:c.updatedAt?.toDate()||new Date}})},async getClientById(r){const e=dt(ye,"clients",r),n=await sa(e);if(!n.exists())return null;const a=n.data();return{id:n.id,...a,createdAt:a.createdAt?.toDate()||new Date,updatedAt:a.updatedAt?.toDate()||new Date}},async updateClient(r,e){const n=dt(ye,"clients",r),o={...e,updatedAt:new Date};await xo(n,o)},async deleteClient(r){const e=dt(ye,"clients",r);await Oo(e)},async getClientsByState(r){const e=Ge(ye,"clients"),n=ot(e,Ht("state","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})},async getClientsByCity(r){const e=Ge(ye,"clients");return(await ct(ot(e,Ht("city","==",r),lt("createdAt","desc")))).docs.map(o=>{const c=o.data();return{id:o.id,...c,createdAt:c.createdAt?.toDate()||new Date,updatedAt:c.updatedAt?.toDate()||new Date}})}},NO=()=>{const[r,e]=z.useState({name:"",state:"",city:"",address:"",personPhone:"",officePhone:"",projectNumber:"",projectContractDate:"",projectFinalDate:"",projectDeadline:""}),[n,a]=z.useState({}),[o,c]=z.useState(!1),[d,m]=z.useState(""),p=(b,C)=>{e(R=>({...R,[b]:C})),n[b]&&a(R=>({...R,[b]:""})),d&&m("")},g=()=>{const b={};return r.name.trim()||(b.name="Name is required"),r.state.trim()||(b.state="State is required"),r.city.trim()||(b.city="City is required"),r.address.trim()||(b.address="Address is required"),r.personPhone.trim()||(b.personPhone="Person Phone is required"),r.officePhone.trim()||(b.officePhone="Office Phone is required"),r.projectNumber.trim()||(b.projectNumber="Project Number is required"),r.projectContractDate||(b.projectContractDate="Contract Date is required"),r.projectFinalDate||(b.projectFinalDate="Final Date is required"),r.projectContractDate&&r.projectFinalDate&&new Date(r.projectFinalDate)<new Date(r.projectContractDate)&&(b.projectFinalDate="Final date cannot be before contract date"),a(b),Object.keys(b).length===0},T=async b=>{if(b.preventDefault(),!!g()){c(!0),m(""),a({});try{console.log("Client data to save:",r);const C=await CO.createClient(r);console.log("New client:",C),m("Client registered successfully!"),e({name:"",state:"",city:"",address:"",personPhone:"",officePhone:"",projectNumber:"",projectContractDate:"",projectFinalDate:"",projectDeadline:""}),a({}),setTimeout(()=>{m("")},6e3)}catch(C){a({submit:"Failed to register client: "+(C instanceof Error?C.message:String(C))})}finally{c(!1)}}},A=()=>{e({name:"",state:"",city:"",address:"",personPhone:"",officePhone:"",projectNumber:"",projectContractDate:new Date().toISOString().split("T")[0],projectFinalDate:new Date().toISOString().split("T")[0],projectDeadline:""}),a({}),m("")};return v.jsxs("div",{className:"form-page-content",children:[v.jsxs("div",{className:"content-header",children:[v.jsx("h1",{className:"page-title",children:"Register Client"}),v.jsx("p",{className:"page-subtitle",children:"Create a new client profile with project details and contact information"})]}),v.jsxs("div",{className:`form-container ${o?"form-loading":""}`,children:[d&&v.jsx("div",{className:"status-message success-message",children:d}),n.submit&&v.jsx("div",{className:"status-message error-message",children:n.submit}),v.jsxs("form",{onSubmit:T,className:"modern-form",children:[v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(gd,{className:"section-icon"}),"Client Information"]}),v.jsx(se,{label:"Client Name",type:"text",value:r.name,onChange:b=>p("name",b),placeholder:"Enter the client's full name",error:n.name,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(md,{className:"section-icon"}),"Location Details"]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"State",type:"text",value:r.state,onChange:b=>p("state",b),placeholder:"e.g., California",error:n.state,required:!0,disabled:o}),v.jsx(se,{label:"City",type:"text",value:r.city,onChange:b=>p("city",b),placeholder:"e.g., Los Angeles",error:n.city,required:!0,disabled:o})]}),v.jsx(se,{label:"Address",type:"text",value:r.address,onChange:b=>p("address",b),placeholder:"Enter the complete address",error:n.address,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(CS,{className:"section-icon"}),"Contact Information"]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Personal Phone",type:"text",value:r.personPhone,onChange:b=>p("personPhone",b),placeholder:"(555) 123-4567",error:n.personPhone,required:!0,disabled:o}),v.jsx(se,{label:"Office Phone",type:"text",value:r.officePhone,onChange:b=>p("officePhone",b),placeholder:"(555) 987-6543",error:n.officePhone,required:!0,disabled:o})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(IS,{className:"section-icon"}),"Project Details"]}),v.jsx(se,{label:"Project Number",type:"text",value:r.projectNumber,onChange:b=>p("projectNumber",b),placeholder:"PRJ-2024-001",error:n.projectNumber,required:!0,disabled:o}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Contract Date",type:"date",value:r.projectContractDate,onChange:b=>p("projectContractDate",b),error:n.projectContractDate,required:!0,disabled:o}),v.jsx(se,{label:"Final Date",type:"date",value:r.projectFinalDate,onChange:b=>p("projectFinalDate",b),error:n.projectFinalDate,required:!0,disabled:o})]}),v.jsx(se,{label:"Project Deadline",type:"text",value:r.projectDeadline,onChange:b=>p("projectDeadline",b),placeholder:"e.g., 90 days, 6 months, December 2024",error:n.projectDeadline,disabled:o})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx(en,{type:"submit",variant:"primary",disabled:o,children:o?"Saving Client...":"Save Client"}),v.jsx(en,{type:"button",variant:"secondary",onClick:A,disabled:o,children:"Cancel"})]})]})]})]})},IO=()=>{const[r,e]=z.useState({name:"",address:"",itinNumber:"",driverLicenseNumber:"",phone:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:""}),[n,a]=z.useState({}),[o,c]=z.useState(!1),[d,m]=z.useState(""),p=(C,R)=>{e(O=>({...O,[C]:R})),n[C]&&a(O=>({...O,[C]:""})),d&&m("")},g=C=>{const R=C.target.files?.[0];R&&e(O=>({...O,driverLicenseDocument:R})),n.driverLicenseDocument&&a(O=>({...O,driverLicenseDocument:""}))},T=()=>{const C={};return r.name.trim()||(C.name="Name is required"),r.address.trim()||(C.address="Address is required"),r.itinNumber.trim()||(C.itinNumber="ITIN Number is required"),r.driverLicenseNumber.trim()||(C.driverLicenseNumber="Driver License Number is required"),r.phone.trim()||(C.phone="Phone is required"),r.emergencyContactName.trim()||(C.emergencyContactName="Emergency Contact Name is required"),r.emergencyContactPhone.trim()||(C.emergencyContactPhone="Emergency Contact Phone is required"),r.emergencyContactRelationship.trim()||(C.emergencyContactRelationship="Relationship is required"),a(C),Object.keys(C).length===0},A=async C=>{if(C.preventDefault(),!!T()){c(!0),m(""),a({});try{console.log("Employee data to save:",r),await new Promise(R=>setTimeout(R,1e3)),m("Employee registered successfully!"),e({name:"",address:"",itinNumber:"",driverLicenseNumber:"",phone:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:""}),a({}),setTimeout(()=>{m("")},3e3)}catch(R){a({submit:"Failed to register employee: "+(R instanceof Error?R.message:String(R))})}finally{c(!1)}}},b=()=>{e({name:"",address:"",itinNumber:"",driverLicenseNumber:"",phone:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:""}),a({}),m("")};return v.jsxs("div",{className:"form-page-content",children:[v.jsxs("div",{className:"content-header",children:[v.jsx("h1",{className:"page-title",children:"Register Employee"}),v.jsx("p",{className:"page-subtitle",children:"Create a new employee profile with personal details and emergency contact information"})]}),v.jsxs("div",{className:`form-container ${o?"form-loading":""}`,children:[d&&v.jsx("div",{className:"status-message success-message",children:d}),n.submit&&v.jsx("div",{className:"status-message error-message",children:n.submit}),v.jsxs("form",{onSubmit:A,className:"modern-form",children:[v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(gd,{className:"section-icon"}),"Personal Information"]}),v.jsx(se,{label:"Full Name",type:"text",value:r.name,onChange:C=>p("name",C),placeholder:"Enter employee's full name",error:n.name,required:!0,disabled:o}),v.jsx(se,{label:"Address",type:"text",value:r.address,onChange:C=>p("address",C),placeholder:"Enter complete address",error:n.address,required:!0,disabled:o}),v.jsx(se,{label:"Phone",type:"text",value:r.phone,onChange:C=>p("phone",C),placeholder:"(555) 123-4567",error:n.phone,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(zh,{className:"section-icon"}),"Documentation"]}),v.jsx(se,{label:"ITIN Number",type:"text",value:r.itinNumber,onChange:C=>p("itinNumber",C),placeholder:"XXX-XX-XXXX",error:n.itinNumber,required:!0,disabled:o}),v.jsx(se,{label:"Driver License Number",type:"text",value:r.driverLicenseNumber,onChange:C=>p("driverLicenseNumber",C),placeholder:"Enter driver license number",error:n.driverLicenseNumber,required:!0,disabled:o}),v.jsxs("div",{className:"file-upload-container",children:[v.jsxs("label",{className:"file-upload-label",children:["Driver License Document (PDF)",v.jsx("input",{type:"file",accept:".pdf",onChange:g,className:"file-upload-input",disabled:o})]}),r.driverLicenseDocument&&v.jsx("span",{className:"file-upload-name",children:r.driverLicenseDocument.name}),n.driverLicenseDocument&&v.jsx("span",{className:"error-message",children:n.driverLicenseDocument})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(vO,{className:"section-icon"}),"Emergency Contact"]}),v.jsx(se,{label:"Emergency Contact Name",type:"text",value:r.emergencyContactName,onChange:C=>p("emergencyContactName",C),placeholder:"Enter emergency contact's full name",error:n.emergencyContactName,required:!0,disabled:o}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Emergency Contact Phone",type:"text",value:r.emergencyContactPhone,onChange:C=>p("emergencyContactPhone",C),placeholder:"(555) 987-6543",error:n.emergencyContactPhone,required:!0,disabled:o}),v.jsx(se,{label:"Relationship",type:"text",value:r.emergencyContactRelationship,onChange:C=>p("emergencyContactRelationship",C),placeholder:"e.g., Spouse, Parent, Sibling",error:n.emergencyContactRelationship,required:!0,disabled:o})]})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx(en,{type:"submit",variant:"primary",disabled:o,children:o?"Saving Employee...":"Save Employee"}),v.jsx(en,{type:"button",variant:"secondary",onClick:b,disabled:o,children:"Cancel"})]})]})]})]})},DO={async createSubcontractor(r){const e=new Date,a={...Object.fromEntries(Object.entries(r).filter(([d,m])=>m!==void 0)),createdAt:e,updatedAt:e},o=Ge(ye,"subcontractors");return{id:(await Po(o,a)).id,...r,createdAt:e,updatedAt:e}},async getAllSubcontractors(){const r=Ge(ye,"subcontractors"),e=ot(r,lt("createdAt","desc"));return(await ct(e)).docs.map(o=>{const c=o.data();return{id:o.id,...c,createdAt:c.createdAt?.toDate()||new Date,updatedAt:c.updatedAt?.toDate()||new Date}})},async getSubcontractorById(r){const e=dt(ye,"subcontractors",r),n=await sa(e);if(!n.exists())return null;const a=n.data();return{id:n.id,...a,createdAt:a.createdAt?.toDate()||new Date,updatedAt:a.updatedAt?.toDate()||new Date}},async updateSubcontractor(r,e){const n=dt(ye,"subcontractors",r),o={...e,updatedAt:new Date};await xo(n,o)},async deleteSubcontractor(r){const e=dt(ye,"subcontractors",r);await Oo(e)},async getSubcontractorsByState(r){const e=Ge(ye,"subcontractors"),n=ot(e,Ht("state","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})},async getSubcontractorsByCity(r){const e=Ge(ye,"subcontractors");return(await ct(ot(e,Ht("city","==",r),lt("createdAt","desc")))).docs.map(o=>{const c=o.data();return{id:o.id,...c,createdAt:c.createdAt?.toDate()||new Date,updatedAt:c.updatedAt?.toDate()||new Date}})},async getSubcontractorsByAvailability(r){const e=Ge(ye,"subcontractors"),n=ot(e,Ht("availability","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})},async getSubcontractorsByService(r){const e=Ge(ye,"subcontractors"),n=ot(e,Ht("services","array-contains",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})}},xO=()=>{const[r,e]=z.useState({companyName:"",contactPerson:"",email:"",phone:"",state:"",city:"",address:"",services:[],licenseNumber:"",insuranceExpiry:"",certifications:[],hourlyRate:void 0,availability:"available",notes:""}),[n,a]=z.useState({}),[o,c]=z.useState(!1),[d,m]=z.useState(""),p=[{value:"excavation",label:"Excavation"},{value:"trenching",label:"Trenching"},{value:"underground_utilities",label:"Underground Utilities"},{value:"concrete_work",label:"Concrete Work"},{value:"asphalt_paving",label:"Asphalt Paving"},{value:"landscaping",label:"Landscaping"},{value:"drainage",label:"Drainage Systems"},{value:"electrical",label:"Electrical Work"},{value:"plumbing",label:"Plumbing"},{value:"surveying",label:"Surveying"},{value:"equipment_rental",label:"Equipment Rental"},{value:"traffic_control",label:"Traffic Control"}],g=[{value:"osha_10",label:"OSHA 10-Hour"},{value:"osha_30",label:"OSHA 30-Hour"},{value:"confined_space",label:"Confined Space Entry"},{value:"hazmat",label:"HAZMAT Certification"},{value:"crane_operator",label:"Crane Operator"},{value:"welding",label:"Welding Certification"},{value:"electrical",label:"Electrical License"},{value:"plumbing",label:"Plumbing License"},{value:"general_contractor",label:"General Contractor License"}],T=(R,O)=>{e(K=>({...K,[R]:O})),n[R]&&a(K=>({...K,[R]:""})),d&&m("")},A=()=>{const R={};return r.companyName.trim()||(R.companyName="Company name is required"),r.contactPerson.trim()||(R.contactPerson="Contact person is required"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(R.email="Please enter a valid email"):R.email="Email is required",r.phone.trim()||(R.phone="Phone number is required"),r.state.trim()||(R.state="State is required"),r.city.trim()||(R.city="City is required"),r.address.trim()||(R.address="Address is required"),r.services.length===0&&(R.services="Please select at least one service"),r.hourlyRate!==void 0&&r.hourlyRate<0&&(R.hourlyRate="Hourly rate cannot be negative"),(!r.insuranceExpiry||!r.insuranceExpiry.trim())&&(R.insuranceExpiry="Insurance expiry date is required"),a(R),Object.keys(R).length===0},b=async R=>{if(R.preventDefault(),!!A()){c(!0),m(""),a({});try{await DO.createSubcontractor(r),m("Subcontractor registered successfully!"),e({companyName:"",contactPerson:"",email:"",phone:"",state:"",city:"",address:"",services:[],licenseNumber:"",insuranceExpiry:"",certifications:[],hourlyRate:void 0,availability:"available",notes:""}),a({}),setTimeout(()=>{m("")},6e3)}catch(O){a({submit:"Failed to register subcontractor: "+(O instanceof Error?O.message:String(O))})}finally{c(!1)}}},C=()=>{e({companyName:"",contactPerson:"",email:"",phone:"",state:"",city:"",address:"",services:[],licenseNumber:"",insuranceExpiry:"",certifications:[],hourlyRate:void 0,availability:"available",notes:""}),a({}),m("")};return v.jsxs("div",{className:"form-page-content",children:[v.jsxs("div",{className:"content-header",children:[v.jsx("h1",{className:"page-title",children:"Register Subcontractor"}),v.jsx("p",{className:"page-subtitle",children:"Add a new subcontractor to the system with their services, certifications, and contact information"})]}),v.jsxs("div",{className:`form-container ${o?"form-loading":""}`,children:[d&&v.jsx("div",{className:"status-message success-message",children:d}),n.submit&&v.jsx("div",{className:"status-message error-message",children:n.submit}),v.jsxs("form",{onSubmit:b,className:"modern-form",children:[v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(bO,{className:"section-icon"}),"Company Information"]}),v.jsx(se,{label:"Company Name",type:"text",value:r.companyName,onChange:R=>T("companyName",R),placeholder:"Enter the company name",error:n.companyName,required:!0,disabled:o}),v.jsx(se,{label:"Contact Person",type:"text",value:r.contactPerson,onChange:R=>T("contactPerson",R),placeholder:"Enter the main contact person",error:n.contactPerson,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(CS,{className:"section-icon"}),"Contact Information"]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Email",type:"email",value:r.email,onChange:R=>T("email",R),placeholder:"company@example.com",error:n.email,required:!0,disabled:o}),v.jsx(se,{label:"Phone",type:"text",value:r.phone,onChange:R=>T("phone",R),placeholder:"(555) 123-4567",error:n.phone,required:!0,disabled:o})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(md,{className:"section-icon"}),"Location Details"]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"State",type:"text",value:r.state,onChange:R=>T("state",R),placeholder:"e.g., California",error:n.state,required:!0,disabled:o}),v.jsx(se,{label:"City",type:"text",value:r.city,onChange:R=>T("city",R),placeholder:"e.g., Los Angeles",error:n.city,required:!0,disabled:o})]}),v.jsx(se,{label:"Address",type:"text",value:r.address,onChange:R=>T("address",R),placeholder:"Enter the complete address",error:n.address,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(IS,{className:"section-icon"}),"Services & Capabilities"]}),v.jsx(is,{label:"Services Offered",options:p,value:r.services,onChange:R=>T("services",R),placeholder:"Select the services this subcontractor offers...",error:n.services,required:!0,disabled:o}),v.jsx(is,{label:"Certifications",options:g,value:r.certifications||[],onChange:R=>T("certifications",R),placeholder:"Select relevant certifications...",disabled:o})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(pd,{className:"section-icon"}),"Business Information"]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"License Number",type:"text",value:r.licenseNumber||"",onChange:R=>T("licenseNumber",R),placeholder:"Enter license number if applicable",disabled:o}),v.jsx(se,{label:"Insurance Expiry Date",type:"date",value:r.insuranceExpiry||"",onChange:R=>T("insuranceExpiry",R),error:n.insuranceExpiry,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Hourly Rate",type:"text",value:r.hourlyRate?.toString()||"",onChange:R=>T("hourlyRate",R?parseFloat(R):0),placeholder:"Enter hourly rate (optional)",error:n.hourlyRate,disabled:o}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{className:"form-label",children:["Availability ",v.jsx("span",{className:"required",children:"*"})]}),v.jsxs("select",{value:r.availability,onChange:R=>T("availability",R.target.value),className:"role-select",disabled:o,children:[v.jsx("option",{value:"available",children:"Available"}),v.jsx("option",{value:"busy",children:"Busy"}),v.jsx("option",{value:"unavailable",children:"Unavailable"})]})]})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(bo,{className:"section-icon"}),"Additional Information"]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Notes"}),v.jsx("textarea",{value:r.notes||"",onChange:R=>T("notes",R.target.value),placeholder:"Enter any additional notes or special requirements...",className:"form-textarea",style:{backgroundColor:"#ffffff",color:"#000000"},rows:4,disabled:o})]})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx(en,{type:"submit",variant:"primary",disabled:o,children:o?"Saving Subcontractor...":"Save Subcontractor"}),v.jsx(en,{type:"button",variant:"secondary",onClick:C,disabled:o,children:"Cancel"})]})]})]})]})},OO={async createContractService(r){const e=new Date,a={...Object.fromEntries(Object.entries(r).filter(([d,m])=>m!==void 0)),createdAt:e,updatedAt:e},o=Ge(ye,"contractServices");return{id:(await Po(o,a)).id,...r,createdAt:e,updatedAt:e}},async getAllContractServices(){const r=Ge(ye,"contractServices"),e=ot(r,lt("createdAt","desc"));return(await ct(e)).docs.map(o=>{const c=o.data();return{id:o.id,...c,createdAt:c.createdAt?.toDate()||new Date,updatedAt:c.updatedAt?.toDate()||new Date}})},async getContractServiceById(r){const e=dt(ye,"contractServices",r),n=await sa(e);if(!n.exists())return null;const a=n.data();return{id:n.id,...a,createdAt:a.createdAt?.toDate()||new Date,updatedAt:a.updatedAt?.toDate()||new Date}},async updateContractService(r,e){const n=dt(ye,"contractServices",r),o={...e,updatedAt:new Date};await xo(n,o)},async deleteContractService(r){const e=dt(ye,"contractServices",r);await Oo(e)},async getContractServicesByClient(r){const e=Ge(ye,"contractServices"),n=ot(e,Ht("clientId","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})},async getContractServicesBySubcontractor(r){const e=Ge(ye,"contractServices"),n=ot(e,Ht("subcontractorId","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})},async getContractServicesByStatus(r){const e=Ge(ye,"contractServices"),n=ot(e,Ht("status","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})},async getContractServicesByType(r){const e=Ge(ye,"contractServices"),n=ot(e,Ht("serviceType","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})}},PO=()=>{const[r,e]=z.useState({serviceName:"",clientId:"",clientName:"",subcontractorId:"",subcontractorName:"",projectNumber:"",contractNumber:"",startDate:"",endDate:"",estimatedDuration:"",status:"pending",serviceType:"",description:"",location:{address:"",city:"",state:"",zipCode:""},budget:{estimatedCost:0,actualCost:0,currency:"USD"},requirements:[],deliverables:[],notes:""}),[n,a]=z.useState({}),[o,c]=z.useState(!1),[d,m]=z.useState(""),p=[{value:"excavation",label:"Excavation"},{value:"trenching",label:"Trenching"},{value:"underground_utilities",label:"Underground Utilities"},{value:"concrete_work",label:"Concrete Work"},{value:"asphalt_paving",label:"Asphalt Paving"},{value:"landscaping",label:"Landscaping"},{value:"drainage",label:"Drainage Systems"},{value:"electrical",label:"Electrical Work"},{value:"plumbing",label:"Plumbing"},{value:"surveying",label:"Surveying"},{value:"equipment_rental",label:"Equipment Rental"},{value:"traffic_control",label:"Traffic Control"}],g=[{value:"permits",label:"Permits Required"},{value:"safety_equipment",label:"Safety Equipment"},{value:"environmental_clearance",label:"Environmental Clearance"},{value:"traffic_control",label:"Traffic Control Plan"},{value:"utility_marking",label:"Utility Marking"},{value:"soil_testing",label:"Soil Testing"},{value:"surveying",label:"Surveying Required"},{value:"inspections",label:"Regular Inspections"},{value:"insurance",label:"Insurance Coverage"},{value:"bonding",label:"Performance Bond"}],T=[{value:"excavation_complete",label:"Excavation Complete"},{value:"utilities_installed",label:"Utilities Installed"},{value:"backfill_complete",label:"Backfill Complete"},{value:"paving_complete",label:"Paving Complete"},{value:"landscaping_complete",label:"Landscaping Complete"},{value:"final_inspection",label:"Final Inspection"},{value:"as_built_drawings",label:"As-Built Drawings"},{value:"warranty_documentation",label:"Warranty Documentation"},{value:"cleanup_complete",label:"Site Cleanup Complete"},{value:"final_report",label:"Final Project Report"}],A=(V,ae)=>{e(ne=>({...ne,[V]:ae})),n[V]&&a(ne=>({...ne,[V]:""})),d&&m("")},b=(V,ae)=>{e(ne=>({...ne,location:{...ne.location,[V]:ae}})),n[V]&&a(ne=>({...ne,[V]:""}))},C=(V,ae)=>{e(ne=>({...ne,budget:{...ne.budget,[V]:ae}})),n[V]&&a(ne=>({...ne,[V]:""}))},R=()=>{const V={};return r.serviceName.trim()||(V.serviceName="Service name is required"),r.clientId.trim()||(V.clientId="Client ID is required"),r.clientName.trim()||(V.clientName="Client name is required"),r.projectNumber.trim()||(V.projectNumber="Project number is required"),r.contractNumber.trim()||(V.contractNumber="Contract number is required"),r.startDate||(V.startDate="Start date is required"),r.endDate||(V.endDate="End date is required"),r.startDate&&r.endDate&&new Date(r.endDate)<new Date(r.startDate)&&(V.endDate="End date cannot be before start date"),r.estimatedDuration.trim()||(V.estimatedDuration="Estimated duration is required"),r.serviceType.trim()||(V.serviceType="Service type is required"),r.description.trim()||(V.description="Description is required"),r.location.address.trim()||(V.address="Address is required"),r.location.city.trim()||(V.city="City is required"),r.location.state.trim()||(V.state="State is required"),r.budget.estimatedCost<=0&&(V.estimatedCost="Estimated cost must be greater than 0"),r.budget.currency.trim()||(V.currency="Currency is required"),a(V),Object.keys(V).length===0},O=async V=>{if(V.preventDefault(),!!R()){c(!0),m(""),a({});try{console.log("Contract service data to save:",r);const ae=await OO.createContractService(r);console.log("New contract service:",ae),m("Contract service registered successfully!"),e({serviceName:"",clientId:"",clientName:"",subcontractorId:"",subcontractorName:"",projectNumber:"",contractNumber:"",startDate:"",endDate:"",estimatedDuration:"",status:"pending",serviceType:"",description:"",location:{address:"",city:"",state:"",zipCode:""},budget:{estimatedCost:0,actualCost:0,currency:"USD"},requirements:[],deliverables:[],notes:""}),a({}),setTimeout(()=>{m("")},6e3)}catch(ae){a({submit:"Failed to register contract service: "+(ae instanceof Error?ae.message:String(ae))})}finally{c(!1)}}},K=()=>{e({serviceName:"",clientId:"",clientName:"",subcontractorId:"",subcontractorName:"",projectNumber:"",contractNumber:"",startDate:"",endDate:"",estimatedDuration:"",status:"pending",serviceType:"",description:"",location:{address:"",city:"",state:"",zipCode:""},budget:{estimatedCost:0,actualCost:0,currency:"USD"},requirements:[],deliverables:[],notes:""}),a({}),m("")};return v.jsxs("div",{className:"form-page-content",children:[v.jsxs("div",{className:"content-header",children:[v.jsx("h1",{className:"page-title",children:"Register Contract Service"}),v.jsx("p",{className:"page-subtitle",children:"Create a new contract service with project details, budget, and requirements"})]}),v.jsxs("div",{className:`form-container ${o?"form-loading":""}`,children:[d&&v.jsx("div",{className:"status-message success-message",children:d}),n.submit&&v.jsx("div",{className:"status-message error-message",children:n.submit}),v.jsxs("form",{onSubmit:O,className:"modern-form",children:[v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(zh,{className:"section-icon"}),"Service Information"]}),v.jsx(se,{label:"Service Name",type:"text",value:r.serviceName,onChange:V=>A("serviceName",V),placeholder:"Enter the service name",error:n.serviceName,required:!0,disabled:o}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Client ID",type:"text",value:r.clientId,onChange:V=>A("clientId",V),placeholder:"Enter client ID",error:n.clientId,required:!0,disabled:o}),v.jsx(se,{label:"Client Name",type:"text",value:r.clientName,onChange:V=>A("clientName",V),placeholder:"Enter client name",error:n.clientName,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Project Number",type:"text",value:r.projectNumber,onChange:V=>A("projectNumber",V),placeholder:"PRJ-2024-001",error:n.projectNumber,required:!0,disabled:o}),v.jsx(se,{label:"Contract Number",type:"text",value:r.contractNumber,onChange:V=>A("contractNumber",V),placeholder:"CNT-2024-001",error:n.contractNumber,required:!0,disabled:o})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(Tg,{className:"section-icon"}),"Project Timeline"]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Start Date",type:"date",value:r.startDate,onChange:V=>A("startDate",V),error:n.startDate,required:!0,disabled:o}),v.jsx(se,{label:"End Date",type:"date",value:r.endDate,onChange:V=>A("endDate",V),error:n.endDate,required:!0,disabled:o})]}),v.jsx(se,{label:"Estimated Duration",type:"text",value:r.estimatedDuration,onChange:V=>A("estimatedDuration",V),placeholder:"e.g., 30 days, 3 months, 6 weeks",error:n.estimatedDuration,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(I0,{className:"section-icon"}),"Service Details"]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{className:"form-label",children:["Service Type ",v.jsx("span",{className:"required",children:"*"})]}),v.jsxs("select",{value:r.serviceType,onChange:V=>A("serviceType",V.target.value),className:"role-select",disabled:o,children:[v.jsx("option",{value:"",children:"Select service type"}),p.map(V=>v.jsx("option",{value:V.value,children:V.label},V.value))]}),n.serviceType&&v.jsx("small",{className:"form-error",children:n.serviceType})]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{className:"form-label",children:["Description ",v.jsx("span",{className:"required",children:"*"})]}),v.jsx("textarea",{value:r.description,onChange:V=>A("description",V.target.value),placeholder:"Enter detailed service description...",className:"form-textarea",style:{backgroundColor:"#ffffff",color:"#000000"},rows:4,disabled:o}),n.description&&v.jsx("small",{className:"form-error",children:n.description})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(md,{className:"section-icon"}),"Location Information"]}),v.jsx(se,{label:"Address",type:"text",value:r.location.address,onChange:V=>b("address",V),placeholder:"Enter the complete address",error:n.address,required:!0,disabled:o}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"City",type:"text",value:r.location.city,onChange:V=>b("city",V),placeholder:"e.g., Los Angeles",error:n.city,required:!0,disabled:o}),v.jsx(se,{label:"State",type:"text",value:r.location.state,onChange:V=>b("state",V),placeholder:"e.g., California",error:n.state,required:!0,disabled:o})]}),v.jsx(se,{label:"ZIP Code",type:"text",value:r.location.zipCode||"",onChange:V=>b("zipCode",V),placeholder:"e.g., 90210",disabled:o})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(bo,{className:"section-icon"}),"Budget Information"]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Estimated Cost",type:"text",value:r.budget.estimatedCost.toString(),onChange:V=>C("estimatedCost",V?parseFloat(V):0),placeholder:"Enter estimated cost",error:n.estimatedCost,required:!0,disabled:o}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{className:"form-label",children:["Currency ",v.jsx("span",{className:"required",children:"*"})]}),v.jsxs("select",{value:r.budget.currency,onChange:V=>C("currency",V.target.value),className:"role-select",disabled:o,children:[v.jsx("option",{value:"USD",children:"USD - US Dollar"}),v.jsx("option",{value:"EUR",children:"EUR - Euro"}),v.jsx("option",{value:"BRL",children:"BRL - Brazilian Real"}),v.jsx("option",{value:"CAD",children:"CAD - Canadian Dollar"})]}),n.currency&&v.jsx("small",{className:"form-error",children:n.currency})]})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(I0,{className:"section-icon"}),"Requirements & Deliverables"]}),v.jsx(is,{label:"Requirements",options:g,value:r.requirements,onChange:V=>A("requirements",V),placeholder:"Select project requirements...",disabled:o}),v.jsx(is,{label:"Deliverables",options:T,value:r.deliverables,onChange:V=>A("deliverables",V),placeholder:"Select expected deliverables...",disabled:o})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(zh,{className:"section-icon"}),"Additional Information"]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Notes"}),v.jsx("textarea",{value:r.notes||"",onChange:V=>A("notes",V.target.value),placeholder:"Enter any additional notes or special requirements...",className:"form-textarea",style:{backgroundColor:"#ffffff",color:"#000000"},rows:4,disabled:o})]})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx(en,{type:"submit",variant:"primary",disabled:o,children:o?"Saving Contract Service...":"Save Contract Service"}),v.jsx(en,{type:"button",variant:"secondary",onClick:K,disabled:o,children:"Cancel"})]})]})]})]})},MO={async createFinancing(r){const e=new Date,a={...Object.fromEntries(Object.entries(r).filter(([d,m])=>m!==void 0)),createdAt:e,updatedAt:e},o=Ge(ye,"financings");return{id:(await Po(o,a)).id,...r,createdAt:e,updatedAt:e}},async getAllFinancings(){const r=Ge(ye,"financings"),e=ot(r,lt("createdAt","desc"));return(await ct(e)).docs.map(o=>{const c=o.data();return{id:o.id,...c,createdAt:c.createdAt?.toDate()||new Date,updatedAt:c.updatedAt?.toDate()||new Date}})},async getFinancingById(r){const e=dt(ye,"financings",r),n=await sa(e);if(!n.exists())return null;const a=n.data();return{id:n.id,...a,createdAt:a.createdAt?.toDate()||new Date,updatedAt:a.updatedAt?.toDate()||new Date}},async updateFinancing(r,e){const n=dt(ye,"financings",r),o={...e,updatedAt:new Date};await xo(n,o)},async deleteFinancing(r){const e=dt(ye,"financings",r);await Oo(e)},async getFinancingsByProject(r){const e=Ge(ye,"financings"),n=ot(e,Ht("projectId","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})},async getFinancingsByClient(r){const e=Ge(ye,"financings"),n=ot(e,Ht("clientId","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})},async getFinancingsByStatus(r){const e=Ge(ye,"financings"),n=ot(e,Ht("status","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})},async getFinancingsByType(r){const e=Ge(ye,"financings"),n=ot(e,Ht("financingType","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})}},VO=()=>{const[r,e]=z.useState({projectId:"",projectName:"",clientId:"",clientName:"",financingType:"loan",lenderName:"",lenderContact:"",lenderPhone:"",lenderEmail:"",loanAmount:0,interestRate:0,termMonths:0,monthlyPayment:0,startDate:"",maturityDate:"",status:"pending",collateral:[],requirements:[],notes:""}),[n,a]=z.useState({}),[o,c]=z.useState(!1),[d,m]=z.useState(""),p=[{value:"loan",label:"Business Loan"},{value:"credit_line",label:"Credit Line"},{value:"equipment_financing",label:"Equipment Financing"},{value:"working_capital",label:"Working Capital"},{value:"construction_loan",label:"Construction Loan"}],g=[{value:"real_estate",label:"Real Estate"},{value:"equipment",label:"Equipment"},{value:"vehicles",label:"Vehicles"},{value:"accounts_receivable",label:"Accounts Receivable"},{value:"inventory",label:"Inventory"},{value:"personal_guarantee",label:"Personal Guarantee"},{value:"cash_collateral",label:"Cash Collateral"},{value:"securities",label:"Securities"}],T=[{value:"financial_statements",label:"Financial Statements"},{value:"tax_returns",label:"Tax Returns"},{value:"business_plan",label:"Business Plan"},{value:"credit_report",label:"Credit Report"},{value:"insurance",label:"Insurance Documentation"},{value:"legal_documents",label:"Legal Documents"},{value:"appraisal",label:"Property/Equipment Appraisal"},{value:"environmental_assessment",label:"Environmental Assessment"}],A=(O,K)=>{e(V=>({...V,[O]:K})),n[O]&&a(V=>({...V,[O]:""})),d&&m("")},b=()=>{const O={};return r.projectId.trim()||(O.projectId="Project ID is required"),r.projectName.trim()||(O.projectName="Project name is required"),r.clientId.trim()||(O.clientId="Client ID is required"),r.clientName.trim()||(O.clientName="Client name is required"),r.lenderName.trim()||(O.lenderName="Lender name is required"),r.lenderContact.trim()||(O.lenderContact="Lender contact is required"),r.lenderPhone.trim()||(O.lenderPhone="Lender phone is required"),r.lenderEmail.trim()?/\S+@\S+\.\S+/.test(r.lenderEmail)||(O.lenderEmail="Please enter a valid email"):O.lenderEmail="Lender email is required",r.loanAmount<=0&&(O.loanAmount="Loan amount must be greater than 0"),r.interestRate<0&&(O.interestRate="Interest rate cannot be negative"),r.termMonths<=0&&(O.termMonths="Term must be greater than 0"),r.monthlyPayment<=0&&(O.monthlyPayment="Monthly payment must be greater than 0"),r.startDate||(O.startDate="Start date is required"),r.maturityDate||(O.maturityDate="Maturity date is required"),r.startDate&&r.maturityDate&&new Date(r.maturityDate)<=new Date(r.startDate)&&(O.maturityDate="Maturity date must be after start date"),a(O),Object.keys(O).length===0},C=async O=>{if(O.preventDefault(),!!b()){c(!0),m(""),a({});try{await MO.createFinancing(r),m("Financing registered successfully!"),e({projectId:"",projectName:"",clientId:"",clientName:"",financingType:"loan",lenderName:"",lenderContact:"",lenderPhone:"",lenderEmail:"",loanAmount:0,interestRate:0,termMonths:0,monthlyPayment:0,startDate:"",maturityDate:"",status:"pending",collateral:[],requirements:[],notes:""}),a({}),setTimeout(()=>{m("")},6e3)}catch(K){a({submit:"Failed to register financing: "+(K instanceof Error?K.message:String(K))})}finally{c(!1)}}},R=()=>{e({projectId:"",projectName:"",clientId:"",clientName:"",financingType:"loan",lenderName:"",lenderContact:"",lenderPhone:"",lenderEmail:"",loanAmount:0,interestRate:0,termMonths:0,monthlyPayment:0,startDate:"",maturityDate:"",status:"pending",collateral:[],requirements:[],notes:""}),a({}),m("")};return v.jsxs("div",{className:"form-page-content",children:[v.jsxs("div",{className:"content-header",children:[v.jsx("h1",{className:"page-title",children:"Register Financing"}),v.jsx("p",{className:"page-subtitle",children:"Create a new financing record with loan details, terms, and requirements"})]}),v.jsxs("div",{className:`form-container ${o?"form-loading":""}`,children:[d&&v.jsx("div",{className:"status-message success-message",children:d}),n.submit&&v.jsx("div",{className:"status-message error-message",children:n.submit}),v.jsxs("form",{onSubmit:C,className:"modern-form",children:[v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(zh,{className:"section-icon"}),"Project Information"]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Project ID",type:"text",value:r.projectId,onChange:O=>A("projectId",O),placeholder:"PRJ-2024-001",error:n.projectId,required:!0,disabled:o}),v.jsx(se,{label:"Project Name",type:"text",value:r.projectName,onChange:O=>A("projectName",O),placeholder:"Enter project name",error:n.projectName,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Client ID",type:"text",value:r.clientId,onChange:O=>A("clientId",O),placeholder:"CLI-2024-001",error:n.clientId,required:!0,disabled:o}),v.jsx(se,{label:"Client Name",type:"text",value:r.clientName,onChange:O=>A("clientName",O),placeholder:"Enter client name",error:n.clientName,required:!0,disabled:o})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(TO,{className:"section-icon"}),"Financing Details"]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{className:"form-label",children:["Financing Type ",v.jsx("span",{className:"required",children:"*"})]}),v.jsx("select",{value:r.financingType,onChange:O=>A("financingType",O.target.value),className:"role-select",disabled:o,children:p.map(O=>v.jsx("option",{value:O.value,children:O.label},O.value))})]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Loan Amount",type:"text",value:r.loanAmount.toString(),onChange:O=>A("loanAmount",O?parseFloat(O):0),placeholder:"Enter loan amount",error:n.loanAmount,required:!0,disabled:o}),v.jsx(se,{label:"Interest Rate (%)",type:"text",value:r.interestRate.toString(),onChange:O=>A("interestRate",O?parseFloat(O):0),placeholder:"Enter interest rate",error:n.interestRate,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Term (Months)",type:"text",value:r.termMonths.toString(),onChange:O=>A("termMonths",O?parseInt(O):0),placeholder:"Enter term in months",error:n.termMonths,required:!0,disabled:o}),v.jsx(se,{label:"Monthly Payment",type:"text",value:r.monthlyPayment.toString(),onChange:O=>A("monthlyPayment",O?parseFloat(O):0),placeholder:"Enter monthly payment",error:n.monthlyPayment,required:!0,disabled:o})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(gd,{className:"section-icon"}),"Lender Information"]}),v.jsx(se,{label:"Lender Name",type:"text",value:r.lenderName,onChange:O=>A("lenderName",O),placeholder:"Enter lender name",error:n.lenderName,required:!0,disabled:o}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Lender Contact",type:"text",value:r.lenderContact,onChange:O=>A("lenderContact",O),placeholder:"Enter contact person",error:n.lenderContact,required:!0,disabled:o}),v.jsx(se,{label:"Lender Phone",type:"text",value:r.lenderPhone,onChange:O=>A("lenderPhone",O),placeholder:"(555) 123-4567",error:n.lenderPhone,required:!0,disabled:o})]}),v.jsx(se,{label:"Lender Email",type:"email",value:r.lenderEmail,onChange:O=>A("lenderEmail",O),placeholder:"lender@example.com",error:n.lenderEmail,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(Tg,{className:"section-icon"}),"Timeline"]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Start Date",type:"date",value:r.startDate,onChange:O=>A("startDate",O),error:n.startDate,required:!0,disabled:o}),v.jsx(se,{label:"Maturity Date",type:"date",value:r.maturityDate,onChange:O=>A("maturityDate",O),error:n.maturityDate,required:!0,disabled:o})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(pd,{className:"section-icon"}),"Collateral & Requirements"]}),v.jsx(is,{label:"Collateral",options:g,value:r.collateral,onChange:O=>A("collateral",O),placeholder:"Select collateral types...",disabled:o}),v.jsx(is,{label:"Requirements",options:T,value:r.requirements,onChange:O=>A("requirements",O),placeholder:"Select required documents...",disabled:o})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(bo,{className:"section-icon"}),"Additional Information"]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Notes"}),v.jsx("textarea",{value:r.notes||"",onChange:O=>A("notes",O.target.value),placeholder:"Enter any additional notes or special requirements...",className:"form-textarea",style:{backgroundColor:"#ffffff",color:"#000000"},rows:4,disabled:o})]})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx(en,{type:"submit",variant:"primary",disabled:o,children:o?"Saving Financing...":"Save Financing"}),v.jsx(en,{type:"button",variant:"secondary",onClick:R,disabled:o,children:"Cancel"})]})]})]})]})},jO={async createVehicle(r){const e=new Date,a={...Object.fromEntries(Object.entries(r).filter(([d,m])=>m!==void 0)),createdAt:e,updatedAt:e},o=Ge(ye,"vehicles");return{id:(await Po(o,a)).id,...r,createdAt:e,updatedAt:e}},async getAllVehicles(){const r=Ge(ye,"vehicles"),e=ot(r,lt("createdAt","desc"));return(await ct(e)).docs.map(o=>{const c=o.data();return{id:o.id,...c,createdAt:c.createdAt?.toDate()||new Date,updatedAt:c.updatedAt?.toDate()||new Date}})},async getVehicleById(r){const e=dt(ye,"vehicles",r),n=await sa(e);if(!n.exists())return null;const a=n.data();return{id:n.id,...a,createdAt:a.createdAt?.toDate()||new Date,updatedAt:a.updatedAt?.toDate()||new Date}},async updateVehicle(r,e){const n=dt(ye,"vehicles",r),o={...e,updatedAt:new Date};await xo(n,o)},async deleteVehicle(r){const e=dt(ye,"vehicles",r);await Oo(e)},async getVehiclesByType(r){const e=Ge(ye,"vehicles"),n=ot(e,Ht("vehicleType","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})},async getVehiclesByStatus(r){const e=Ge(ye,"vehicles"),n=ot(e,Ht("status","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})},async getVehiclesByLocation(r){const e=Ge(ye,"vehicles"),n=ot(e,Ht("location","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})},async getVehiclesByMake(r){const e=Ge(ye,"vehicles"),n=ot(e,Ht("make","==",r),lt("createdAt","desc"));return(await ct(n)).docs.map(c=>{const d=c.data();return{id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date}})}},kO=()=>{const[r,e]=z.useState({vehicleType:"truck",make:"",model:"",year:new Date().getFullYear(),vin:"",licensePlate:"",color:"",fuelType:"diesel",engineSize:"",transmission:"manual",mileage:0,purchaseDate:"",purchasePrice:0,currentValue:0,insuranceProvider:"",insurancePolicyNumber:"",insuranceExpiry:"",registrationExpiry:"",maintenanceSchedule:"monthly",lastMaintenanceDate:"",nextMaintenanceDate:"",status:"active",assignedTo:"",location:"",notes:""}),[n,a]=z.useState({}),[o,c]=z.useState(!1),[d,m]=z.useState(""),p=(b,C)=>{e(R=>({...R,[b]:C})),n[b]&&a(R=>({...R,[b]:""})),d&&m("")},g=()=>{const b={};return r.make.trim()||(b.make="Make is required"),r.model.trim()||(b.model="Model is required"),(r.year<1900||r.year>new Date().getFullYear()+1)&&(b.year="Please enter a valid year"),r.vin.trim()||(b.vin="VIN is required"),r.licensePlate.trim()||(b.licensePlate="License plate is required"),r.color.trim()||(b.color="Color is required"),r.engineSize.trim()||(b.engineSize="Engine size is required"),r.mileage<0&&(b.mileage="Mileage cannot be negative"),r.purchaseDate||(b.purchaseDate="Purchase date is required"),r.purchasePrice<=0&&(b.purchasePrice="Purchase price must be greater than 0"),r.currentValue<0&&(b.currentValue="Current value cannot be negative"),r.insuranceProvider.trim()||(b.insuranceProvider="Insurance provider is required"),r.insurancePolicyNumber.trim()||(b.insurancePolicyNumber="Insurance policy number is required"),r.insuranceExpiry||(b.insuranceExpiry="Insurance expiry date is required"),r.registrationExpiry||(b.registrationExpiry="Registration expiry date is required"),r.location.trim()||(b.location="Location is required"),a(b),Object.keys(b).length===0},T=async b=>{if(b.preventDefault(),!!g()){c(!0),m(""),a({});try{await jO.createVehicle(r),m("Vehicle registered successfully!"),e({vehicleType:"truck",make:"",model:"",year:new Date().getFullYear(),vin:"",licensePlate:"",color:"",fuelType:"diesel",engineSize:"",transmission:"manual",mileage:0,purchaseDate:"",purchasePrice:0,currentValue:0,insuranceProvider:"",insurancePolicyNumber:"",insuranceExpiry:"",registrationExpiry:"",maintenanceSchedule:"monthly",lastMaintenanceDate:"",nextMaintenanceDate:"",status:"active",assignedTo:"",location:"",notes:""}),a({}),setTimeout(()=>{m("")},6e3)}catch(C){a({submit:"Failed to register vehicle: "+(C instanceof Error?C.message:String(C))})}finally{c(!1)}}},A=()=>{e({vehicleType:"truck",make:"",model:"",year:new Date().getFullYear(),vin:"",licensePlate:"",color:"",fuelType:"diesel",engineSize:"",transmission:"manual",mileage:0,purchaseDate:"",purchasePrice:0,currentValue:0,insuranceProvider:"",insurancePolicyNumber:"",insuranceExpiry:"",registrationExpiry:"",maintenanceSchedule:"monthly",lastMaintenanceDate:"",nextMaintenanceDate:"",status:"active",assignedTo:"",location:"",notes:""}),a({}),m("")};return v.jsxs("div",{className:"form-page-content",children:[v.jsxs("div",{className:"content-header",children:[v.jsx("h1",{className:"page-title",children:"Register Vehicle"}),v.jsx("p",{className:"page-subtitle",children:"Add a new vehicle to the fleet with specifications, insurance, and maintenance information"})]}),v.jsxs("div",{className:`form-container ${o?"form-loading":""}`,children:[d&&v.jsx("div",{className:"status-message success-message",children:d}),n.submit&&v.jsx("div",{className:"status-message error-message",children:n.submit}),v.jsxs("form",{onSubmit:T,className:"modern-form",children:[v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(SO,{className:"section-icon"}),"Vehicle Information"]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{className:"form-label",children:["Vehicle Type ",v.jsx("span",{className:"required",children:"*"})]}),v.jsxs("select",{value:r.vehicleType,onChange:b=>p("vehicleType",b.target.value),className:"role-select",disabled:o,children:[v.jsx("option",{value:"truck",children:"Truck"}),v.jsx("option",{value:"excavator",children:"Excavator"}),v.jsx("option",{value:"bulldozer",children:"Bulldozer"}),v.jsx("option",{value:"crane",children:"Crane"}),v.jsx("option",{value:"loader",children:"Loader"}),v.jsx("option",{value:"compactor",children:"Compactor"}),v.jsx("option",{value:"grader",children:"Grader"}),v.jsx("option",{value:"dump_truck",children:"Dump Truck"}),v.jsx("option",{value:"concrete_mixer",children:"Concrete Mixer"}),v.jsx("option",{value:"other",children:"Other"})]})]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Make",type:"text",value:r.make,onChange:b=>p("make",b),placeholder:"e.g., Caterpillar, John Deere",error:n.make,required:!0,disabled:o}),v.jsx(se,{label:"Model",type:"text",value:r.model,onChange:b=>p("model",b),placeholder:"e.g., 320D, 950M",error:n.model,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Year",type:"text",value:r.year.toString(),onChange:b=>p("year",b?parseInt(b):new Date().getFullYear()),placeholder:"2024",error:n.year,required:!0,disabled:o}),v.jsx(se,{label:"Color",type:"text",value:r.color,onChange:b=>p("color",b),placeholder:"e.g., Yellow, White",error:n.color,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"VIN",type:"text",value:r.vin,onChange:b=>p("vin",b),placeholder:"Enter VIN number",error:n.vin,required:!0,disabled:o}),v.jsx(se,{label:"License Plate",type:"text",value:r.licensePlate,onChange:b=>p("licensePlate",b),placeholder:"Enter license plate",error:n.licensePlate,required:!0,disabled:o})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(NS,{className:"section-icon"}),"Technical Specifications"]}),v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{className:"form-label",children:["Fuel Type ",v.jsx("span",{className:"required",children:"*"})]}),v.jsxs("select",{value:r.fuelType,onChange:b=>p("fuelType",b.target.value),className:"role-select",disabled:o,children:[v.jsx("option",{value:"diesel",children:"Diesel"}),v.jsx("option",{value:"gasoline",children:"Gasoline"}),v.jsx("option",{value:"electric",children:"Electric"}),v.jsx("option",{value:"hybrid",children:"Hybrid"}),v.jsx("option",{value:"lpg",children:"LPG"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{className:"form-label",children:["Transmission ",v.jsx("span",{className:"required",children:"*"})]}),v.jsxs("select",{value:r.transmission,onChange:b=>p("transmission",b.target.value),className:"role-select",disabled:o,children:[v.jsx("option",{value:"manual",children:"Manual"}),v.jsx("option",{value:"automatic",children:"Automatic"}),v.jsx("option",{value:"cvt",children:"CVT"})]})]})]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Engine Size",type:"text",value:r.engineSize,onChange:b=>p("engineSize",b),placeholder:"e.g., 6.7L, 4.5L",error:n.engineSize,required:!0,disabled:o}),v.jsx(se,{label:"Mileage",type:"text",value:r.mileage.toString(),onChange:b=>p("mileage",b?parseInt(b):0),placeholder:"Enter current mileage",error:n.mileage,required:!0,disabled:o})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(bo,{className:"section-icon"}),"Purchase Information"]}),v.jsx(se,{label:"Purchase Date",type:"date",value:r.purchaseDate,onChange:b=>p("purchaseDate",b),error:n.purchaseDate,required:!0,disabled:o}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Purchase Price",type:"text",value:r.purchasePrice.toString(),onChange:b=>p("purchasePrice",b?parseFloat(b):0),placeholder:"Enter purchase price",error:n.purchasePrice,required:!0,disabled:o}),v.jsx(se,{label:"Current Value",type:"text",value:r.currentValue.toString(),onChange:b=>p("currentValue",b?parseFloat(b):0),placeholder:"Enter current value",error:n.currentValue,required:!0,disabled:o})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(pd,{className:"section-icon"}),"Insurance Information"]}),v.jsx(se,{label:"Insurance Provider",type:"text",value:r.insuranceProvider,onChange:b=>p("insuranceProvider",b),placeholder:"Enter insurance provider",error:n.insuranceProvider,required:!0,disabled:o}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Policy Number",type:"text",value:r.insurancePolicyNumber,onChange:b=>p("insurancePolicyNumber",b),placeholder:"Enter policy number",error:n.insurancePolicyNumber,required:!0,disabled:o}),v.jsx(se,{label:"Insurance Expiry",type:"date",value:r.insuranceExpiry,onChange:b=>p("insuranceExpiry",b),error:n.insuranceExpiry,required:!0,disabled:o})]}),v.jsx(se,{label:"Registration Expiry",type:"date",value:r.registrationExpiry,onChange:b=>p("registrationExpiry",b),error:n.registrationExpiry,required:!0,disabled:o})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(Tg,{className:"section-icon"}),"Maintenance Information"]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{className:"form-label",children:["Maintenance Schedule ",v.jsx("span",{className:"required",children:"*"})]}),v.jsxs("select",{value:r.maintenanceSchedule,onChange:b=>p("maintenanceSchedule",b.target.value),className:"role-select",disabled:o,children:[v.jsx("option",{value:"monthly",children:"Monthly"}),v.jsx("option",{value:"quarterly",children:"Quarterly"}),v.jsx("option",{value:"annually",children:"Annually"}),v.jsx("option",{value:"as_needed",children:"As Needed"})]})]}),v.jsxs("div",{className:"form-row",children:[v.jsx(se,{label:"Last Maintenance Date",type:"date",value:r.lastMaintenanceDate,onChange:b=>p("lastMaintenanceDate",b),disabled:o}),v.jsx(se,{label:"Next Maintenance Date",type:"date",value:r.nextMaintenanceDate,onChange:b=>p("nextMaintenanceDate",b),disabled:o})]})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(md,{className:"section-icon"}),"Location & Assignment"]}),v.jsx(se,{label:"Location",type:"text",value:r.location,onChange:b=>p("location",b),placeholder:"Enter current location",error:n.location,required:!0,disabled:o}),v.jsx(se,{label:"Assigned To",type:"text",value:r.assignedTo||"",onChange:b=>p("assignedTo",b),placeholder:"Enter assigned operator (optional)",disabled:o})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("h3",{className:"form-section-title",children:[v.jsx(bo,{className:"section-icon"}),"Additional Information"]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Notes"}),v.jsx("textarea",{value:r.notes||"",onChange:b=>p("notes",b.target.value),placeholder:"Enter any additional notes or special requirements...",className:"form-textarea",style:{backgroundColor:"#ffffff",color:"#000000"},rows:4,disabled:o})]})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx(en,{type:"submit",variant:"primary",disabled:o,children:o?"Saving Vehicle...":"Save Vehicle"}),v.jsx(en,{type:"button",variant:"secondary",onClick:A,disabled:o,children:"Cancel"})]})]})]})]})};function LO(){return v.jsx(pS,{children:v.jsxs(sn,{path:"/",element:v.jsx(uO,{}),children:[v.jsx(sn,{index:!0,element:v.jsx(D0,{})}),v.jsx(sn,{path:"cadastro-usuario",element:v.jsx(D0,{})}),v.jsx(sn,{path:"cadastro-servico",element:v.jsx(RO,{})}),v.jsx(sn,{path:"cadastro-clientes",element:v.jsx(NO,{})}),v.jsx(sn,{path:"cadastro-funcionario",element:v.jsx(IO,{})}),v.jsx(sn,{path:"cadastro-subcontratados",element:v.jsx(xO,{})}),v.jsx(sn,{path:"cadastro-servicos-contratados",element:v.jsx(PO,{})}),v.jsx(sn,{path:"cadastro-financiamentos",element:v.jsx(VO,{})}),v.jsx(sn,{path:"cadastro-veiculos",element:v.jsx(kO,{})})]})})}function UO(){function r(){return v.jsx("div",{children:"Register"})}return v.jsx(Vx,{children:v.jsxs(pS,{children:[v.jsx(sn,{path:Um.home,element:v.jsx(qm,{})}),v.jsx(sn,{path:Um.login,element:v.jsx(qm,{})}),v.jsx(sn,{path:Um.register,element:v.jsx(r,{})}),v.jsx(sn,{path:"*",element:v.jsx(qm,{})}),v.jsx(sn,{path:"/admin/*",element:v.jsx(Gx,{required:"admin",children:v.jsx(LO,{})})})]})})}function qO(){return v.jsx(ED,{children:v.jsx(UO,{})})}uw.createRoot(document.getElementById("root")).render(v.jsx(z.StrictMode,{children:v.jsx(qO,{})}));
